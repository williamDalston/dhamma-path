<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-md mx-auto bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-2xl font-bold text-center mb-6">Timer Test</h1>
        
        <!-- Timer Display -->
        <div class="text-center mb-6">
            <div id="timer-display" class="text-6xl font-bold text-green-600 mb-4">10:00</div>
            <div id="timer-status" class="text-lg text-gray-600">Ready to begin</div>
        </div>
        
        <!-- Duration Selection -->
        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">Duration:</label>
            <select id="timer-duration" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                <option value="300">5 minutes</option>
                <option value="600" selected>10 minutes</option>
                <option value="900">15 minutes</option>
                <option value="1200">20 minutes</option>
            </select>
        </div>
        
        <!-- Control Buttons -->
        <div class="flex space-x-4">
            <button id="timer-start-btn" class="flex-1 bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700">
                Start Timer
            </button>
            <button id="timer-pause-btn" class="flex-1 bg-yellow-600 text-white py-3 px-4 rounded-md hover:bg-yellow-700 hidden">
                Pause
            </button>
            <button id="timer-reset-btn" class="flex-1 bg-gray-600 text-white py-3 px-4 rounded-md hover:bg-gray-700">
                Reset
            </button>
        </div>
    </div>

    <script>
        // Simple timer implementation
        let timeRemaining = 600;
        let isRunning = false;
        let timerInterval = null;

        function updateDisplay() {
            const display = document.getElementById('timer-display');
            const status = document.getElementById('timer-status');
            
            if (display) {
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                display.textContent = displayText;
                console.log('Updated display to:', displayText);
            }
            
            if (status) {
                if (isRunning) {
                    status.textContent = 'Running...';
                } else {
                    status.textContent = 'Ready to begin';
                }
            }
        }

        function startTimer() {
            console.log('ðŸš€ STARTING TIMER ðŸš€');
            
            const durationSelect = document.getElementById('timer-duration');
            const duration = durationSelect ? parseInt(durationSelect.value) : 600;
            
            const display = document.getElementById('timer-display');
            if (!display) {
                console.error('Timer display element not found!');
                return;
            }
            
            console.log('Timer display element found:', display);
            console.log('Starting timer with duration:', duration, 'seconds');
            
            // Clear any existing timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Set initial values
            timeRemaining = duration;
            isRunning = true;
            
            // Update display immediately
            updateDisplay();
            
            // Hide start button, show pause button
            const startBtn = document.getElementById('timer-start-btn');
            const pauseBtn = document.getElementById('timer-pause-btn');
            if (startBtn) startBtn.classList.add('hidden');
            if (pauseBtn) pauseBtn.classList.remove('hidden');
            
            // Start the timer
            timerInterval = setInterval(() => {
                if (timeRemaining > 0) {
                    timeRemaining--;
                    updateDisplay();
                    console.log('Timer tick:', timeRemaining);
                } else {
                    // Timer finished
                    clearInterval(timerInterval);
                    isRunning = false;
                    display.textContent = '00:00';
                    console.log('Timer finished!');
                    
                    // Reset buttons
                    if (startBtn) startBtn.classList.remove('hidden');
                    if (pauseBtn) pauseBtn.classList.add('hidden');
                }
            }, 1000);
        }

        function pauseTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                isRunning = false;
                console.log('Timer paused');
            }
        }

        function resetTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            isRunning = false;
            
            const durationSelect = document.getElementById('timer-duration');
            const duration = durationSelect ? parseInt(durationSelect.value) : 600;
            timeRemaining = duration;
            
            updateDisplay();
            console.log('Timer reset to:', duration);
            
            // Reset buttons
            const startBtn = document.getElementById('timer-start-btn');
            const pauseBtn = document.getElementById('timer-pause-btn');
            if (startBtn) startBtn.classList.remove('hidden');
            if (pauseBtn) pauseBtn.classList.add('hidden');
        }

        // Event listeners
        document.getElementById('timer-start-btn').addEventListener('click', startTimer);
        document.getElementById('timer-pause-btn').addEventListener('click', pauseTimer);
        document.getElementById('timer-reset-btn').addEventListener('click', resetTimer);

        // Initialize display
        updateDisplay();
        
        console.log('Timer test page loaded');
    </script>
</body>
</html>
