<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    
    <!-- Primary SEO Meta Tags -->
    <title>The Dhamma Path - Transform Your Mornings, Transform Your Life</title>
    <meta name="title" content="The Dhamma Path - Transform Your Mornings, Transform Your Life">
    <meta name="description" content="Build a powerful morning routine with meditation, journaling, exercise, and confidence practice. Start each day with purpose and transform your life through mindful habits and timeless wisdom.">
    <meta name="keywords" content="morning routine, meditation timer, mindful journaling, 7-minute workout, confidence practice, Buddhist wisdom, mindfulness, self-help, personal development, daily habits, meditation, journaling, exercise, video practice">
    <meta name="author" content="Will Alston">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thedhammapath.com/">
    <meta property="og:title" content="The Dhamma Path - Transform Your Mornings, Transform Your Life">
    <meta property="og:description" content="Build a powerful morning routine with meditation, journaling, exercise, and confidence practice. Start each day with purpose and transform your life through mindful habits and timeless wisdom.">
    <meta property="og:image" content="https://thedhammapath.com/og-image.jpg">
    <meta property="og:site_name" content="The Dhamma Path">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://thedhammapath.com/">
    <meta property="twitter:title" content="The Dhamma Path - Transform Your Mornings, Transform Your Life">
    <meta property="twitter:description" content="Build a powerful morning routine with meditation, journaling, exercise, and confidence practice. Start each day with purpose and transform your life through mindful habits and timeless wisdom.">
    <meta property="twitter:image" content="https://thedhammapath.com/og-image.jpg">
    <meta property="twitter:creator" content="@thedhammapath">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#4A6C55">
    <meta name="msapplication-TileColor" content="#4A6C55">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="The Dhamma Path">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), interest-cohort=()">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://thedhammapath.com/">
    
    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Additional SEO Links -->
    <link rel="alternate" type="application/rss+xml" title="The Dhamma Path RSS Feed" href="/rss.xml">
    
    <!-- Enhanced SEO Meta Tags -->
    <meta name="google-site-verification" content="your-google-verification-code">
    <meta name="msvalidate.01" content="your-bing-verification-code">
    <meta name="yandex-verification" content="your-yandex-verification-code">
    
    <!-- Additional Performance Hints -->
    <link rel="prefetch" href="#timer">
    <link rel="prefetch" href="#journal">
    <link rel="prefetch" href="#workout">
    <link rel="prefetch" href="#interview">
    
    <!-- Performance Hints - Critical Resource Preloading -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    
    <!-- Additional Performance Optimizations -->
    <link rel="preload" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxsaW5lYXJncmFkaWVudCBpZD0ibG9nb0dyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjpjdXJyZW50Q29sb3I7c3RvcC1vcGFjaXR5OjAuOCIgLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOmN1cnJlbnRDb2xvcjtzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhcmdyYWRpZW50PjwvZGVmcz48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ1cmwoI2xvZ29HcmFkaWVudCkiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iMC4zIi8+PHBhdGggY2xhc3M9ImxvZ28tcGF0aCIgZmlsbD0idXJsKCNsb2dvR3JhZGllbnQpIiBzdHJva2U9Im5vbmUiIGQ9Ik0yMCA4MCBDIDMwIDQ1LCA1MCAzMCwgNTAgMjAgQyA1MCAzMCwgNjAgNDAsIDcwIDUwIEMgOTAgNDAsIDgwIDcwLCA1MCA4MCBDIDIwIDkwLCAzMCA1MCwgMjAgODAgWiIgLz48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIzIiBmaWxsPSJjdXJyZW50Q29sb3IiIG9wYWNpdHk9IjAuNiIvPjwvc3ZnPg==" as="image" type="image/svg+xml">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Critical Font Preloading - Only Essential Weights -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Lora:wght@400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Lora:wght@400;700&display=swap" rel="stylesheet"></noscript>
    
    <!-- Tailwind CSS - Optimized Loading -->
    <script>
        // Inline critical Tailwind classes to prevent FOUC
        const criticalClasses = 'container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl min-h-screen bg-linen-white text-charcoal font-inter';
        document.documentElement.className += ' ' + criticalClasses;
    </script>
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script>
        // Suppress Tailwind CSS production warning
        window.tailwindConfig = {
            theme: {
                extend: {}
            }
        };
    </script>

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "The Dhamma Path",
        "description": "Build a powerful morning routine with meditation, journaling, exercise, and confidence practice. Start each day with purpose and transform your life through mindful habits and timeless wisdom.",
        "url": "https://thedhammapath.com",
        "applicationCategory": "HealthApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Person",
            "name": "Will Alston"
        },
        "featureList": [
            "Meditation Timer",
            "Mindful Journaling",
            "7-Minute Workout",
            "Confidence Practice",
            "Progress Tracking",
            "Buddhist Wisdom"
        ],
        "screenshot": "https://thedhammapath.com/screenshot.jpg",
        "softwareVersion": "1.0",
        "datePublished": "2025-01-01",
        "dateModified": "2025-01-01",
        "inLanguage": "en-US",
        "isAccessibleForFree": true,
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareHelp": "https://thedhammapath.com/about"
    }
    </script>

    <!-- Additional Structured Data for Features -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "name": "Morning Routine Features",
        "description": "Essential tools for building a powerful morning routine",
        "itemListElement": [
            {
                "@type": "SoftwareApplication",
                "position": 1,
                "name": "Meditation Timer",
                "description": "5-30 minute guided meditation sessions with customizable bells and progress tracking",
                "applicationCategory": "HealthApplication",
                "operatingSystem": "Web Browser"
            },
            {
                "@type": "SoftwareApplication", 
                "position": 2,
                "name": "Mindful Journal",
                "description": "Freewriting practice with auto-save and flexible timing options for self-reflection",
                "applicationCategory": "HealthApplication",
                "operatingSystem": "Web Browser"
            },
            {
                "@type": "SoftwareApplication",
                "position": 3, 
                "name": "7-Minute Workout",
                "description": "High-intensity circuit training with visual guides and progress tracking",
                "applicationCategory": "HealthApplication",
                "operatingSystem": "Web Browser"
            },
            {
                "@type": "SoftwareApplication",
                "position": 4,
                "name": "Confidence Practice", 
                "description": "Video practice for storytelling, communication, and speaking confidence",
                "applicationCategory": "HealthApplication",
                "operatingSystem": "Web Browser"
            }
        ]
    }
    </script>

    <!-- Website Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "The Dhamma Path",
        "url": "https://thedhammapath.com",
        "description": "Transform your mornings with meditation, journaling, exercise, and confidence practice. Free tools for building powerful morning routines based on Buddhist wisdom.",
        "inLanguage": "en-US",
        "isAccessibleForFree": true,
        "publisher": {
            "@type": "Organization",
            "name": "The Dhamma Path",
            "url": "https://thedhammapath.com"
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://thedhammapath.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        },
        "mainEntity": {
            "@type": "WebApplication",
            "name": "The Dhamma Path",
            "applicationCategory": "HealthApplication",
            "operatingSystem": "Web Browser",
            "offers": {
                "@type": "Offer",
                "price": "0",
                "priceCurrency": "USD"
            }
        }
    }
    </script>

    <!-- Health and Wellness Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HealthAndBeautyBusiness",
        "name": "The Dhamma Path",
        "description": "A comprehensive wellness platform offering meditation, mindfulness, and personal development tools based on Buddhist wisdom",
        "url": "https://thedhammapath.com",
        "telephone": "",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "US"
        },
        "openingHours": "Mo-Su 00:00-23:59",
        "priceRange": "Free",
        "paymentAccepted": "Free",
        "currenciesAccepted": "USD",
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Wellness Services",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Meditation Timer",
                        "description": "Guided meditation sessions with customizable timers"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Mindful Journaling",
                        "description": "Digital journaling platform for self-reflection and growth"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "7-Minute Workout",
                        "description": "High-intensity circuit training for physical wellness"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Confidence Practice",
                        "description": "Video-based speaking and communication practice"
                    }
                }
            ]
        }
    }
    </script>

    <!-- Critical CSS - Above the fold styles -->
    <style>
        /* Critical CSS - Above the fold styles for instant paint */
        * { box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
            margin: 0; 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Critical layout classes */
        .container { width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .max-w-7xl { max-width: 80rem; }
        .min-h-screen { min-height: 100vh; }
        .bg-linen-white { background-color: #FDFBF5; }
        .text-charcoal { color: #333333; }
        .font-inter { font-family: 'Inter', sans-serif; }
        
        /* Critical animations */
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        /* Prevent layout shift */
        .loading { display: none; }
        img { max-width: 100%; height: auto; }
        
        /* Critical button styles */
        button { 
            cursor: pointer; 
            border: none; 
            background: none; 
            font-family: inherit;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Critical responsive utilities */
        @media (min-width: 640px) {
            .sm\:px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        }
        @media (min-width: 1024px) {
            .lg\:px-8 { padding-left: 2rem; padding-right: 2rem; }
        }
    </style>

    <!-- Custom Styles and Dark Mode Logic -->
    <style>
        :root {
            --linen-white: #FDFBF5;
            --charcoal: #333333;
            --forest-green: #4A6C55;
            --earthy-gold: #B98B4C;
            --light-gold: #EADDC7;
            --light-green: #E4EAE6;
            --gradient-primary: linear-gradient(135deg, #4A6C55 0%, #6B8E6B 100%);
            --gradient-secondary: linear-gradient(135deg, #B98B4C 0%, #D4A574 100%);
            --shadow-soft: 0 4px 20px rgba(74, 108, 85, 0.1);
            --shadow-hover: 0 8px 30px rgba(74, 108, 85, 0.15);
            --text-gradient: linear-gradient(135deg, var(--forest-green), var(--earthy-gold));
            --breathing-gradient: linear-gradient(135deg, var(--linen-white), var(--light-green), var(--linen-white));
            --ripple-color: rgba(228, 234, 230, 0.3);
        }

        /* Light Mode */
        html {
            background-color: var(--linen-white);
            color: var(--charcoal);
        }

        /* Dark Mode */
        html.dark {
            background-color: #1a1a1a;
            color: #d1d1d1;
        }
        
        html.dark .bg-linen-white { background-color: #1a1a1a; }
        html.dark .text-charcoal { color: #d1d1d1; }
        html.dark .text-forest-green { color: #86b596; }
        html.dark .text-earthy-gold { color: #dcb981; }
        html.dark .border-earthy-gold { border-color: #dcb981; }
        html.dark .bg-light-gold { background-color: #3a3021; }
        html.dark .bg-light-green { background-color: #2c3a32; }
        html.dark .bg-charcoal { background-color: #111; }
        html.dark .fill-charcoal { fill: #d1d1d1; }
        html.dark nav, html.dark footer {
             background-color: #111;
             border-color: #444;
        }
        html.dark .hover\:bg-gray-100:hover {
            background-color: #333;
        }
         html.dark .logo-path {
            stroke: var(--linen-white);
        }
        html.dark .prose-p\:text-charcoal\/80 p { color: #d1d1d1; }
        html.dark .border-black\/5 { border-color: #ffffff1a; }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.8;
            font-size: 18px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }
        
        /* Performance optimizations */
        * {
            box-sizing: border-box;
        }
        
        /* Mobile-specific performance optimizations */
        @media (max-width: 768px) {
            /* Reduce animations on mobile for better performance */
            .floating-particle {
                animation-duration: 8s;
            }
            
            /* Optimize transitions for mobile */
            * {
                transition-duration: 0.2s !important;
            }
            
            /* Reduce complex animations */
            .group:hover .group-hover\:scale-110 {
                transform: scale(1.05);
            }
            
            /* Optimize scrolling performance */
            .overflow-y-auto {
                -webkit-overflow-scrolling: touch;
                scroll-behavior: smooth;
            }
            
            .ambient-breathe {
                animation-duration: 6s;
            }
            
            .ambient-float {
                animation-duration: 10s;
            }
            
            /* Optimize hover effects for touch devices */
            .hover\:scale-105:hover {
                transform: scale(1.02);
            }
            
            .hover\:shadow-2xl:hover {
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }
            
            /* Better touch feedback */
            .touch-manipulation {
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent;
            }
            
            /* Improved mobile scrolling */
            .overflow-y-auto {
                -webkit-overflow-scrolling: touch;
            }
            
            /* Better mobile focus states */
            .focus\:ring-4:focus {
                box-shadow: 0 0 0 3px rgba(74, 108, 85, 0.3);
            }
            
            /* Enhanced mobile accessibility */
            .sr-only {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
            }
            
            /* Better mobile text selection */
            ::selection {
                background-color: rgba(74, 108, 85, 0.2);
                color: inherit;
            }
            
            /* Improved mobile button states */
            button:active {
                transform: scale(0.98);
            }
            
            /* Better mobile link states */
            a:active {
                transform: scale(0.99);
            }
            
            /* Enhanced mobile scrolling */
            body {
                -webkit-overflow-scrolling: touch;
            }
        }

        /* === FORM VALIDATION SYSTEM === */
        
        /* Form Group Container */
        .form-group {
            position: relative;
            margin-bottom: var(--space-4);
        }

        .form-label {
            display: block;
            font-weight: var(--font-medium);
            color: var(--color-neutral-700);
            margin-bottom: var(--space-2);
            font-size: var(--text-sm);
        }

        /* Input with Error State */
        .input-error {
            border-color: var(--color-error-500) !important;
            box-shadow: 0 0 0 3px var(--color-error-50) !important;
        }

        .input-error:focus {
            border-color: var(--color-error-500) !important;
            box-shadow: 0 0 0 3px var(--color-error-100) !important;
        }

        /* Input with Success State */
        .input-success {
            border-color: var(--color-success-500) !important;
            box-shadow: 0 0 0 3px var(--color-success-50) !important;
        }

        .input-success:focus {
            border-color: var(--color-success-500) !important;
            box-shadow: 0 0 0 3px var(--color-success-100) !important;
        }

        /* Form Messages */
        .form-error {
            color: var(--color-error-600);
            font-size: var(--text-sm);
            margin-top: var(--space-1);
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .form-error::before {
            content: 'âš ';
            font-size: var(--text-xs);
        }

        .form-success {
            color: var(--color-success-600);
            font-size: var(--text-sm);
            margin-top: var(--space-1);
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .form-success::before {
            content: 'âœ“';
            font-size: var(--text-xs);
        }

        .form-help {
            color: var(--color-neutral-600);
            font-size: var(--text-xs);
            margin-top: var(--space-1);
        }

        /* Required Field Indicator */
        .form-label.required::after {
            content: ' *';
            color: var(--color-error-500);
        }
        
        .stagger-in {
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Word-by-word fade-in animation */
        .word-fade-in {
            opacity: 0;
            animation: wordFadeIn 0.8s ease-out forwards;
        }
        
        @keyframes wordFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Breathing background animation */
        .breathing-bg {
            animation: breathe 8s ease-in-out infinite;
        }
        
        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Preview overlay animations */
        .preview-overlay {
            pointer-events: none;
        }
        
        .group:hover .preview-overlay {
            pointer-events: auto;
        }

        /* Button morphing animations */
        .btn-morph {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .btn-morph:hover {
            transform: translateY(-2px) scale(1.02);
        }
        
        .btn-morph:active {
            transform: translateY(0) scale(0.98);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Floating animation for background elements */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        .float-animation:nth-child(2) {
            animation-delay: -2s;
            animation-duration: 8s;
        }
        
        .float-animation:nth-child(3) {
            animation-delay: -4s;
            animation-duration: 7s;
        }
        
        /* Pulse animation for progress bars */
        @keyframes progressPulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(34, 197, 94, 0); }
        }
        
        .progress-pulse {
            animation: progressPulse 2s ease-in-out infinite;
        }
        
        /* Gentle bounce for cards */
        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
        }
        
        .gentle-bounce:hover {
            animation: gentleBounce 0.6s ease-in-out;
        }
        
        /* Shimmer effect for progress bars */
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        /* Breathing animation for meditation elements */
        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .breathe {
            animation: breathe 4s ease-in-out infinite;
        }
        
        /* Typewriter effect */
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            animation: typewriter 2s steps(40, end);
        }
        
        /* Gentle rotation for icons */
        @keyframes gentleRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .gentle-rotate {
            animation: gentleRotate 20s linear infinite;
        }
        
        /* Fade in from left */
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .slide-in-left {
            animation: slideInLeft 0.6s ease-out;
        }
        
        /* Fade in from right */
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .slide-in-right {
            animation: slideInRight 0.6s ease-out;
        }
        
        /* Page transition animations */
        @keyframes pageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .page-transition {
            animation: pageSlideIn 0.6s ease-out;
        }
        
        /* Loading spinner animation */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .loading-spinner {
            animation: spin 1s linear infinite;
        }
        
        /* Pulse animation for active elements */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* Gentle wiggle for attention */
        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-2deg); }
            75% { transform: rotate(2deg); }
        }
        
        .wiggle {
            animation: wiggle 0.5s ease-in-out;
        }
        
        /* Fade in with scale */
        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .fade-in-scale {
            animation: fadeInScale 0.5s ease-out;
        }
        
        /* Stagger animation for lists */
        .stagger-list > * {
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .stagger-list > *:nth-child(1) { animation-delay: 0.1s; }
        .stagger-list > *:nth-child(2) { animation-delay: 0.2s; }
        .stagger-list > *:nth-child(3) { animation-delay: 0.3s; }
        .stagger-list > *:nth-child(4) { animation-delay: 0.4s; }
        .stagger-list > *:nth-child(5) { animation-delay: 0.5s; }
        .stagger-list > *:nth-child(6) { animation-delay: 0.6s; }
        .stagger-list > *:nth-child(7) { animation-delay: 0.7s; }
        .stagger-list > *:nth-child(8) { animation-delay: 0.8s; }

        /* ðŸŒ… Background & Section Accents */
        .soft-gradient-bg {
            background: linear-gradient(to bottom, var(--linen-white), var(--light-green));
        }
        
        .radial-spotlight {
            background: radial-gradient(ellipse at center, rgba(184, 139, 76, 0.1) 0%, transparent 70%);
        }

        /* âœ¨ Text Enhancements */
        .text-gradient {
            background: var(--text-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .text-glow {
            text-shadow: 0 0 20px rgba(74, 108, 85, 0.3);
        }
        
        .text-glow-dark {
            text-shadow: 0 0 15px rgba(228, 234, 230, 0.2);
        }

        /* ðŸŒ¿ Interactive Elements */
        .hover-soft {
            transition: background 0.3s ease, transform 0.2s ease;
        }
        
        .hover-soft:hover {
            background: var(--light-green);
            transform: translateY(-1px);
        }
        
        .gradient-underline {
            position: relative;
            text-decoration: none;
        }
        
        .gradient-underline::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background: var(--text-gradient);
            transition: width 0.3s ease;
            pointer-events: none;
        }
        
        .gradient-underline:hover::after {
            width: 100%;
        }

        /* Ripple Effect */
        .ripple {
            position: relative;
            overflow: hidden;
        }
        
        .ripple::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: var(--ripple-color);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
            pointer-events: none;
        }
        
        .ripple:active::before {
            width: 300px;
            height: 300px;
        }

        /* ðŸŒŒ Section Dividers */
        .shimmer-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--earthy-gold), transparent);
            position: relative;
            overflow: hidden;
        }
        
        .shimmer-divider::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(184, 139, 76, 0.5), transparent);
            animation: shimmer-sweep 3s infinite;
            pointer-events: none;
        }
        
        @keyframes shimmer-sweep {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* ðŸŒ¸ Ambient Motion */
        .breathing-bg {
            background: var(--breathing-gradient);
            background-size: 200% 200%;
            animation: breathe-bg 20s ease-in-out infinite;
        }
        
        @keyframes breathe-bg {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .floating-particles {
            position: relative;
            overflow: hidden;
        }
        
        .floating-particles::before,
        .floating-particles::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(184, 139, 76, 0.3);
            border-radius: 50%;
            animation: float-particle 15s infinite linear;
        }
        
        .floating-particles::before {
            left: 10%;
            animation-delay: 0s;
        }
        
        .floating-particles::after {
            left: 80%;
            animation-delay: -7s;
        }
        
        @keyframes float-particle {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(20px);
                opacity: 0;
            }
        }

        /* ðŸŒ¸ Additional Subtle Enhancements */
        
        /* Micro-interactions */
        .focus-grow:focus {
            transform: scale(1.02);
            transition: transform 0.2s ease;
        }
        
        .card-breathe {
            animation: cardBreathe 8s ease-in-out infinite;
        }
        
        @keyframes cardBreathe {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.95; transform: scale(1.01); }
        }
        
        .icon-breathe {
            animation: iconBreathe 6s ease-in-out infinite;
        }
        
        @keyframes iconBreathe {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }
        
        /* Enhanced focus states */
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(74, 108, 85, 0.3);
            transition: box-shadow 0.2s ease;
        }
        
        /* Glass morphism effect */
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Gentle parallax */
        .parallax-slow {
            transform: translateY(0);
            transition: transform 0.1s ease-out;
        }
        
        /* Time-based subtle theming */
        .morning-theme {
            --accent-warmth: rgba(184, 139, 76, 0.1);
        }
        
        .evening-theme {
            --accent-warmth: rgba(74, 108, 85, 0.1);
        }
        
        /* Zen garden particles */
        .zen-particles::before,
        .zen-particles::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(184, 139, 76, 0.4);
            border-radius: 50%;
            animation: zenFloat 12s infinite linear;
        }
        
        .zen-particles::before {
            left: 20%;
            animation-delay: 0s;
        }
        
        .zen-particles::after {
            left: 70%;
            animation-delay: -6s;
        }
        
        @keyframes zenFloat {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-50px) translateX(30px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Subtle loading states */
        .loading-pulse {
            animation: loadingPulse 2s ease-in-out infinite;
        }
        
        @keyframes loadingPulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        
        /* Enhanced button states */
        .btn-zen {
            position: relative;
            overflow: hidden;
        }
        
        .btn-zen::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
            pointer-events: none;
        }
        
        .btn-zen:hover::before {
            left: 100%;
        }
        
        /* Ambient Motion Effects */
        .ambient-breathe {
            animation: ambientBreathe 8s ease-in-out infinite;
        }
        
        .ambient-float {
            animation: ambientFloat 12s ease-in-out infinite;
        }
        
        .ambient-gradient {
            background: linear-gradient(-45deg, #f0f8f0, #e8f5e8, #f5f0e8, #f0f8f0);
            background-size: 400% 400%;
            animation: ambientGradient 20s ease infinite;
        }
        
        .ambient-shadow {
            animation: ambientShadow 6s ease-in-out infinite;
        }
        
        .floating-particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: particleFloat 15s linear infinite;
        }
        
        .particle-1 { width: 6px; height: 6px; background: rgba(45, 80, 22, 0.3); box-shadow: 0 0 8px rgba(45, 80, 22, 0.5); }
        .particle-2 { width: 8px; height: 8px; background: rgba(184, 134, 11, 0.25); box-shadow: 0 0 10px rgba(184, 134, 11, 0.4); }
        .particle-3 { width: 5px; height: 5px; background: rgba(212, 237, 218, 0.4); box-shadow: 0 0 6px rgba(212, 237, 218, 0.6); }
        .particle-4 { width: 7px; height: 7px; background: rgba(45, 80, 22, 0.2); box-shadow: 0 0 9px rgba(45, 80, 22, 0.4); }
        .particle-5 { width: 6px; height: 6px; background: rgba(184, 134, 11, 0.3); box-shadow: 0 0 8px rgba(184, 134, 11, 0.5); }
        
        @keyframes ambientBreathe {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.02); opacity: 1; }
        }
        
        @keyframes ambientFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(1deg); }
            50% { transform: translateY(-5px) rotate(-1deg); }
            75% { transform: translateY(-15px) rotate(0.5deg); }
        }
        
        @keyframes ambientGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes ambientShadow {
            0%, 100% { 
                box-shadow: 0 10px 25px rgba(45, 80, 22, 0.1), 0 4px 10px rgba(0, 0, 0, 0.05);
            }
            50% { 
                box-shadow: 0 15px 35px rgba(45, 80, 22, 0.15), 0 6px 15px rgba(0, 0, 0, 0.08);
            }
        }
        
        @keyframes particleFloat {
            0% { 
                transform: translateY(100vh) translateX(0px) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { 
                transform: translateY(-100px) translateX(50px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Enhanced breathing for existing elements */
        .enhanced-breathe {
            animation: enhancedBreathe 6s ease-in-out infinite;
        }
        
        @keyframes enhancedBreathe {
            0%, 100% { 
                transform: scale(1) translateY(0px);
                filter: brightness(1);
            }
            50% { 
                transform: scale(1.01) translateY(-2px);
                filter: brightness(1.02);
            }
        }
        
        /* Gentle card breathing */
        .card-breathe-gentle {
            animation: cardBreatheGentle 8s ease-in-out infinite;
        }
        
        @keyframes cardBreatheGentle {
            0%, 100% { 
                transform: translateY(0px);
                box-shadow: 0 10px 25px rgba(45, 80, 22, 0.1);
            }
            50% { 
                transform: translateY(-1px);
                box-shadow: 0 12px 30px rgba(45, 80, 22, 0.12);
            }
        }
        
        /* Typography Enhancements */
        
        /* Beautiful Text Selection Styling */
        ::selection {
            background: linear-gradient(135deg, rgba(45, 80, 22, 0.2), rgba(184, 134, 11, 0.2));
            color: #2d5016;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }
        
        ::-moz-selection {
            background: linear-gradient(135deg, rgba(45, 80, 22, 0.2), rgba(184, 134, 11, 0.2));
            color: #2d5016;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }
        
        /* Smooth Text Transitions */
        .text-smooth-transition {
            transition: color 0.3s ease, text-shadow 0.3s ease, transform 0.3s ease;
        }
        
        .text-smooth-transition:hover {
            color: #2d5016;
            text-shadow: 0 2px 4px rgba(45, 80, 22, 0.1);
            transform: translateY(-1px);
        }
        
        /* Enhanced Typography Hierarchy */
        .text-hierarchy-1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.1;
            letter-spacing: -0.02em;
            margin-bottom: 1.5rem;
        }
        
        .text-hierarchy-2 {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.01em;
            margin-bottom: 1.25rem;
        }
        
        .text-hierarchy-3 {
            font-size: 1.875rem;
            font-weight: 600;
            line-height: 1.3;
            letter-spacing: 0;
            margin-bottom: 1rem;
        }
        
        .text-hierarchy-4 {
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.4;
            letter-spacing: 0;
            margin-bottom: 0.875rem;
        }
        
        .text-hierarchy-5 {
            font-size: 1.25rem;
            font-weight: 500;
            line-height: 1.5;
            letter-spacing: 0;
            margin-bottom: 0.75rem;
        }
        
        .text-body-large {
            font-size: 1.125rem;
            font-weight: 400;
            line-height: 1.7;
            letter-spacing: 0.01em;
        }
        
        .text-body {
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.6;
            letter-spacing: 0.01em;
        }
        
        .text-body-small {
            font-size: 0.875rem;
            font-weight: 400;
            line-height: 1.5;
            letter-spacing: 0.02em;
        }
        
        /* Reading Progress Indicator */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #2d5016, #b8860b, #d4edda);
            z-index: 1000;
            transition: width 0.3s ease;
            box-shadow: 0 2px 4px rgba(45, 80, 22, 0.2);
        }
        
        /* Enhanced Text Effects */
        .text-glow-subtle {
            text-shadow: 0 0 20px rgba(45, 80, 22, 0.1);
        }
        
        .text-glow-medium {
            text-shadow: 0 0 30px rgba(45, 80, 22, 0.15);
        }
        
        .text-glow-strong {
            text-shadow: 0 0 40px rgba(45, 80, 22, 0.2);
        }
        
        /* Smooth Color Transitions for Links */
        .link-smooth {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        
        .link-smooth:hover {
            color: #2d5016;
            transform: translateY(-1px);
        }
        
        .link-smooth::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #2d5016, #b8860b);
            transition: width 0.3s ease;
        }
        
        .link-smooth:hover::after {
            width: 100%;
        }
        
        /* Enhanced Paragraph Spacing */
        .paragraph-spacing {
            margin-bottom: 1.5rem;
        }
        
        .paragraph-spacing:last-child {
            margin-bottom: 0;
        }
        
        /* Typography Focus States */
        .text-focus {
            transition: all 0.2s ease;
        }
        
        .text-focus:focus {
            outline: none;
            color: #2d5016;
            text-shadow: 0 0 8px rgba(45, 80, 22, 0.2);
        }
        
        /* Reading Flow Enhancements */
        .reading-flow {
            max-width: 65ch;
            margin: 0 auto;
        }
        
        .reading-flow h1,
        .reading-flow h2,
        .reading-flow h3,
        .reading-flow h4,
        .reading-flow h5,
        .reading-flow h6 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .reading-flow p {
            margin-bottom: 1.25rem;
        }
        
        .reading-flow ul,
        .reading-flow ol {
            margin-bottom: 1.25rem;
            padding-left: 1.5rem;
        }
        
        .reading-flow li {
            margin-bottom: 0.5rem;
        }
        
        /* Enhanced Quote Styling */
        .quote-enhanced {
            position: relative;
            padding: 2rem;
            margin: 2rem 0;
            background: linear-gradient(135deg, rgba(45, 80, 22, 0.05), rgba(184, 134, 11, 0.05));
            border-left: 4px solid #2d5016;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            font-size: 1.125rem;
            line-height: 1.7;
        }
        
        .quote-enhanced::before {
            content: '"';
            position: absolute;
            top: -10px;
            left: 20px;
            font-size: 4rem;
            color: rgba(45, 80, 22, 0.2);
            font-family: serif;
        }
        
        /* Micro-Interactions & Feedback */
        
        /* Button Press Animations */
        .btn-press {
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .btn-press:active {
            transform: translateY(2px) scale(0.98);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .btn-press:active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            animation: pressRipple 0.3s ease-out;
        }
        
        @keyframes pressRipple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(1);
                opacity: 0;
            }
        }
        
        /* Enhanced Form Focus States */
        .form-focus {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        
        .form-focus:focus {
            outline: none;
            border-color: #2d5016;
            box-shadow: 0 0 0 3px rgba(45, 80, 22, 0.1), 0 0 0 6px rgba(45, 80, 22, 0.05);
            transform: translateY(-1px);
        }
        
        .form-focus:focus::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border: 2px solid transparent;
            border-radius: inherit;
            background: linear-gradient(45deg, #2d5016, #b8860b) border-box;
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            animation: focusPulse 2s ease-in-out infinite;
        }
        
        @keyframes focusPulse {
            0%, 100% {
                opacity: 0.3;
            }
            50% {
                opacity: 0.8;
            }
        }
        
        /* Skeleton Loading States */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeletonLoading 1.5s infinite;
            border-radius: 4px;
        }
        
        .skeleton-text {
            height: 1em;
            margin-bottom: 0.5rem;
        }
        
        .skeleton-text:last-child {
            margin-bottom: 0;
        }
        
        .skeleton-text.w-3\/4 {
            width: 75%;
        }
        
        .skeleton-text.w-1\/2 {
            width: 50%;
        }
        
        .skeleton-text.w-1\/4 {
            width: 25%;
        }
        
        .skeleton-card {
            padding: 1.5rem;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        @keyframes skeletonLoading {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
        
        /* Success/Error Feedback */
        .feedback-success {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 1px solid #c3e6cb;
            color: #155724;
            animation: feedbackSlideIn 0.4s ease-out;
        }
        
        .feedback-error {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border: 1px solid #f5c6cb;
            color: #721c24;
            animation: feedbackSlideIn 0.4s ease-out;
        }
        
        .feedback-info {
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            border: 1px solid #bee5eb;
            color: #0c5460;
            animation: feedbackSlideIn 0.4s ease-out;
        }
        
        @keyframes feedbackSlideIn {
            0% {
                transform: translateY(-20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* Button State Feedback */
        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            animation: successPulse 0.6s ease-out;
        }
        
        .btn-error {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            color: white;
            animation: errorShake 0.6s ease-out;
        }
        
        @keyframes successPulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
        
        @keyframes errorShake {
            0%, 100% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(-5px);
            }
            75% {
                transform: translateX(5px);
            }
        }
        
        /* Loading Spinner Enhancements */
        .loading-spinner-enhanced {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2d5016;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            position: relative;
        }
        
        .loading-spinner-enhanced::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid transparent;
            border-top: 2px solid #b8860b;
            border-radius: 50%;
            animation: spin 0.5s linear infinite reverse;
        }
        
        /* Progress Indicators */
        .progress-indicator {
            position: relative;
            overflow: hidden;
            background: #e9ecef;
            border-radius: 10px;
            height: 8px;
        }
        
        .progress-indicator::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progressShimmer 2s infinite;
        }
        
        @keyframes progressShimmer {
            0% {
                left: -100%;
            }
            100% {
                left: 100%;
            }
        }
        
        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            animation: toastSlideIn 0.3s ease-out;
            max-width: 300px;
        }
        
        .toast-success {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border-left: 4px solid #28a745;
            color: #155724;
        }
        
        .toast-error {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border-left: 4px solid #dc3545;
            color: #721c24;
        }
        
        .toast-info {
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            border-left: 4px solid #17a2b8;
            color: #0c5460;
        }
        
        @keyframes toastSlideIn {
            0% {
                transform: translateX(100%);
                opacity: 0;
            }
            100% {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Hover State Enhancements */
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .hover-glow {
            transition: all 0.3s ease;
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 20px rgba(45, 80, 22, 0.3);
        }
        
        /* Scroll-Based Animations */
        
        /* Parallax Elements */
        .parallax-slow {
            transform: translateZ(0);
            will-change: transform;
        }
        
        .parallax-medium {
            transform: translateZ(0);
            will-change: transform;
        }
        
        .parallax-fast {
            transform: translateZ(0);
            will-change: transform;
        }
        
        /* Fade-in on Scroll */
        .fade-in-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .fade-in-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .fade-in-scroll-left {
            opacity: 0;
            transform: translateX(-30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .fade-in-scroll-left.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .fade-in-scroll-right {
            opacity: 0;
            transform: translateX(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .fade-in-scroll-right.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .fade-in-scroll-scale {
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .fade-in-scroll-scale.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Sticky Elements */
        .sticky-element {
            position: sticky;
            top: 20px;
            z-index: 10;
            transition: all 0.3s ease;
        }
        
        .sticky-element.sticky {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 1rem;
        }
        
        /* Interactive Elements */
        
        /* Enhanced Ripple Effects */
        .ripple-enhanced {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .ripple-enhanced::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
            pointer-events: none;
        }
        
        .ripple-enhanced:active::before {
            width: 300px;
            height: 300px;
        }
        
        /* Card Lift Effects */
        .card-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }
        
        .card-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .card-lift:active {
            transform: translateY(-4px) scale(1.01);
        }
        
        /* Animated Link Underlines */
        .link-underline {
            position: relative;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .link-underline::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #2d5016, #b8860b);
            transition: width 0.3s ease;
        }
        
        .link-underline:hover::after {
            width: 100%;
        }
        
        .link-underline-draw {
            position: relative;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .link-underline-draw::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #2d5016, #b8860b);
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: left;
        }
        
        .link-underline-draw:hover::after {
            width: 100%;
        }
        
        /* Performance & Polish */
        
        /* Smooth Transitions */
        .smooth-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .smooth-transition-fast {
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .smooth-transition-slow {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Lazy Loading */
        .lazy-load {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }
        
        .lazy-load.loaded {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Error Boundaries */
        .error-boundary {
            padding: 2rem;
            text-align: center;
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            color: #721c24;
        }
        
        .error-boundary h3 {
            color: #721c24;
            margin-bottom: 1rem;
        }
        
        .error-boundary button {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .error-boundary button:hover {
            background: #c82333;
        }
        
        
        /* Loading States */
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeletonLoading 1.5s infinite;
            border-radius: 4px;
        }
        
        .loading-skeleton-text {
            height: 1em;
            margin-bottom: 0.5rem;
        }
        
        .loading-skeleton-text:last-child {
            margin-bottom: 0;
        }
        
        .skeleton-card {
            background: linear-gradient(90deg, #f8f9fa 25%, #e9ecef 50%, #f8f9fa 75%);
            background-size: 200% 100%;
            animation: skeletonLoading 1.5s infinite;
            border-radius: 0.5rem;
            height: 200px;
        }
        
        .skeleton-button {
            background: linear-gradient(90deg, #e9ecef 25%, #dee2e6 50%, #e9ecef 75%);
            background-size: 200% 100%;
            animation: skeletonLoading 1.5s infinite;
            border-radius: 0.375rem;
            height: 2.5rem;
            width: 120px;
        }
        
        /* Scroll Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #2d5016, #b8860b, #d4edda);
            z-index: 1000;
            transition: width 0.3s ease;
        }
        
        /* Intersection Observer Classes */
        .observe-fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .observe-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .observe-slide-left {
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .observe-slide-left.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .observe-slide-right {
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .observe-slide-right.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .observe-scale {
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .observe-scale.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Ripple Effect */
        .ripple-effect {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
        }

        /* Screen reader only class */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        /* Respect reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .breathing-bg,
            .card-breathe,
            .floating-particle,
            .group-hover\:scale-110 {
                animation: none !important;
                transform: none !important;
            }
            
            * {
                transition-duration: 0.01ms !important;
                animation-duration: 0.01ms !important;
            }
            .icon-breathe,
            .float-animation,
            .zen-particles::before,
            .zen-particles::after,
            .ambient-breathe,
            .ambient-float,
            .ambient-gradient,
            .ambient-shadow,
            .floating-particle,
            .enhanced-breathe,
            .card-breathe-gentle,
            .btn-press:active,
            .form-focus:focus::after,
            .skeleton,
            .feedback-success,
            .feedback-error,
            .feedback-info,
            .btn-success,
            .btn-error,
            .loading-spinner-enhanced,
            .progress-indicator::before,
            .toast,
            .parallax-slow,
            .parallax-medium,
            .parallax-fast,
            .fade-in-scroll,
            .fade-in-scroll-left,
            .fade-in-scroll-right,
            .fade-in-scroll-scale,
            .ripple-enhanced::before,
            .card-lift,
            .link-underline::after,
            .link-underline-draw::after,
            .loading-skeleton,
            .observe-fade-in,
            .observe-slide-left,
            .observe-slide-right,
            .observe-scale {
                animation: none !important;
                transform: none !important;
                transition: none !important;
            }
        }
        
        .slide-in-left {
            animation: slideInLeft 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0;
            transform: translateX(-30px);
        }
        
        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .slide-in-right {
            animation: slideInRight 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0;
            transform: translateX(30px);
        }
        
        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Workout specific animations */
        .workout-pulse {
            animation: workoutPulse 2s ease-in-out infinite;
        }
        
        @keyframes workoutPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .workout-bounce {
            animation: workoutBounce 1s ease-in-out infinite;
        }
        
        @keyframes workoutBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .workout-shake {
            animation: workoutShake 0.5s ease-in-out;
        }
        
        @keyframes workoutShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* Smooth scrolling for better UX */
        html {
            scroll-behavior: smooth;
        }
        
        body.fullscreen-active #header, body.fullscreen-active footer { display: none; }
        body.fullscreen-active #main-content { padding-top: 2rem; padding-bottom: 2rem; height: 100vh; }


        h1, h2, h3, h4, h5, h6, .font-lora {
            font-family: 'Lora', serif;
        }
        
        /* Global Enhancements */
        .btn-primary { 
            padding: 0.75rem 1.5rem;
            color: white;
            font-weight: 600;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            transform: scale(1);
            background: var(--gradient-primary);
            box-shadow: var(--shadow-soft);
            display: inline-block !important;
            visibility: visible !important;
        }
        .btn-primary:hover {
            transform: scale(1.05);
        }
        
        /* Ensure all start buttons are visible */
        #timer-start-btn, #journal-start-btn, #workout-start-btn, #start-recording-btn {
            background-color: #2d5016 !important;
            color: white !important;
            display: inline-block !important;
            visibility: visible !important;
            border: 2px solid #2d5016 !important;
            font-weight: bold !important;
            position: relative !important;
            z-index: 10 !important;
            pointer-events: auto !important;
        }
        
        #timer-start-btn:hover, #journal-start-btn:hover, #workout-start-btn:hover, #start-recording-btn:hover {
            background-color: #1a3009 !important;
            border-color: #1a3009 !important;
        }
        .btn-primary:hover {
            box-shadow: var(--shadow-hover);
        }
        .btn-secondary { 
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: 2px solid var(--earthy-gold);
            color: var(--earthy-gold);
            font-weight: 600;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            transform: scale(1);
            background: linear-gradient(135deg, transparent 0%, rgba(185, 139, 76, 0.05) 100%);
        }
        .btn-secondary:hover {
            transform: scale(1.05);
        }
        .btn-secondary:hover {
            background: var(--gradient-secondary);
            color: white;
            border-color: transparent;
        }
        
        .main-nav-link, .timer-duration-btn, button, .card-link {
            transition: all 0.4s ease-in-out;
        }
        .card-link {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform, box-shadow;
        }
        .card-link:hover {
             transform: translateY(-6px) scale(1.02);
             box-shadow: var(--shadow-hover);
        }
         html.dark .card-link:hover {
             box-shadow: 0 12px 40px rgba(0,0,0,0.3), 0 6px 12px rgba(0,0,0,0.2);
         }
        button:active {
            transform: scale(0.97);
        }
        
        .main-nav-link {
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .main-nav-link::before {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--forest-green);
            border-radius: 2px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(-50%);
        }
        .main-nav-link:hover::before {
            width: 100%;
        }
        .main-nav-link.active {
            font-weight: 700;
            color: var(--forest-green);
        }
        .main-nav-link.active::before {
            width: 100%;
        }
        html.dark .main-nav-link.active { color: #86b596; }
        html.dark .main-nav-link::before { background: #86b596; }
        
        
        a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible {
            outline: 2px solid var(--earthy-gold);
            outline-offset: 2px;
            border-radius: 4px;
        }
        
        /* Enhanced focus indicators for mobile */
        @media (max-width: 768px) {
            a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible {
                outline: 3px solid var(--earthy-gold);
                outline-offset: 3px;
                box-shadow: 0 0 0 6px rgba(74, 108, 85, 0.2);
            }
            
            /* Better touch feedback */
            button:active, a:active {
                transform: scale(0.98);
                transition: transform 0.1s ease;
            }
        }

        #skip-to-content {
            position: absolute;
            left: -9999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
        #skip-to-content:focus {
            position: fixed;
            top: 1rem;
            left: 1rem;
            width: auto;
            height: auto;
            padding: 0.5rem 1rem;
            background: var(--charcoal);
            color: var(--linen-white);
            z-index: 1000;
            border-radius: 6px;
        }
        
        /* Custom UI Elements */
        .article-content blockquote {
            border-left: 4px solid var(--earthy-gold);
            padding-left: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
            font-family: 'Lora', serif;
            letter-spacing: 0.025em;
            color: #555;
        }
        html.dark .article-content blockquote {
            border-left-color: #dcb981;
            color: #aaa;
        }

        .call-out-box {
            background-color: var(--light-green);
            border-left: 4px solid var(--forest-green);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 8px 8px 0;
        }
        html.dark .call-out-box {
            background-color: #2c3a32;
            border-left-color: #86b596;
        }

        #progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background-color: var(--forest-green);
            width: 0%;
            z-index: 100;
            transition: width 0.1s linear;
        }
        html.dark #progress-bar {
            background-color: #86b596;
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }
        .stagger-in > * {
            animation: fadeIn 0.6s ease-in-out both;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Pali Term Tooltip */
        .pali-term {
            border-bottom: 2px dotted var(--earthy-gold);
            cursor: help;
            position: relative;
        }
        html.dark .pali-term { border-bottom-color: #dcb981; }

        .pali-tooltip {
            visibility: hidden;
            width: 250px;
            background-color: var(--charcoal);
            color: var(--linen-white);
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.4s;
        }
        html.dark .pali-tooltip { background-color: #f0f0f0; color: #111; }
        
        .pali-term:hover .pali-tooltip {
            visibility: visible;
            opacity: 1;
        }
        
        /* Meditation Timer Styles */
        .timer-ring-bg {
            stroke: var(--light-green);
        }
        .timer-ring-fg {
            stroke: var(--forest-green);
            transform: rotate(-90deg);
            transform-origin: center;
            transition: stroke-dashoffset 1s linear;
        }
        .timer-active .timer-ring-fg {
            animation: pulse-ring 2s infinite ease-in-out;
        }
        @keyframes pulse-ring {
            0%, 100% { stroke-opacity: 1; }
            50% { stroke-opacity: 0.7; }
        }
        html.dark .timer-ring-bg { stroke: #2c3a32; }
        html.dark .timer-ring-fg { stroke: #86b596; }
        
        /* Interview Recorder Styles - Optimized */
        #live-video {
            transform: scaleX(-1);
            object-fit: cover;
            will-change: transform; /* Optimize for animations */
        }
        
        #playback-video {
            transform: none;
            object-fit: cover;
            will-change: auto;
        }
        
        /* Workout Page Animations - HTML Only */
        .exercise-card {
            transition: all 0.3s ease;
            animation: slideInUp 0.6s ease-out;
        }
        
        .exercise-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .exercise-number {
            animation: pulse 2s infinite;
        }
        
        .workout-icon {
            animation: bounce 2s infinite;
        }
        
        .progress-ring {
            animation: rotate 3s linear infinite;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        .floating-shapes {
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-shapes:nth-child(2) {
            animation-delay: -2s;
        }
        
        .floating-shapes:nth-child(3) {
            animation-delay: -4s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-20px);
            }
        }
        
        /* Mobile-friendly sound button */
        .sound-test-button {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .sound-test-button:active {
            transform: scale(0.95);
        }
        
        /* Ensure audio works on mobile */
        @media (max-width: 768px) {
            .sound-test-button {
                min-height: 48px;
                min-width: 120px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
        }

        /* Interview page animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .interview-card {
            animation: slideInUp 0.6s ease-out;
        }
        
        .interview-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .question-box {
            transition: all 0.3s ease;
        }
        
        .question-box:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .recording-button {
            transition: all 0.2s ease;
        }
        
        .recording-button:hover {
            transform: scale(1.05);
        }
        
        .recording-button:active {
            transform: scale(0.95);
        }
        
        .video-container {
            transition: all 0.3s ease;
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            contain: layout style paint; /* CSS containment for better performance */
        }
        
        .video-container:hover {
            transform: scale(1.02);
        }
        
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            contain: layout style paint;
            background: #000;
        }
        
        /* Meditation timer animations */
        @keyframes timerPulse {
            0%, 100% { 
                opacity: 0; 
                transform: scale(1);
            }
            50% { 
                opacity: 1; 
                transform: scale(1.05);
            }
        }
        
        .timer-pulse {
            animation: timerPulse 2s ease-in-out infinite;
        }
        
        .timer-running .timer-pulse {
            opacity: 1;
        }
        
        /* Start signal animation */
        .timer-start-signal {
            animation: startSignal 1.5s ease-out;
        }
        
        @keyframes startSignal {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(74, 108, 85, 0.7);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 20px rgba(74, 108, 85, 0.3);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(74, 108, 85, 0);
            }
        }
        
        /* Enhanced timer display */
        .timer-display {
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Meditation guide hover effects */
        .meditation-guide-card {
            transition: all 0.3s ease;
        }
        
        .meditation-guide-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        /* Mobile-optimized touch targets */
        .recording-button {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Enhanced Mobile Navigation Styles */
        #mobile-menu {
            transform: translateY(-100%);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        #mobile-menu.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        #mobile-menu.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }
        
        /* Mobile menu button animations */
        #mobile-menu-button {
            position: relative;
            overflow: hidden;
        }
        
        #mobile-menu-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        #mobile-menu-button:hover::before {
            left: 100%;
        }
        
        /* Mobile navigation link animations */
        .mobile-nav-link {
            position: relative;
            overflow: hidden;
        }
        
        .mobile-nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(74, 108, 85, 0.1), transparent);
            transition: left 0.3s;
        }
        
        .mobile-nav-link:hover::before {
            left: 100%;
        }
        
        /* Mobile menu backdrop */
        .mobile-menu-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(2px);
            z-index: 40;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .mobile-menu-backdrop.show {
            opacity: 1;
        }
        
        /* Mobile-first responsive improvements */
        @media (max-width: 640px) {
            /* Enhanced touch targets - increased for better accessibility */
            button, a, input, select, textarea {
                min-height: 48px;
                min-width: 48px;
            }
            
            /* Specific touch target improvements */
            .main-nav-link {
                min-height: 48px;
                padding: 12px 16px;
            }
            
            .btn {
                min-height: 48px;
                padding: 12px 20px;
            }
            
            /* Better mobile typography - improved readability */
            h1 {
                font-size: 2.5rem;
                line-height: 1.1;
                letter-spacing: -0.025em;
            }
            
            h2 {
                font-size: 2rem;
                line-height: 1.2;
                letter-spacing: -0.025em;
            }
            
            h3 {
                font-size: 1.5rem;
                line-height: 1.3;
                letter-spacing: -0.025em;
            }
            
        /* Better body text on mobile */
        p, span, div {
            line-height: 1.6;
        }
        
        /* Enhanced Focus Management */
        .focus-ring {
            outline: none;
        }
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--forest-green), 0 0 0 4px rgba(74, 108, 85, 0.2);
        }
        .dark .focus-ring:focus {
            box-shadow: 0 0 0 2px var(--forest-green), 0 0 0 4px rgba(74, 108, 85, 0.3);
        }
        
        .focus-visible-ring {
            outline: none;
        }
        .focus-visible-ring:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--forest-green), 0 0 0 4px rgba(74, 108, 85, 0.2);
        }
        .dark .focus-visible-ring:focus-visible {
            box-shadow: 0 0 0 2px var(--forest-green), 0 0 0 4px rgba(74, 108, 85, 0.3);
        }
        
        /* Improved focus indicators for better accessibility */
        .main-nav-link:focus-visible {
            box-shadow: 0 0 0 2px var(--forest-green), 0 0 0 4px rgba(74, 108, 85, 0.2);
        }
        .dark .main-nav-link:focus-visible {
            box-shadow: 0 0 0 2px var(--forest-green), 0 0 0 4px rgba(74, 108, 85, 0.3);
        }
        
        /* Skip link styling */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .focus\:not-sr-only:focus {
            position: static;
            width: auto;
            height: auto;
            padding: 0.5rem 1rem;
            margin: 0;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }
        
        /* Enhanced Micro-interactions */
        .micro-bounce {
            transition: transform 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .micro-bounce:hover {
            transform: scale(1.05);
        }
        
        .micro-bounce:active {
            transform: scale(0.98);
        }
        
        /* Subtle glow effects */
        .subtle-glow {
            box-shadow: 0 0 20px rgba(74, 108, 85, 0.1);
            transition: box-shadow 0.3s ease;
        }
        
        .subtle-glow:hover {
            box-shadow: 0 0 30px rgba(74, 108, 85, 0.15);
        }
        
        /* Enhanced button interactions */
        .btn-enhanced {
            position: relative;
            overflow: hidden;
        }
        
        .btn-enhanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-enhanced:hover::before {
            left: 100%;
        }
        
        /* Improved loading states */
        .loading-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        /* Enhanced Visual Polish */
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .subtle-border-glow {
            border: 1px solid rgba(74, 108, 85, 0.2);
            box-shadow: 0 0 0 1px rgba(74, 108, 85, 0.1);
            transition: all 0.3s ease;
        }
        
        .subtle-border-glow:hover {
            border-color: rgba(74, 108, 85, 0.4);
            box-shadow: 0 0 0 1px rgba(74, 108, 85, 0.2);
        }
        
        /* Enhanced text selection */
        ::selection {
            background: linear-gradient(135deg, rgba(45, 80, 22, 0.2), rgba(184, 134, 11, 0.2));
            color: #2d5016;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }
        
        ::-moz-selection {
            background: linear-gradient(135deg, rgba(45, 80, 22, 0.2), rgba(184, 134, 11, 0.2));
            color: #2d5016;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }
        
        /* Smooth scrolling enhancement */
        html {
            scroll-behavior: smooth;
        }
        
        /* Enhanced focus indicators for better accessibility */
        *:focus-visible {
            outline: 2px solid #4A6C55;
            outline-offset: 2px;
        }
        
        /* Improved button states */
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .btn:disabled:hover {
            transform: none !important;
        }
            
            /* Improved text contrast */
            .text-charcoal {
                color: #2d3748;
            }
            
            /* Improved mobile spacing */
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            /* Better mobile cards */
            .bg-white {
                border-radius: 1.5rem;
                padding: 1.5rem;
            }
            
            /* Enhanced mobile buttons */
            .btn {
                padding: 0.75rem 1.5rem;
                font-size: 1.125rem;
                border-radius: 0.75rem;
            }
            
            /* Mobile navigation improvements */
            #mobile-menu-button {
                min-height: 56px;
                min-width: 56px;
                padding: 12px;
            }
            
            #mobile-nav-links .main-nav-link {
                min-height: 64px;
                font-size: 1.125rem;
                padding: 1.5rem;
                border-radius: 1rem;
            }
            
            #mobile-nav-links .main-nav-link span:first-child {
                font-size: 1.875rem;
                margin-right: 1rem;
            }
            
            /* Better mobile hero section */
            .hero-section {
                padding: 2rem 1rem;
            }
            
            /* Improved mobile testimonials */
            .testimonial-card {
                padding: 1.5rem;
                margin-bottom: 1rem;
            }
        }
        
        @media (max-width: 375px) {
            .md\\:hidden.flex.items-center.space-x-3 {
                gap: 8px;
            }
            
            #mobile-menu-button {
                min-height: 40px;
                min-width: 40px;
                padding: 6px;
            }
            
            #dark-mode-toggle-mobile-header {
                min-height: 40px;
                min-width: 40px;
                padding: 6px;
            }
        }
        
        /* Landscape mobile orientation */
        @media (max-height: 500px) and (orientation: landscape) {
            #mobile-menu {
                max-height: 80vh;
                overflow-y: auto;
            }
            
            #mobile-nav-links {
                padding-top: 8px;
                padding-bottom: 8px;
            }
            
            #mobile-nav-links .main-nav-link {
                min-height: 40px;
                padding: 8px 16px;
            }
        }
        
        .recording-button:active {
            transform: scale(0.95);
        }
        
        @media (max-width: 768px) {
            .recording-button {
                min-height: 52px;
                min-width: 120px;
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .video-container {
                margin-bottom: 1.5rem;
                height: 200px; /* Fixed height for mobile */
                padding-bottom: 0;
            }
            
            .video-container video {
                border-radius: 0.75rem;
                height: 100%;
                width: 100%;
                object-fit: cover;
            }
            
            /* Mobile-specific video improvements */
            .video-container {
                background: #f3f4f6;
                border: 2px dashed #d1d5db;
                border-radius: 0.75rem;
            }
        }
        
        /* Extra small screens (xs) - for very small phones */
        @media (max-width: 475px) {
            .xs\:text-4xl { font-size: 2.25rem; }
            .xs\:text-3xl { font-size: 1.875rem; }
            .xs\:w-56 { width: 14rem; }
            .xs\:h-56 { height: 14rem; }
        }
        
        /* Enhanced mobile-first styles for meditation timer */
        @media (max-width: 640px) {
            /* Improve timer display on small screens */
            .timer-display {
                font-size: 2.5rem;
                line-height: 1.1;
                font-weight: 300;
                letter-spacing: -0.05em;
            }
            
            /* Better spacing for mobile */
            .meditation-timer-mobile {
                padding: 1rem;
            }
            
            /* Improve button touch targets */
            .timer-button {
                min-height: 56px;
                padding: 1rem 1.5rem;
                font-size: 1rem;
                font-weight: 600;
                border-radius: 12px;
                transition: all 0.2s ease;
            }
            
            /* Enhanced form elements for mobile */
            input, textarea, select {
                min-height: 48px;
                padding: 12px 16px;
                border-radius: 8px;
                font-size: 16px; /* Prevents zoom on iOS */
                border: 2px solid #e2e8f0;
                transition: border-color 0.2s ease, box-shadow 0.2s ease;
            }
            
            input:focus, textarea:focus, select:focus {
                border-color: #4A6C55;
                box-shadow: 0 0 0 3px rgba(74, 108, 85, 0.1);
                outline: none;
            }
            
            /* Better grid layout for guide cards on mobile */
            .guide-cards-mobile {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            /* Improve practice log on mobile */
            .practice-log-mobile {
                padding: 0.75rem;
            }
            
            .practice-log-entry {
                padding: 0.75rem;
                margin-bottom: 0.75rem;
            }
        }
        
        /* Very small screens (320px and below) */
        @media (max-width: 320px) {
            .timer-display {
                font-size: 2rem;
                line-height: 1;
            }
            
            /* Compact navigation for very small screens */
            #mobile-nav-links .main-nav-link {
                padding: 12px 16px;
                min-height: 48px;
            }
            
            /* Reduce padding on very small screens */
            .container {
                padding-left: 0.75rem;
                padding-right: 0.75rem;
            }
            
            /* Smaller buttons for very small screens */
            .btn {
                padding: 8px 16px;
                font-size: 0.875rem;
            }
            
            .timer-button {
                padding: 0.75rem 1rem;
                font-size: 0.875rem;
            }
        }
        
        /* Landscape mobile optimization */
        @media (max-width: 896px) and (orientation: landscape) {
            .timer-display {
                font-size: 2.5rem;
                line-height: 1;
            }
            
            /* Compact header in landscape */
            #header nav {
                padding: 0.5rem 1rem;
            }
            
            /* Reduce vertical spacing in landscape */
            .hero-section {
                padding: 1rem;
            }
            
            /* Optimize mobile menu for landscape */
            #mobile-menu {
                max-height: 90vh;
                overflow-y: auto;
            }
            
            .meditation-guide-card {
                padding: 1rem;
            }
        }
        
        
        .recording-dot {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        /* Journal Focus Mode */
        .journal-focus #header, .journal-focus #footer {
            display: none;
        }
        .journal-focus #main-content {
            padding: 2rem 1rem;
            max-width: 100%;
        }
        .journal-focus #journal-container {
            max-width: 800px;
            margin: auto;
        }
        
        /* Special meditation animations and effects */
        @keyframes zenFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.7;
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
                opacity: 1;
            }
        }
        
        @keyframes breatheIn {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes breatheOut {
            0% { transform: scale(1.1); }
            50% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }
        
        @keyframes gentleGlow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(74, 108, 85, 0.3), 0 0 40px rgba(74, 108, 85, 0.1);
            }
            50% {
                box-shadow: 0 0 30px rgba(74, 108, 85, 0.5), 0 0 60px rgba(74, 108, 85, 0.2);
            }
        }
        
        @keyframes lotusBloom {
            0% {
                transform: scale(0.8) rotate(0deg);
                opacity: 0.7;
            }
            50% {
                transform: scale(1.1) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(360deg);
                opacity: 0.8;
            }
        }
        
        @keyframes meditationPulse {
            0%, 100% {
                transform: scale(1);
                filter: brightness(1);
            }
            50% {
                transform: scale(1.02);
                filter: brightness(1.1);
            }
        }
        
        @keyframes zenParticles {
            0% {
                transform: translateY(100vh) translateX(0px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes wisdomFade {
            0%, 100% {
                opacity: 0.3;
                transform: translateY(10px);
            }
            50% {
                opacity: 1;
                transform: translateY(0px);
            }
        }
        
        /* Special meditation classes */
        .zen-float {
            animation: zenFloat 6s ease-in-out infinite;
        }
        
        .breathe-in {
            animation: breatheIn 4s ease-in-out infinite;
        }
        
        .breathe-out {
            animation: breatheOut 4s ease-in-out infinite;
        }
        
        .gentle-glow {
            animation: gentleGlow 3s ease-in-out infinite;
        }
        
        .lotus-bloom {
            animation: lotusBloom 8s ease-in-out infinite;
        }
        
        .meditation-pulse {
            animation: meditationPulse 2s ease-in-out infinite;
        }
        
        .wisdom-fade {
            animation: wisdomFade 4s ease-in-out infinite;
        }
        
        /* Breathing guide visual */
        .breathing-circle {
            width: 200px;
            height: 200px;
            border: 3px solid rgba(74, 108, 85, 0.3);
            border-radius: 50%;
            position: relative;
            margin: 0 auto;
            transition: all 0.3s ease;
        }
        
        .breathing-circle.active {
            border-color: rgba(74, 108, 85, 0.8);
            box-shadow: 0 0 30px rgba(74, 108, 85, 0.3);
        }
        
        .breathing-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            font-weight: 600;
            color: #4A6C55;
            text-align: center;
        }
        
        /* Zen particles */
        .zen-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(74, 108, 85, 0.6);
            border-radius: 50%;
            animation: zenParticles 15s linear infinite;
        }
        
        .zen-particle:nth-child(1) { left: 10%; animation-delay: 0s; }
        .zen-particle:nth-child(2) { left: 20%; animation-delay: 2s; }
        .zen-particle:nth-child(3) { left: 30%; animation-delay: 4s; }
        .zen-particle:nth-child(4) { left: 40%; animation-delay: 6s; }
        .zen-particle:nth-child(5) { left: 50%; animation-delay: 8s; }
        .zen-particle:nth-child(6) { left: 60%; animation-delay: 10s; }
        .zen-particle:nth-child(7) { left: 70%; animation-delay: 12s; }
        .zen-particle:nth-child(8) { left: 80%; animation-delay: 14s; }
        .zen-particle:nth-child(9) { left: 90%; animation-delay: 16s; }
    </style>
</head>
<body class="bg-linen-white text-charcoal transition-colors duration-300">
    <a href="#main-content" id="skip-to-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-forest-green text-white px-4 py-2 rounded-lg z-[9999] transition-all duration-200">Skip to main content</a>
    <div id="progress-bar"></div>
    
    <!-- Onboarding Modal -->
    <div id="onboarding-modal" class="hidden fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4">
        <div class="bg-linen-white dark:bg-charcoal rounded-lg shadow-2xl max-w-lg w-full p-8 text-center fade-in">
            <h2 class="text-3xl font-bold font-lora text-forest-green mb-4">Welcome to The Dhamma Path</h2>
            <p class="text-charcoal/80 dark:text-gray-300 mb-6">Ready to transform your mornings? Choose your starting point and begin your journey today.</p>
            <div class="space-y-4">
                <button class="onboarding-choice w-full p-4 bg-light-green hover:bg-green-200/50 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg text-left border-2 border-forest-green" style="background-color: #d4edda !important; color: #2d5016 !important; display: block !important; visibility: visible !important;">
                    <strong class="text-forest-green">Start My Morning Routine</strong>
                    <p class="text-sm text-charcoal/70 dark:text-gray-400">I want to build a powerful morning routine with meditation, journaling, and exercise.</p>
                </button>
                <button class="onboarding-choice w-full p-4 bg-light-green hover:bg-green-200/50 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg text-left border-2 border-forest-green" style="background-color: #d4edda !important; color: #2d5016 !important; display: block !important; visibility: visible !important;">
                     <strong class="text-forest-green">Explore Buddhist Wisdom</strong>
                    <p class="text-sm text-charcoal/70 dark:text-gray-400">I want to learn about Buddhist teachings and mindfulness principles.</p>
                </button>
            </div>
            <button id="close-onboarding" class="mt-8 text-sm text-charcoal/60 dark:text-gray-400 hover:underline">Or, just explore the site</button>
        </div>
    </div>


    <!-- Enhanced Header & Navigation -->
    <header id="header" class="bg-gradient-to-r from-linen-white/90 via-linen-white/95 to-linen-white/90 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200/50 shadow-lg transition-all duration-300">
        <nav class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8" role="navigation" aria-label="Main navigation">
            <div class="flex items-center justify-between h-16 sm:h-20 transition-all duration-300">
                <!-- Logo -->
                <a href="#" data-page="home" class="flex items-center space-x-2 main-nav-link" aria-label="The Dhamma Path - Home">
                     <svg width="32" height="32" class="sm:w-10 sm:h-10 fill-charcoal transition-colors duration-300" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-label="The Dhamma Path Logo" role="img">
                        <defs>
                            <lineargradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:currentColor;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:currentColor;stop-opacity:1" />
                            </lineargradient>
                        </defs>
                        <circle cx="50" cy="50" r="45" fill="none" stroke="url(#logoGradient)" stroke-width="2" opacity="0.3"/>
                        <path class="logo-path" fill="url(#logoGradient)" stroke="none" d="M20 80 C 30 45, 50 30, 50 20 C 50 30, 60 40, 70 50 C 90 40, 80 70, 50 80 C 20 90, 30 50, 20 80 Z" />
                        <circle cx="50" cy="50" r="3" fill="currentColor" opacity="0.6"/>
                    </svg>
                    <span class="font-lora text-sm font-bold text-charcoal">The Dhamma Path</span>
                </a>

                <!-- Enhanced Desktop Nav -->
                <div id="desktop-nav-links" class="hidden md:flex items-center space-x-1">
                    <!-- Activities First -->
                    <a href="#" data-page="timer" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Start meditation timer and guided sessions">ðŸ§˜ Meditate</a>
                    <a href="#" data-page="journal" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Access mindful journaling and reflection tools">âœï¸ Journal</a>
                    <a href="#" data-page="workout" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Begin 7-minute workout routine">ðŸ’ª Exercise</a>
                    <a href="#" data-page="interview" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Practice confidence and interview skills">ðŸŽ¤ Practice</a>
                    <!-- Info Pages Last -->
                    <a href="#" data-page="category-meditation" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Explore meditation and mindfulness learning resources">ðŸ“š Learning</a>
                    <a href="#" data-page="glossary" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Browse PÄli terms and Buddhist glossary">Glossary</a>
                    <a href="#" data-page="about" class="main-nav-link link-underline-draw text-charcoal hover:text-forest-green transition-all duration-300 px-6 py-3 rounded-lg hover:bg-light-green/20 hover:shadow-sm" aria-label="Learn about The Dhamma Path and our mission">About</a>
                    <button id="dark-mode-toggle" class="p-2 rounded-full hover:bg-light-green/20 dark:hover:bg-charcoal/20 transition-colors border border-forest-green/20" style="display: inline-block !important; visibility: visible !important;">
                        <!-- Sun Icon -->
                        <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-earthy-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-label="Switch to dark mode" role="img"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                        <!-- Moon Icon -->
                        <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden text-earthy-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-label="Switch to light mode" role="img"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center space-x-3">
                    <!-- Dark mode toggle for mobile -->
                    <button id="dark-mode-toggle-mobile-header" class="btn btn-ghost btn-sm focus-ring" aria-label="Toggle dark mode" style="display: inline-block !important; visibility: visible !important;">
                        <!-- Sun Icon -->
                        <svg id="sun-icon-mobile" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-earthy-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                        <!-- Moon Icon -->
                        <svg id="moon-icon-mobile" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-forest-green hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                    </button>
                    
                    <!-- Enhanced Mobile Menu Button -->
                    <button id="mobile-menu-button" class="btn btn-outline btn-sm focus-ring min-h-[48px] min-w-[48px]" aria-label="Open mobile menu" aria-expanded="false" aria-controls="mobile-menu" style="display: inline-flex !important; visibility: visible !important;">
                        <svg id="hamburger-icon" class="h-6 w-6 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                        <svg id="close-icon" class="h-6 w-6 transition-transform duration-300 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <!-- Enhanced Mobile Menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-gradient-to-b from-linen-white/95 to-linen-white/90 backdrop-blur-lg border-t border-gray-200/50 shadow-xl transform transition-all duration-300 ease-in-out" role="navigation" aria-label="Mobile navigation menu">
            <!-- Mobile Menu Header -->
            <div class="flex items-center justify-between px-4 py-3 border-b border-gray-200/30">
                <h2 class="text-lg font-semibold text-charcoal">Navigation</h2>
                <button id="mobile-menu-close" class="p-2 rounded-full hover:bg-light-green/20 transition-colors" aria-label="Close mobile menu">
                    <svg class="h-5 w-5 text-charcoal" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                    </button>
                </div>
            
            <!-- Mobile Navigation Links -->
            <div id="mobile-nav-links" class="px-4 pt-4 pb-6 space-y-2">
                <!-- Primary Activities -->
                <div class="space-y-1">
                    <h3 class="text-sm font-medium text-charcoal/70 px-2 py-1">Activities</h3>
                    <a href="#" data-page="timer" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group focus-ring" aria-label="Start meditation timer and guided sessions">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">ðŸ§˜</span>
                        <span>Meditate</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                    <a href="#" data-page="journal" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group focus-ring" aria-label="Access mindful journaling and reflection tools">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">âœï¸</span>
                        <span>Journal</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                    <a href="#" data-page="workout" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group focus-ring" aria-label="Begin 7-minute workout routine">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">ðŸ’ª</span>
                        <span>Exercise</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                    <a href="#" data-page="interview" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group focus-ring" aria-label="Practice confidence and interview skills">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">ðŸŽ¤</span>
                        <span>Practice</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
                
                <!-- Learning & Info -->
                <div class="space-y-1 pt-2">
                    <h3 class="text-sm font-medium text-charcoal/70 px-2 py-1">Learning</h3>
                    <a href="#" data-page="category-meditation" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">ðŸ“š</span>
                        <span>Learning</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                    <a href="#" data-page="glossary" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">ðŸ“–</span>
                        <span>Glossary</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                    <a href="#" data-page="about" class="main-nav-link text-charcoal hover:text-forest-green block px-4 py-4 rounded-xl text-base font-medium hover:bg-gradient-to-r hover:from-forest-green/10 hover:to-light-green/10 hover:shadow-md transition-all duration-300 min-h-[52px] flex items-center group">
                        <span class="text-2xl mr-3 group-hover:scale-110 transition-transform duration-200">â„¹ï¸</span>
                        <span>About</span>
                        <svg class="ml-auto h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Reading Progress Indicator -->
    <div class="reading-progress" id="reading-progress" aria-hidden="true"></div>
    
    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" id="scroll-progress" aria-hidden="true"></div>
    
    
    <!-- Loading Indicator -->
    <div id="loading-indicator" class="fixed inset-0 bg-linen-white/90 backdrop-blur-sm z-50 flex items-center justify-center hidden">
        <div class="text-center fade-in-scale">
            <div class="w-16 h-16 border-4 border-forest-green border-t-transparent rounded-full loading-spinner mx-auto mb-6 shadow-lg"></div>
            <p class="text-charcoal/70 text-lg font-medium">Loading your morning routine...</p>
            <div class="mt-4 flex justify-center space-x-1">
                <div class="w-2 h-2 bg-forest-green rounded-full animate-pulse"></div>
                <div class="w-2 h-2 bg-earthy-gold rounded-full animate-pulse" style="animation-delay: 0.2s;"></div>
                <div class="w-2 h-2 bg-light-green rounded-full animate-pulse" style="animation-delay: 0.4s;"></div>
            </div>
        </div>
    </div>

    <!-- Enhanced Notification Toast -->
    <div id="notification" class="fixed top-6 right-6 z-50 transform translate-x-full transition-all duration-500 ease-out" role="alert" aria-live="assertive">
        <div class="bg-gradient-to-r from-white to-gray-50 dark:from-gray-800 dark:to-gray-700 border border-gray-200 dark:border-gray-600 rounded-2xl shadow-xl px-6 py-4 max-w-sm fade-in-scale">
            <div class="flex items-center space-x-3">
                <div class="flex-shrink-0">
                    <svg class="w-6 h-6 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <div>
                    <p id="notification-text" class="text-sm font-medium text-charcoal dark:text-white"></p>
                </div>
            </div>
        </div>
    </div>


    <!-- Breadcrumb Navigation -->
    <nav id="breadcrumb" class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-2 hidden" aria-label="Breadcrumb">
        <ol class="flex items-center space-x-2 text-sm text-charcoal/60 dark:text-gray-400">
            <li><a href="#" data-page="home" class="main-nav-link hover:text-forest-green transition-colors">Home</a></li>
            <li class="flex items-center">
                <svg class="w-4 h-4 mx-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span id="breadcrumb-current" class="text-charcoal dark:text-white font-medium">Current Page</span>
            </li>
        </ol>
    </nav>

    <!-- Welcome Animation Overlay -->
    <div id="welcome-overlay" class="fixed inset-0 bg-gradient-to-br from-forest-green/95 via-light-green/90 to-earthy-gold/95 z-50 flex items-center justify-center" style="display: none; opacity: 0;">
        <div class="text-center text-white">
            <div class="w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-8 animate-pulse">
                <span class="text-4xl">ðŸ§˜â€â™€ï¸</span>
            </div>
            <h2 class="text-3xl font-bold mb-4 word-fade-in">Welcome to Your Journey</h2>
            <p class="text-xl mb-8 word-fade-in" style="animation-delay: 0.5s;">Take a deep breath. You're exactly where you need to be.</p>
            <div class="flex justify-center space-x-4 word-fade-in" style="animation-delay: 1s;">
                <button id="welcome-try-demo" class="px-6 py-3 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors">
                    Try 2-Min Demo
                </button>
                <button id="welcome-explore" class="px-6 py-3 bg-white text-forest-green rounded-xl hover:bg-white/90 transition-colors font-semibold">
                    Explore Features
                </button>
            </div>
        </div>
    </div>

    <main id="main-content" class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16 page-transition">
        <!-- Breadcrumb Navigation -->
        <nav id="breadcrumb-nav" class="mb-6 hidden" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2 text-sm">
                <li><a href="#" data-page="home" class="text-charcoal/60 hover:text-forest-green transition-colors">Home</a></li>
                <li class="flex items-center">
                    <svg class="w-4 h-4 mx-2 text-charcoal/40" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    <span id="breadcrumb-current" class="text-charcoal font-medium">Current Page</span>
                </li>
            </ol>
        </nav>
        <!-- Page content will be injected here -->
    </main>
    
    <!-- Enhanced Footer -->
    <footer id="footer" class="bg-gradient-to-br from-light-green/40 via-white to-light-green/20 border-t border-gray-200/80 transition-colors duration-300 shadow-lg" role="contentinfo">
        <div class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="space-y-4 md:col-span-2">
                    <a href="#" data-page="home" class="main-nav-link link-smooth flex items-center space-x-2" aria-label="The Dhamma Path - Home">
                         <svg width="32" height="32" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="fill-charcoal transition-colors duration-300" aria-label="The Dhamma Path Logo" role="img">
                             <defs>
                                 <lineargradient id="logoGradientMobile" x1="0%" y1="0%" x2="100%" y2="100%">
                                     <stop offset="0%" style="stop-color:currentColor;stop-opacity:0.8" />
                                     <stop offset="100%" style="stop-color:currentColor;stop-opacity:1" />
                                 </lineargradient>
                             </defs>
                             <circle cx="50" cy="50" r="45" fill="none" stroke="url(#logoGradientMobile)" stroke-width="2" opacity="0.3"/>
                             <path class="logo-path" fill="url(#logoGradientMobile)" stroke="none" d="M20 80 C 30 45, 50 30, 50 20 C 50 30, 60 40, 70 50 C 90 40, 80 70, 50 80 C 20 90, 30 50, 20 80 Z" />
                             <circle cx="50" cy="50" r="3" fill="currentColor" opacity="0.6"/>
                         </svg>
                        <span class="font-lora text-lg font-bold text-charcoal">The Dhamma Path</span>
                    </a>
                    <p class="text-charcoal/70">Your trusted companion on the path to inner peace through authentic Buddhist teachings and mindful living.</p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-charcoal tracking-wider uppercase font-lora">Explore</h3>
                    <ul class="mt-4 space-y-2">
                        <li><a href="#" data-page="timer" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">Guided Meditation Timer</a></li>
                        <li><a href="#" data-page="journal" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">Mindful Freewriting</a></li>
                        <li><a href="#" data-page="workout" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">7-Minute Mindful Workout</a></li>
                        <li><a href="#" data-page="interview" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">Confident Interview Practice</a></li>
                        <li><a href="#" data-page="about" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">About Us</a></li>
                        <li><a href="#" data-page="glossary" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">PÄli Glossary</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-charcoal tracking-wider uppercase font-lora">Legal</h3>
                    <ul class="mt-4 space-y-2">
                        <li><a href="#" data-page="privacy" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">Privacy Policy</a></li>
                        <li><a href="#" data-page="terms" class="main-nav-link text-base text-charcoal/80 hover:text-forest-green">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-gray-300/50 text-center text-charcoal/60">
                <p>&copy; 2025 The Dhamma Path. All rights reserved.</p>
            </div>
        </div>
    </footer>


    <!-- TEMPLATES for dynamic content -->
    <template id="template-home">
        <article class="space-y-6 sm:space-y-8 lg:space-y-12 max-w-5xl mx-auto">
            <!-- Hero Section -->
            <header class="text-left py-16 sm:py-20 lg:py-24 rounded-3xl breathing-bg floating-particles zen-particles ambient-gradient dark:from-gray-800/30 dark:via-gray-900/20 dark:to-transparent relative overflow-hidden hero-section">
                <!-- Subtle background pattern with floating animation -->
                <div class="absolute inset-0 opacity-5">
                    <div class="absolute top-10 left-10 w-32 h-32 bg-forest-green rounded-full blur-3xl float-animation ambient-breathe"></div>
                    <div class="absolute bottom-10 right-10 w-24 h-24 bg-earthy-gold rounded-full blur-2xl float-animation ambient-float"></div>
                    <div class="absolute top-1/2 left-1/4 w-16 h-16 bg-light-green rounded-full blur-xl float-animation ambient-breathe"></div>
                </div>
                
                <!-- Floating Particles -->
                <div class="floating-particle parallax-slow particle-1" style="left: 10%; animation-delay: 0s;"></div>
                <div class="floating-particle parallax-medium particle-2" style="left: 20%; animation-delay: 3s;"></div>
                <div class="floating-particle parallax-fast particle-3" style="left: 30%; animation-delay: 6s;"></div>
                <div class="floating-particle parallax-slow particle-4" style="left: 70%; animation-delay: 9s;"></div>
                <div class="floating-particle parallax-medium particle-5" style="left: 80%; animation-delay: 12s;"></div>
                <div class="floating-particle parallax-fast particle-1" style="left: 90%; animation-delay: 15s;"></div>
                <div class="relative max-w-5xl">
                    <!-- Enhanced Trust Badge with Live Counter -->
                    <div class="flex items-center justify-center mb-8 slide-in-left">
                        <div class="flex items-center space-x-3 bg-white/95 backdrop-blur-sm px-6 py-3 rounded-full shadow-xl border border-white/30">
                            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                            <span class="text-base sm:text-lg font-semibold text-charcoal">
                                <span id="live-user-count">1,247</span> people are meditating right now
                            </span>
                        </div>
                    </div>
                    
                    <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl text-gradient font-lora text-glow-strong slide-in-left text-center leading-tight mb-6">
                        <span class="word-fade-in" style="animation-delay: 0.2s;">Transform</span>
                        <span class="word-fade-in" style="animation-delay: 0.4s;">Your</span>
                        <span class="word-fade-in" style="animation-delay: 0.6s;">Mornings,</span>
                        <span class="word-fade-in" style="animation-delay: 0.8s;">Transform</span>
                        <span class="word-fade-in" style="animation-delay: 1.0s;">Your</span>
                        <span class="word-fade-in" style="animation-delay: 1.2s;">Life</span>
                    </h1>
                    <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-charcoal/90 text-smooth-transition max-w-5xl mx-auto text-center slide-in-right mb-8 px-3 sm:px-4 leading-relaxed font-medium">Master the art of mindful mornings with our integrated toolkit: meditation, journaling, exercise, and confidence practice.</p>
                    <p class="text-base sm:text-lg md:text-xl text-charcoal/80 text-smooth-transition max-w-4xl mx-auto text-center slide-in-right mb-8 px-3 sm:px-4 leading-relaxed">Discover how just <strong class="text-forest-green text-xl sm:text-2xl">30 minutes each morning</strong> can revolutionize your entire day and build lasting habits that stick.</p>
                    
                    <!-- Inspirational Quote Section -->
                    <div class="bg-gradient-to-r from-earthy-gold/10 via-white/60 to-forest-green/10 rounded-2xl p-6 sm:p-8 mb-8 slide-in-right border border-earthy-gold/20">
                        <div class="text-center">
                            <blockquote class="text-lg sm:text-xl md:text-2xl font-lora italic text-charcoal/90 mb-4 leading-relaxed">
                                "The way you start your morning determines how you live your day. The way you live your day determines how you live your life."
                            </blockquote>
                            <p class="text-sm sm:text-base text-charcoal/70 font-medium">â€” Ancient Buddhist Wisdom</p>
                        </div>
                    </div>
                    
                    <!-- Enhanced Value Proposition -->
                    <div class="bg-gradient-to-r from-forest-green/10 via-white/50 to-earthy-gold/10 rounded-2xl p-6 sm:p-8 mb-8 slide-in-right border border-forest-green/20">
                        <div class="text-center">
                            <h2 class="text-xl sm:text-2xl font-bold text-charcoal mb-4 font-lora">Why Your Morning Matters</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left">
                                <div class="space-y-2">
                                    <h3 class="font-semibold text-forest-green text-lg">ðŸ§  Mental Clarity</h3>
                                    <p class="text-sm text-charcoal/80 leading-relaxed">Start your day with intention. Morning meditation and journaling create mental space for better decision-making throughout the day.</p>
                                </div>
                                <div class="space-y-2">
                                    <h3 class="font-semibold text-earthy-gold text-lg">âš¡ Physical Energy</h3>
                                    <p class="text-sm text-charcoal/80 leading-relaxed">A 7-minute workout jumpstarts your metabolism and releases endorphins, giving you sustained energy without the afternoon crash.</p>
                                </div>
                                <div class="space-y-2">
                                    <h3 class="font-semibold text-light-green text-lg">ðŸŽ¯ Confident Communication</h3>
                                    <p class="text-sm text-charcoal/80 leading-relaxed">Practice speaking skills daily to build unshakeable confidence for presentations, interviews, and meaningful conversations.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Key Benefits with Interactive Previews -->
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 md:gap-8 mb-6 sm:mb-8 md:mb-12 slide-in-right">
                        <a href="#" data-page="timer" class="main-nav-link text-center p-4 sm:p-6 md:p-8 lg:p-10 bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-forest-green/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer block group">
                            <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <span class="text-2xl sm:text-3xl">ðŸ§˜â€â™‚ï¸</span>
                            </div>
                            <p class="text-sm sm:text-base md:text-lg font-bold text-charcoal mb-2 sm:mb-3 group-hover:text-forest-green transition-colors">Find Inner Peace</p>
                            <p class="text-xs sm:text-sm md:text-base text-charcoal/80 mt-1 sm:mt-2 leading-relaxed">Daily meditation for clarity and calm</p>
                            
                            <!-- Interactive Preview -->
                            <div class="preview-overlay absolute inset-0 bg-forest-green/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-forest-green/20 rounded-full flex items-center justify-center mx-auto mb-2">
                                        <span class="text-forest-green text-lg">â±ï¸</span>
                                    </div>
                                    <p class="text-xs text-forest-green font-semibold">5-30 min sessions</p>
                                    <p class="text-xs text-forest-green/80">Gentle sounds & guidance</p>
                                </div>
                            </div>
                            
                            <div class="mt-3 flex items-center justify-center">
                                <span class="text-xs text-forest-green font-semibold group-hover:translate-x-1 transition-transform duration-300">Start Meditating â†’</span>
                            </div>
                        </a>
                        <a href="#" data-page="workout" class="main-nav-link text-center p-4 sm:p-6 md:p-8 lg:p-10 bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-earthy-gold/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer block btn-enhanced group relative">
                            <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg group-hover:gentle-bounce transition-all duration-300">
                                <span class="text-2xl sm:text-3xl">âš¡</span>
                            </div>
                            <p class="text-sm sm:text-base md:text-lg font-bold text-charcoal mb-2 sm:mb-3 group-hover:text-earthy-gold transition-colors duration-300">Boost Energy</p>
                            <p class="text-xs sm:text-sm md:text-base text-charcoal/80 mt-1 sm:mt-2 leading-relaxed">7-minute workouts to start strong</p>
                            
                            <!-- Interactive Preview -->
                            <div class="preview-overlay absolute inset-0 bg-earthy-gold/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-earthy-gold/20 rounded-full flex items-center justify-center mx-auto mb-2">
                                        <span class="text-earthy-gold text-lg">ðŸ’ª</span>
                                    </div>
                                    <p class="text-xs text-earthy-gold font-semibold">7-min circuit</p>
                                    <p class="text-xs text-earthy-gold/80">All fitness levels</p>
                                </div>
                            </div>
                            
                            <div class="mt-3 flex items-center justify-center">
                                <span class="text-xs text-earthy-gold font-semibold group-hover:translate-x-1 transition-transform duration-300">Start Workout â†’</span>
                            </div>
                        </a>
                        <a href="#" data-page="interview" class="main-nav-link text-center p-4 sm:p-6 md:p-8 lg:p-10 bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-light-green/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer block btn-enhanced group relative">
                            <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg group-hover:gentle-bounce transition-all duration-300">
                                <span class="text-2xl sm:text-3xl">ðŸŽ¯</span>
                            </div>
                            <p class="text-sm sm:text-base md:text-lg font-bold text-charcoal mb-2 sm:mb-3 group-hover:text-light-green transition-colors duration-300">Build Confidence</p>
                            <p class="text-xs sm:text-sm md:text-base text-charcoal/80 mt-1 sm:mt-2 leading-relaxed">Practice speaking and storytelling</p>
                            
                            <!-- Interactive Preview -->
                            <div class="preview-overlay absolute inset-0 bg-light-green/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-light-green/20 rounded-full flex items-center justify-center mx-auto mb-2">
                                        <span class="text-forest-green text-lg">ðŸŽ¤</span>
                                    </div>
                                    <p class="text-xs text-forest-green font-semibold">Video practice</p>
                                    <p class="text-xs text-forest-green/80">Build speaking skills</p>
                                </div>
                            </div>
                            
                            <div class="mt-3 flex items-center justify-center">
                                <span class="text-xs text-light-green font-semibold group-hover:translate-x-1 transition-transform duration-300">Start Practice â†’</span>
                            </div>
                        </a>
                    </div>
                    
                    <!-- How It Works -->
                    <div class="mb-8 sm:mb-12 slide-in-right">
                        <div class="bg-white/20 backdrop-blur-sm rounded-3xl p-8 sm:p-10 max-w-5xl mx-auto">
                            <h3 class="text-2xl sm:text-3xl font-bold text-charcoal text-center mb-8">How It Works</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 sm:gap-10">
                                <div class="text-center group">
                                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-forest-green/20 to-forest-green/30 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                                        <span class="text-3xl sm:text-4xl">1ï¸âƒ£</span>
                                    </div>
                                    <h4 class="text-lg sm:text-xl font-bold text-charcoal mb-3">Choose Your Practice</h4>
                                    <p class="text-sm sm:text-base text-charcoal/80 leading-relaxed">Pick meditation, journaling, exercise, or confidence practice</p>
                                </div>
                                <div class="text-center group">
                                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-forest-green/20 to-forest-green/30 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                                        <span class="text-3xl sm:text-4xl">2ï¸âƒ£</span>
                                    </div>
                                    <h4 class="text-lg sm:text-xl font-bold text-charcoal mb-3">Set Your Timer</h4>
                                    <p class="text-sm sm:text-base text-charcoal/80 leading-relaxed">Customize duration and preferences for your session</p>
                                </div>
                                <div class="text-center group">
                                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-forest-green/20 to-forest-green/30 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                                        <span class="text-3xl sm:text-4xl">3ï¸âƒ£</span>
                                    </div>
                                    <h4 class="text-lg sm:text-xl font-bold text-charcoal mb-3">Start Your Journey</h4>
                                    <p class="text-sm sm:text-base text-charcoal/80 leading-relaxed">Begin your practice and track your progress</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Primary CTA -->
                    <div class="text-center slide-in-right">
                        <button onclick="navigateTo('timer')" class="inline-flex items-center justify-center px-10 sm:px-12 md:px-16 py-5 sm:py-6 md:py-7 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-bold text-lg sm:text-xl md:text-2xl rounded-2xl hover:from-forest-green/90 hover:to-forest-green/80 hover:shadow-2xl hover:scale-105 active:scale-95 transition-all duration-300 shadow-xl border-2 border-forest-green/20 focus:ring-4 focus:ring-forest-green/30 focus:outline-none min-h-[64px] w-full sm:w-auto cursor-pointer touch-manipulation select-none btn-enhanced gentle-glow group">
                            <svg class="w-7 h-7 sm:w-8 sm:h-8 md:w-9 md:h-9 mr-3 sm:mr-4 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v18m-9-9h18M12 3a9 9 0 0 1 9 9 9 9 0 0 1-9 9M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9"></path>
                            </svg>
                            <span class="hidden sm:inline group-hover:tracking-wide transition-all duration-300">Start Your Morning Journey</span>
                            <span class="sm:hidden group-hover:tracking-wide transition-all duration-300">Start Journey</span>
                            <svg class="w-6 h-6 sm:w-7 sm:h-7 ml-2 sm:ml-3 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                            </svg>
                        </button>
                        <p class="text-base sm:text-lg text-white/90 mt-6 sm:mt-7 font-medium px-4 animate-pulse">âœ¨ Free forever â€¢ No signup required â€¢ Start in 30 seconds</p>
                    </div>
                    
                    <!-- Shimmer divider -->
                    <div class="mt-8 shimmer-divider w-24 mx-auto"></div>
                </div>
            </header>

            <!-- Social Proof & Testimonials -->
            <section class="bg-gradient-to-r from-white to-gray-50/50 rounded-2xl p-6 sm:p-10 shadow-lg border border-gray-100 relative overflow-hidden">
                <!-- Subtle background pattern -->
                <div class="absolute inset-0 opacity-5">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-forest-green rounded-full blur-2xl"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-earthy-gold rounded-full blur-xl"></div>
                </div>
                
                <div class="text-center mb-6 sm:mb-8 relative">
                    <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-charcoal font-lora mb-4 sm:mb-6">What People Are Saying</h2>
                    <p class="text-sm sm:text-base text-charcoal/70 mb-4">Real stories from people who transformed their mornings</p>
                    <div class="flex items-center justify-center space-x-4 text-sm text-charcoal/60">
                        <div class="flex items-center space-x-1">
                            <span class="text-earthy-gold">â­â­â­â­â­</span>
                            <span>4.9/5 average rating</span>
                        </div>
                        <div class="w-1 h-1 bg-charcoal/30 rounded-full"></div>
                        <div>1,200+ active users</div>
                        <div class="w-1 h-1 bg-charcoal/30 rounded-full"></div>
                        <div>98% would recommend</div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8">
                    <!-- Testimonial 1 -->
                    <div class="bg-white rounded-xl p-4 sm:p-6 lg:p-8 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300">
                        <div class="flex items-center mb-4 sm:mb-6">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-xs sm:text-sm">S</span>
                            </div>
                            <div class="ml-3">
                                <p class="font-semibold text-charcoal text-xs sm:text-sm">Sarah M.</p>
                                <p class="text-xs text-charcoal/60">Marketing Manager</p>
                            </div>
                        </div>
                        <p class="text-xs sm:text-sm text-charcoal/80 leading-relaxed">"This changed everything. I went from chaotic mornings to feeling centered and ready for anything. The meditation timer is perfect. I've been using it for 6 months and my stress levels have dropped by 40%."</p>
                        <div class="flex text-earthy-gold mt-3 sm:mt-4">
                            <span class="text-sm sm:text-base">â­â­â­â­â­</span>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="bg-white rounded-2xl p-6 sm:p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 hover:scale-105">
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-lg sm:text-xl">M</span>
                            </div>
                            <div class="ml-4">
                                <p class="font-bold text-charcoal text-base sm:text-lg">Mike R.</p>
                                <p class="text-sm text-charcoal/60">Software Developer</p>
                            </div>
                        </div>
                        <p class="text-sm sm:text-base text-charcoal/80 leading-relaxed mb-4">"The journaling feature helped me process my thoughts better. I'm more focused and less stressed throughout the day. The freewriting approach unlocked creativity I didn't know I had."</p>
                        <div class="flex text-earthy-gold">
                            <span class="text-lg sm:text-xl">â­â­â­â­â­</span>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="bg-white rounded-2xl p-6 sm:p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 hover:scale-105 sm:col-span-2 lg:col-span-1">
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-lg sm:text-xl">A</span>
                            </div>
                            <div class="ml-4">
                                <p class="font-bold text-charcoal text-base sm:text-lg">Alex K.</p>
                                <p class="text-sm text-charcoal/60">Entrepreneur</p>
                            </div>
                        </div>
                        <p class="text-sm sm:text-base text-charcoal/80 leading-relaxed mb-4">"The confidence practice sessions are incredible. I feel so much more prepared for presentations and meetings now."</p>
                        <div class="flex text-earthy-gold">
                            <span class="text-lg sm:text-xl">â­â­â­â­â­</span>
                        </div>
                    </div>
                </div>
                
                <!-- Trust Indicators -->
                <div class="mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200">
                    <div class="flex flex-wrap items-center justify-center gap-4 sm:gap-6 lg:gap-8 text-xs sm:text-sm text-charcoal/60">
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <svg class="w-3 h-3 sm:w-4 sm:h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span>100% Free</span>
                        </div>
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <svg class="w-3 h-3 sm:w-4 sm:h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span>No Signup Required</span>
                        </div>
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <svg class="w-3 h-3 sm:w-4 sm:h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span>Privacy Protected</span>
                        </div>
                    </div>
                 </div>
            </section>

            <!-- Daily Morning Routine -->
            <section class="observe-fade-in bg-gradient-to-br from-light-green/40 via-white to-light-gold/20 rounded-2xl p-4 sm:p-6 md:p-8 lg:p-12 shadow-lg border border-light-green/20 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute top-0 right-0 w-40 h-40 bg-gradient-to-bl from-forest-green/10 to-transparent rounded-full blur-2xl"></div>
                <div class="absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-earthy-gold/10 to-transparent rounded-full blur-xl"></div>
                
                <div class="text-center mb-6 sm:mb-8 md:mb-10 relative">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gradient font-lora mb-4 sm:mb-6 text-glow">Your Daily Morning Routine</h2>
                    <p class="text-sm sm:text-base md:text-lg text-charcoal/80 max-w-2xl mx-auto leading-relaxed px-4">Four powerful practices, one transformative morning. Build your ideal routine by combining meditation, journaling, exercise, and confidence practice.</p>
                    <!-- Decorative elements -->
                    <div class="mt-3 sm:mt-4 flex justify-center space-x-2">
                        <div class="w-2 h-2 bg-forest-green rounded-full"></div>
                        <div class="w-2 h-2 bg-earthy-gold rounded-full"></div>
                        <div class="w-2 h-2 bg-light-green rounded-full"></div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
                    <!-- Meditation Timer -->
                    <a href="#" data-page="timer" class="main-nav-link card-lift observe-scale group block p-6 sm:p-8 lg:p-10 bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 border-2 border-forest-green/20 hover:border-forest-green/40 hover:-translate-y-2 relative overflow-hidden gentle-bounce card-breathe card-breathe-gentle ambient-shadow cursor-pointer">
                        <!-- Subtle gradient overlay -->
                        <div class="absolute inset-0 bg-gradient-to-br from-forest-green/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                        <!-- Click indicator -->
                        <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <svg class="w-5 h-5 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                            </svg>
                        </div>
                        <div class="text-center relative">
                            <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 sm:mb-8 group-hover:scale-110 transition-all duration-500 shadow-xl gentle-rotate">
                                <svg class="w-10 h-10 sm:w-12 sm:h-12 text-white drop-shadow-sm icon-breathe" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v18m-9-9h18M12 3a9 9 0 0 1 9 9 9 9 0 0 1-9 9M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora mb-3 sm:mb-4 group-hover:text-forest-green text-smooth-transition">Meditation Timer</h3>
                            <p class="text-sm sm:text-base text-charcoal/80 mb-4 sm:mb-6 paragraph-spacing leading-relaxed">Find your center with 5-30 minute sessions, customizable bells, and gentle progress tracking.</p>
                            <div class="flex items-center justify-center space-x-2">
                                <span class="inline-block px-4 py-2 bg-gradient-to-r from-forest-green/20 to-forest-green/10 text-forest-green text-sm font-semibold rounded-full border-2 border-forest-green/30">Quick Start</span>
                                <svg class="w-4 h-4 text-forest-green group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                            </div>
                        </div>
                    </a>

                    <!-- Mindful Journal -->
                    <a href="#" data-page="journal" class="main-nav-link card-lift observe-scale group block p-6 sm:p-8 lg:p-10 bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 border-2 border-earthy-gold/20 hover:border-earthy-gold/40 hover:-translate-y-2 relative overflow-hidden gentle-bounce card-breathe card-breathe-gentle ambient-shadow cursor-pointer">
                        <!-- Subtle gradient overlay -->
                        <div class="absolute inset-0 bg-gradient-to-br from-earthy-gold/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                        <!-- Click indicator -->
                        <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <svg class="w-5 h-5 text-earthy-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                            </svg>
                        </div>
                        <div class="text-center relative">
                            <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 sm:mb-8 group-hover:scale-110 transition-all duration-500 shadow-xl gentle-rotate">
                                <svg class="w-10 h-10 sm:w-12 sm:h-12 text-white drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora mb-3 sm:mb-4 group-hover:text-earthy-gold text-smooth-transition">Mindful Journal</h3>
                            <p class="text-sm sm:text-base text-charcoal/80 mb-4 sm:mb-6 paragraph-spacing leading-relaxed">Capture your thoughts with freewriting practice, auto-save, and flexible timing options.</p>
                            <div class="flex items-center justify-center space-x-2">
                                <span class="inline-block px-4 py-2 bg-gradient-to-r from-earthy-gold/20 to-earthy-gold/10 text-earthy-gold text-sm font-semibold rounded-full border-2 border-earthy-gold/30">Self-Reflection</span>
                                <svg class="w-4 h-4 text-earthy-gold group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                            </div>
                        </div>
                    </a>

                    <!-- 7-Minute Workout -->
                    <a href="#" data-page="workout" class="main-nav-link card-lift observe-scale group block p-6 sm:p-8 lg:p-10 bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 border-2 border-light-green/20 hover:border-light-green/40 hover:-translate-y-2 relative overflow-hidden card-breathe card-breathe-gentle ambient-shadow cursor-pointer">
                        <!-- Subtle gradient overlay -->
                        <div class="absolute inset-0 bg-gradient-to-br from-light-green/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                        <!-- Click indicator -->
                        <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <svg class="w-5 h-5 text-light-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                            </svg>
                        </div>
                        <div class="text-center relative">
                            <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 sm:mb-8 group-hover:scale-110 transition-all duration-500 shadow-xl">
                                <svg class="w-10 h-10 sm:w-12 sm:h-12 text-forest-green drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora mb-3 sm:mb-4 group-hover:text-light-green text-smooth-transition">7-Minute Workout</h3>
                            <p class="text-sm sm:text-base text-charcoal/80 mb-4 sm:mb-6 paragraph-spacing leading-relaxed">Energize your body with high-intensity circuit training, visual guides, and progress tracking.</p>
                            <div class="flex items-center justify-center space-x-2">
                                <span class="inline-block px-4 py-2 bg-gradient-to-r from-light-green/20 to-light-green/10 text-forest-green text-sm font-semibold rounded-full border-2 border-light-green/30">Energy Boost</span>
                                <svg class="w-4 h-4 text-light-green group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                            </div>
                        </div>
                    </a>

                    <!-- Confidence Practice -->
                    <a href="#" data-page="interview" class="main-nav-link card-lift observe-scale group block p-6 sm:p-8 lg:p-10 bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 border-2 border-forest-green/20 hover:border-forest-green/40 hover:-translate-y-2 relative overflow-hidden card-breathe card-breathe-gentle ambient-shadow cursor-pointer">
                        <!-- Subtle gradient overlay -->
                        <div class="absolute inset-0 bg-gradient-to-br from-forest-green/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                        <!-- Click indicator -->
                        <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <svg class="w-5 h-5 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                            </svg>
                        </div>
                        <div class="text-center relative">
                            <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 sm:mb-8 group-hover:scale-110 transition-all duration-500 shadow-xl">
                                <svg class="w-10 h-10 sm:w-12 sm:h-12 text-white drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora mb-3 sm:mb-4 group-hover:text-forest-green text-smooth-transition">Confidence Practice</h3>
                            <p class="text-sm sm:text-base text-charcoal/80 mb-4 sm:mb-6 paragraph-spacing leading-relaxed">Build speaking confidence with video practice for storytelling, communication, and presentation skills.</p>
                            <div class="flex items-center justify-center space-x-2">
                                <span class="inline-block px-4 py-2 bg-gradient-to-r from-forest-green/20 to-forest-green/10 text-forest-green text-sm font-semibold rounded-full border-2 border-forest-green/30">Build Skills</span>
                                <svg class="w-4 h-4 text-forest-green group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="text-center mt-8">
                    <p class="text-sm text-charcoal/60">ðŸ’¡ <strong>Pro Tip:</strong> Begin with 5 minutes of meditation, then gradually add journaling or exercise as your routine becomes natural!</p>
                 </div>
            </section>

            <!-- Daily Progress Tracker -->
            <section class="bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-8 shadow-xl border border-gray-100 relative overflow-hidden">
                <!-- Subtle background pattern -->
                <div class="absolute inset-0 opacity-5">
                    <div class="absolute top-0 left-0 w-64 h-64 bg-forest-green rounded-full blur-3xl"></div>
                    <div class="absolute bottom-0 right-0 w-48 h-48 bg-earthy-gold rounded-full blur-2xl"></div>
                </div>
                <div class="text-center mb-10 relative">
                    <h2 class="text-2xl sm:text-3xl font-bold text-charcoal font-lora mb-4 drop-shadow-sm">Today's Progress</h2>
                    <p class="text-charcoal/70 text-lg">Monitor your daily progress and build momentum</p>
                    <!-- Decorative line -->
                    <div class="mt-4 w-16 h-1 bg-gradient-to-r from-forest-green to-earthy-gold rounded-full mx-auto"></div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6">
                    <!-- Meditation Progress -->
                    <div class="flex items-center p-6 bg-gradient-to-r from-light-green/40 to-light-green/20 rounded-2xl border-2 border-light-green/30 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                        <div class="flex-shrink-0">
                            <div id="meditation-status" class="w-12 h-12 rounded-full bg-gradient-to-br from-forest-green to-forest-green/80 flex items-center justify-center shadow-xl">
                                <svg class="w-6 h-6 text-white drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v18m-9-9h18M12 3a9 9 0 0 1 9 9 9 9 0 0 1-9 9M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="ml-4 flex-1">
                            <p class="text-base font-bold text-charcoal">Meditation</p>
                            <p id="meditation-time" class="text-sm text-charcoal/70 font-medium">Not started</p>
                        </div>
                    </div>

                    <!-- Journal Progress -->
                    <div class="flex items-center p-6 bg-gradient-to-r from-earthy-gold/40 to-earthy-gold/20 rounded-2xl border-2 border-earthy-gold/30 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                        <div class="flex-shrink-0">
                            <div id="journal-status" class="w-12 h-12 rounded-full bg-gradient-to-br from-earthy-gold to-earthy-gold/80 flex items-center justify-center shadow-xl">
                                <svg class="w-6 h-6 text-white drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="ml-4 flex-1">
                            <p class="text-base font-bold text-charcoal">Journal</p>
                            <p id="journal-time" class="text-sm text-charcoal/70 font-medium">Not started</p>
                        </div>
                    </div>

                    <!-- Workout Progress -->
                    <div class="flex items-center p-6 bg-gradient-to-r from-light-green/40 to-light-green/20 rounded-2xl border-2 border-light-green/30 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                        <div class="flex-shrink-0">
                            <div id="workout-status" class="w-12 h-12 rounded-full bg-gradient-to-br from-light-green to-light-green/80 flex items-center justify-center shadow-xl">
                                <svg class="w-6 h-6 text-forest-green drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="ml-4 flex-1">
                            <p class="text-base font-bold text-charcoal">Workout</p>
                            <p id="workout-time" class="text-sm text-charcoal/70 font-medium">Not started</p>
                        </div>
                    </div>

                    <!-- Confidence Practice Progress -->
                    <div class="flex items-center p-6 bg-gradient-to-r from-forest-green/40 to-forest-green/20 rounded-2xl border-2 border-forest-green/30 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                        <div class="flex-shrink-0">
                            <div id="confidence-status" class="w-12 h-12 rounded-full bg-gradient-to-br from-forest-green to-forest-green/80 flex items-center justify-center shadow-xl">
                                <svg class="w-6 h-6 text-white drop-shadow-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="ml-4 flex-1">
                            <p class="text-base font-bold text-charcoal">Confidence</p>
                            <p id="confidence-time" class="text-sm text-charcoal/70 font-medium">Not started</p>
                        </div>
                    </div>
                </div>

                <!-- Overall Progress Bar -->
                <div class="bg-gradient-to-r from-gray-200 to-gray-100 rounded-full h-4 mb-6 shadow-inner border border-gray-200/50">
                    <div id="overall-progress" class="bg-gradient-to-r from-forest-green via-light-green to-earthy-gold h-4 rounded-full transition-all duration-700 shadow-lg relative overflow-hidden progress-pulse shimmer" style="width: 0%">
                        <!-- Animated shimmer effect -->
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"></div>
                    </div>
                </div>
                
                <div class="flex justify-between items-center text-sm">
                    <span id="progress-text" class="text-charcoal/70 font-medium">Complete 0 of 4 activities</span>
                    <span id="streak-text" class="text-charcoal/70 font-medium">ðŸ”¥ 0 day streak</span>
                 </div>
            </section>

            <!-- Buddhist Wisdom & Mindfulness Education -->
            <section class="bg-gradient-to-br from-charcoal/5 via-white to-forest-green/10 rounded-2xl p-8 sm:p-12 shadow-xl border border-charcoal/10 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-forest-green/10 to-transparent rounded-full blur-2xl"></div>
                <div class="absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-earthy-gold/10 to-transparent rounded-full blur-3xl"></div>
                
                <div class="text-center mb-10 relative">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-charcoal font-lora mb-6 drop-shadow-sm">Ancient Wisdom for Modern Mornings</h2>
                    <p class="text-base sm:text-lg text-charcoal/80 max-w-3xl mx-auto leading-relaxed mb-8">Discover the timeless Buddhist principles that form the foundation of our morning practices. These teachings have guided millions toward inner peace and mindful living for over 2,500 years.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10">
                    <!-- The Four Noble Truths -->
                    <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 sm:p-8 shadow-lg border border-forest-green/20">
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mr-4">
                                <span class="text-2xl">ðŸ•‰ï¸</span>
                            </div>
                            <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora">The Four Noble Truths</h3>
                        </div>
                        <div class="space-y-4">
                            <div class="border-l-4 border-forest-green pl-4">
                                <h4 class="font-semibold text-charcoal mb-2">1. Dukkha (Suffering)</h4>
                                <p class="text-sm text-charcoal/80 leading-relaxed">Life contains suffering, but understanding this truth is the first step toward liberation. Morning meditation helps us acknowledge and work with life's challenges.</p>
                            </div>
                            <div class="border-l-4 border-earthy-gold pl-4">
                                <h4 class="font-semibold text-charcoal mb-2">2. Samudaya (Cause)</h4>
                                <p class="text-sm text-charcoal/80 leading-relaxed">Suffering arises from craving and attachment. Journaling helps us identify patterns of thought that create unnecessary suffering.</p>
                            </div>
                            <div class="border-l-4 border-light-green pl-4">
                                <h4 class="font-semibold text-charcoal mb-2">3. Nirodha (Cessation)</h4>
                                <p class="text-sm text-charcoal/80 leading-relaxed">Suffering can end through letting go of attachments. Physical exercise teaches us to work with discomfort and build resilience.</p>
                            </div>
                            <div class="border-l-4 border-forest-green pl-4">
                                <h4 class="font-semibold text-charcoal mb-2">4. Magga (Path)</h4>
                                <p class="text-sm text-charcoal/80 leading-relaxed">The Eightfold Path leads to liberation. Confidence practice helps us develop right speech and right action in our daily lives.</p>
                            </div>
                        </div>
                    </div>

                    <!-- The Eightfold Path -->
                    <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 sm:p-8 shadow-lg border border-earthy-gold/20">
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mr-4">
                                <span class="text-2xl">ðŸ›¤ï¸</span>
                            </div>
                            <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora">The Eightfold Path</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-forest-green/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-forest-green mb-1">Right View</div>
                                <div class="text-xs text-charcoal/70">Understanding reality</div>
                            </div>
                            <div class="bg-forest-green/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-forest-green mb-1">Right Intention</div>
                                <div class="text-xs text-charcoal/70">Compassionate purpose</div>
                            </div>
                            <div class="bg-earthy-gold/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-earthy-gold mb-1">Right Speech</div>
                                <div class="text-xs text-charcoal/70">Truthful communication</div>
                            </div>
                            <div class="bg-earthy-gold/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-earthy-gold mb-1">Right Action</div>
                                <div class="text-xs text-charcoal/70">Ethical behavior</div>
                            </div>
                            <div class="bg-light-green/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-light-green mb-1">Right Livelihood</div>
                                <div class="text-xs text-charcoal/70">Meaningful work</div>
                            </div>
                            <div class="bg-light-green/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-light-green mb-1">Right Effort</div>
                                <div class="text-xs text-charcoal/70">Persistent practice</div>
                            </div>
                            <div class="bg-forest-green/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-forest-green mb-1">Right Mindfulness</div>
                                <div class="text-xs text-charcoal/70">Present awareness</div>
                            </div>
                            <div class="bg-forest-green/10 rounded-lg p-3 text-center">
                                <div class="text-sm font-semibold text-forest-green mb-1">Right Concentration</div>
                                <div class="text-xs text-charcoal/70">Focused attention</div>
                            </div>
                        </div>
                        <p class="text-xs text-charcoal/70 mt-4 italic text-center">"Our morning practices cultivate these eight qualities, creating a foundation for mindful living throughout the day."</p>
                    </div>
                </div>

                <!-- Mindfulness Principles -->
                <div class="bg-gradient-to-r from-forest-green/10 via-white/60 to-earthy-gold/10 rounded-2xl p-6 sm:p-8 border border-forest-green/20">
                    <h3 class="text-xl sm:text-2xl font-bold text-charcoal font-lora text-center mb-6">Core Mindfulness Principles</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl">ðŸŒ…</span>
                            </div>
                            <h4 class="font-bold text-charcoal mb-3">Present Moment Awareness</h4>
                            <p class="text-sm text-charcoal/80 leading-relaxed">Each morning practice brings you into the present moment, training your mind to be fully aware and engaged with life as it unfolds.</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl">ðŸ’</span>
                            </div>
                            <h4 class="font-bold text-charcoal mb-3">Compassionate Self-Care</h4>
                            <p class="text-sm text-charcoal/80 leading-relaxed">Morning routines are acts of self-compassion, showing yourself that you deserve time, attention, and care to grow and flourish.</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl">ðŸ”„</span>
                            </div>
                            <h4 class="font-bold text-charcoal mb-3">Impermanence & Growth</h4>
                            <p class="text-sm text-charcoal/80 leading-relaxed">Understanding that all things change, we approach each morning as a fresh opportunity to grow, learn, and become more mindful.</p>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-8">
                    <p class="text-sm text-charcoal/70 italic">"The mind is everything. What you think you become." â€” Buddha</p>
                </div>
            </section>

            <!-- Why Morning Routines Matter -->
            <section class="soft-gradient-bg bg-gradient-to-br from-earthy-gold/15 via-white to-light-green/15 rounded-2xl p-10 sm:p-14 shadow-xl border border-earthy-gold/20 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute top-0 right-0 w-48 h-48 bg-gradient-to-bl from-earthy-gold/10 to-transparent rounded-full blur-3xl"></div>
                <div class="absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-light-green/10 to-transparent rounded-full blur-2xl"></div>
                
                <div class="text-center mb-12 relative">
                    <h2 class="text-3xl sm:text-4xl font-bold text-charcoal font-lora mb-6 drop-shadow-sm">Why Your Morning Routine Matters</h2>
                    <p class="text-lg text-charcoal/80 max-w-3xl mx-auto leading-relaxed mb-6">The first hour of your day shapes everything that follows. A purposeful morning routine builds discipline, reduces stress, amplifies productivity, and creates sacred space for personal growth.</p>
                    
                    <!-- Key Statistics -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-forest-green mb-2">85%</div>
                            <p class="text-sm text-charcoal/70">of successful people have morning routines</p>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-earthy-gold mb-2">30 min</div>
                            <p class="text-sm text-charcoal/70">is all you need to see results</p>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-light-green mb-2">21 days</div>
                            <p class="text-sm text-charcoal/70">to form a lasting habit</p>
                        </div>
                    </div>
                    
                    <!-- Decorative elements -->
                    <div class="mt-6 flex justify-center space-x-3">
                        <div class="w-3 h-3 bg-earthy-gold rounded-full"></div>
                        <div class="w-3 h-3 bg-light-green rounded-full"></div>
                        <div class="w-3 h-3 bg-forest-green rounded-full"></div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 border border-forest-green/10 hover:border-forest-green/30 group">
                        <div class="w-16 h-16 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-10 h-10 text-white drop-shadow-xl" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24" style="filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4)); color: white !important;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-charcoal mb-4 group-hover:text-forest-green transition-colors duration-300">Energy & Focus</h3>
                        <p class="text-sm text-charcoal/70 leading-relaxed">Start your day with intention and build momentum that carries through your entire day.</p>
                    </div>
                    
                    <div class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 border border-earthy-gold/10 hover:border-earthy-gold/30 group">
                        <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-10 h-10 text-white drop-shadow-xl" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24" style="filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4)); color: white !important;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-charcoal mb-4 group-hover:text-earthy-gold transition-colors duration-300">Habit Formation</h3>
                        <p class="text-sm text-charcoal/70 leading-relaxed">Consistent morning practices create powerful habits that compound into lasting transformation.</p>
                    </div>
                    
                    <div class="text-center p-8 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 border border-light-green/10 hover:border-light-green/30 group">
                        <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-10 h-10 text-forest-green drop-shadow-xl" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24" style="filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3)); color: #2d5016 !important;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-charcoal mb-4 group-hover:text-light-green transition-colors duration-300">Mental Wellbeing</h3>
                        <p class="text-sm text-charcoal/70 leading-relaxed">Dedicated time for reflection and self-care strengthens your mental health and builds unshakeable resilience.</p>
                    </div>
                </div>
            </section>

            <!-- Final Call-to-Action -->
            <section class="bg-gradient-to-br from-forest-green via-forest-green/90 to-forest-green/80 rounded-2xl p-6 sm:p-8 md:p-12 lg:p-16 text-center text-white relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"></div>
                    <div class="absolute bottom-0 right-0 w-48 h-48 bg-earthy-gold rounded-full blur-2xl"></div>
                </div>
                
                <div class="relative max-w-4xl mx-auto">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold font-lora mb-4 sm:mb-6 text-white drop-shadow-lg">Ready to Transform Your Mornings?</h2>
                    <p class="text-base sm:text-lg md:text-xl text-white/90 mb-6 sm:mb-8 leading-relaxed px-4">Join thousands of people who start each day with purpose, clarity, and inner peace. Your journey begins with a single click.</p>
                    
                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mb-6 sm:mb-8" style="z-index: 10; position: relative;">
                        <button onclick="navigateTo('timer')" class="inline-flex items-center px-6 sm:px-8 py-3 sm:py-4 bg-white text-forest-green font-bold text-base sm:text-lg rounded-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 shadow-xl focus:ring-4 focus:ring-white/50 focus:outline-none min-h-[48px] w-full sm:w-auto" style="background-color: white !important; color: #2d5016 !important; display: inline-flex !important; visibility: visible !important; border: 2px solid white !important; font-weight: bold !important; text-shadow: none !important; opacity: 1 !important;">
                            <svg class="w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #2d5016 !important;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v18m-9-9h18M12 3a9 9 0 0 1 9 9 9 9 0 0 1-9 9M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9"></path>
                            </svg>
                            <span style="color: #2d5016 !important; font-weight: bold !important; text-shadow: none !important;">Start Meditating Now</span>
                        </button>
                        <button onclick="navigateTo('journal')" class="inline-flex items-center px-6 sm:px-8 py-3 sm:py-4 bg-white/90 backdrop-blur-sm text-forest-green font-bold text-base sm:text-lg rounded-xl hover:bg-white hover:shadow-xl hover:scale-105 transition-all duration-300 border-2 border-white focus:ring-4 focus:ring-white/50 focus:outline-none min-h-[48px] w-full sm:w-auto" style="background-color: rgba(255, 255, 255, 0.9) !important; color: #2d5016 !important; display: inline-flex !important; visibility: visible !important; border: 2px solid white !important; font-weight: bold !important; text-shadow: none !important; opacity: 1 !important;">
                            <svg class="w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: #2d5016 !important;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                            </svg>
                            <span style="color: #2d5016 !important; font-weight: bold !important; text-shadow: none !important;">Begin Journaling</span>
                        </button>
                    </div>
                    
                    <!-- Trust Indicators -->
                    <div class="flex flex-wrap items-center justify-center gap-3 sm:gap-4 lg:gap-6 text-xs sm:text-sm text-white/80">
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <svg class="w-3 h-3 sm:w-4 sm:h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span>No credit card required</span>
                        </div>
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <svg class="w-3 h-3 sm:w-4 sm:h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span>Start in 30 seconds</span>
                        </div>
                        <div class="flex items-center space-x-1 sm:space-x-2">
                            <svg class="w-3 h-3 sm:w-4 sm:h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span>100% private & secure</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Buddhist Wisdom & Learning -->
            <section>
                <h2 class="text-3xl font-bold text-center text-charcoal font-lora mb-6">Wisdom for Your Journey</h2>
                <p class="text-center text-charcoal/70 mb-10 max-w-2xl mx-auto">Deepen your morning practice with timeless teachings that support personal growth and mindful living.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 stagger-in">
                    <!-- Card 1 -->
                    <a href="#" data-page="category-introduction" class="main-nav-link card-link block p-8 bg-light-green rounded-lg shadow-sm duration-300 border border-black/5 hover:shadow-md" style="animation-delay: 0.1s;">
                        <h3 class="text-2xl font-bold text-forest-green font-lora">Understanding TheravÄda</h3>
                        <p class="mt-2 text-charcoal/80">Explore the ancient wisdom of the oldest Buddhist tradition and its timeless teachings for modern life.</p>
                    </a>
                    <!-- Card 2 -->
                    <a href="#" data-page="path" data-path-id="7-day-mindfulness" class="main-nav-link card-link block p-8 bg-light-gold rounded-lg shadow-sm duration-300 border border-black/5 hover:shadow-md" style="animation-delay: 0.2s;">
                        <h3 class="text-2xl font-bold text-earthy-gold font-lora">7-Day Mindfulness Journey</h3>
                        <p class="mt-2 text-charcoal/80">Start your meditation practice with our carefully crafted beginner's guide to mindfulness.</p>
                    </a>
                    <!-- Card 3 -->
                    <a href="#" data-page="article" data-article-id="four-noble-truths" class="main-nav-link card-link block p-8 bg-light-green rounded-lg shadow-sm duration-300 border border-black/5 hover:shadow-md" style="animation-delay: 0.3s;">
                        <h3 class="text-2xl font-bold text-forest-green font-lora">The Four Noble Truths</h3>
                        <p class="mt-2 text-charcoal/80">Discover the fundamental insights that illuminate the path to lasting happiness and freedom from suffering.</p>
                    </a>
                </div>
            </section>

            <!-- Latest Articles -->
            <section>
                 <h2 class="text-3xl font-bold text-center text-charcoal font-lora mb-10">Insights & Wisdom</h2>
                 <div id="latest-articles-grid" class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-12 stagger-in">
                    <!-- Article cards will be injected by JS -->
                 </div>
            </section>

             <!-- From the Canon -->
            <section class="bg-charcoal text-linen-white rounded-lg p-10 sm:p-16 text-center">
                <h2 class="text-3xl font-bold font-lora text-earthy-gold mb-6">Daily Inspiration</h2>
                <blockquote class="text-2xl sm:text-3xl font-lora italic leading-relaxed">
                    "Just as a solid rock is not shaken by the wind, so are the wise unshaken by praise or blame."
                </blockquote>
                <cite class="block mt-6 text-lg text-linen-white/70 not-italic">- The Dhammapada, Verse 81</cite>
            </section>

            <!-- Enhanced Personal Story Section -->
            <section class="mb-20">
                <div class="bg-gradient-to-br from-light-green/40 via-white to-light-gold/20 rounded-3xl p-12 sm:p-16 shadow-xl border border-light-green/20 relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 right-0 w-48 h-48 bg-gradient-to-bl from-forest-green/20 to-transparent rounded-full blur-3xl float-animation"></div>
                        <div class="absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-earthy-gold/20 to-transparent rounded-full blur-2xl float-animation"></div>
                        <div class="absolute top-1/2 left-1/2 w-24 h-24 bg-light-green rounded-full blur-xl float-animation"></div>
                    </div>
                    
                    <div class="relative z-10">
                        <h2 class="text-4xl font-bold text-charcoal font-lora mb-8 text-gradient drop-shadow-sm">My Story</h2>
            <div class="text-lg leading-relaxed space-y-6">
                            <p>Hi, I'm William. This website began as my personal morning routine companionâ€”a simple tool to help me start each day with intention through meditation, journaling, exercise, and confidence practice.</p>
                            <p>Like many people, I struggled with establishing consistent morning habits. I knew the benefits of meditation and mindful practices, but found it challenging to maintain a routine that actually stuck. That's when I decided to build something that would make it easier for me to show up for myself each morning.</p>
                            <p>What began as a personal project has evolved into a comprehensive platform that combines practical morning routine tools with the profound wisdom of Buddhist teachings. I believe that the best self-help is grounded in timeless principles, and that's why I've integrated authentic Buddhist wisdom throughout the site.</p>
                            <p>This isn't just another productivity app or meditation timer. It's a holistic approach to personal transformation that honors both modern self-help principles and ancient wisdom traditions.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Enhanced Buddhist Foundation Section -->
            <section class="mb-20">
                <div class="bg-gradient-to-br from-earthy-gold/15 via-white to-earthy-gold/5 rounded-3xl p-12 sm:p-16 shadow-xl border border-earthy-gold/20 relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 left-0 w-40 h-40 bg-gradient-to-br from-earthy-gold/20 to-transparent rounded-full blur-2xl float-animation"></div>
                        <div class="absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-forest-green/20 to-transparent rounded-full blur-xl float-animation"></div>
                        <div class="absolute top-1/2 right-1/4 w-20 h-20 bg-light-green rounded-full blur-lg float-animation"></div>
                    </div>
                    
                    <div class="relative z-10">
                        <h2 class="text-4xl font-bold text-charcoal font-lora mb-8 text-gradient drop-shadow-sm">The Buddhist Foundation</h2>
                        <div class="text-lg leading-relaxed space-y-6">
                            <p>The Dhamma Path is grounded in the profound wisdom of TheravÄda Buddhism, the oldest surviving Buddhist tradition. In a world of noise and distraction, we believe the path of mindfulness and wisdom offers a profound way to cultivate inner peace and clarity.</p>
                            <p>As a long-term practitioner of VipassanÄ meditation, I found that many online resources were either too academic and dense for beginners, or too commercialized and disconnected from the original teachings. This website is an attempt to bridge that gap.</p>
                            
                            <h3 class="text-2xl font-bold text-charcoal font-lora mt-10 mb-6">Our Approach</h3>
                            <p>We are committed to presenting the Dhamma (the teachings of the Buddha) as it is found in the PÄli Canon, the earliest collection of Buddhist scriptures. Our content is written with three core principles in mind:</p>
                            <ul class="list-disc list-inside space-y-3 ml-6 mt-4">
                    <li><strong>Authenticity:</strong> We ground our content in the suttas and the TheravÄda tradition.</li>
                    <li><strong>Clarity:</strong> We strive to explain complex concepts in simple, practical language without sacrificing depth.</li>
                    <li><strong>Practicality:</strong> We emphasize how these ancient teachings can be applied to modern life to reduce stress and cultivate genuine well-being.</li>
                </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Enhanced Mission Section -->
            <section class="mb-20">
                <div class="bg-gradient-to-br from-charcoal via-gray-800 to-charcoal text-linen-white rounded-2xl p-10 sm:p-14 text-center shadow-xl relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 right-0 w-48 h-48 bg-earthy-gold rounded-full blur-3xl"></div>
                        <div class="absolute bottom-0 left-0 w-40 h-40 bg-forest-green rounded-full blur-2xl"></div>
                    </div>
                    <div class="relative">
                        <h2 class="text-4xl font-bold font-lora text-gradient mb-8 drop-shadow-sm">Our Mission</h2>
                        <p class="text-xl leading-relaxed text-charcoal/80">To help you build a powerful morning routine that transforms your life, guided by timeless wisdom and modern self-help principles. We believe that the first hour of your day shapes everything that follows.</p>
                    </div>
                </div>
            </section>

            <!-- Enhanced Contact Section -->
            <section class="text-center">
                <h2 class="text-4xl font-bold text-charcoal font-lora mb-8 text-gradient drop-shadow-sm">Get In Touch</h2>
                <p class="text-xl text-charcoal/80 mb-12 max-w-3xl mx-auto leading-relaxed">Have questions, suggestions, or want to share your morning routine journey? I'd love to hear from you.</p>
                <div class="bg-gradient-to-br from-light-green/40 via-white to-light-green/20 rounded-3xl p-10 max-w-2xl mx-auto shadow-xl border border-light-green/20 relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-5">
                        <div class="absolute top-0 left-0 w-24 h-24 bg-forest-green rounded-full blur-xl"></div>
                        <div class="absolute bottom-0 right-0 w-20 h-20 bg-earthy-gold rounded-full blur-lg"></div>
                    </div>
                    
                    <div class="relative">
                        <h3 class="text-2xl font-bold text-charcoal font-lora mb-6">Connect With Me</h3>
                        <p class="text-lg text-charcoal/80 mb-8 leading-relaxed">I'm always interested in hearing about your meditation practice, morning routine challenges, or any feedback about the site.</p>
                        
                        <div class="space-y-4">
                            <div class="flex items-center justify-center space-x-3">
                                <svg class="w-6 h-6 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                                <span class="text-charcoal font-medium">will@thedhammapath.com</span>
                            </div>
                            
                            <div class="flex items-center justify-center space-x-3">
                                <svg class="w-6 h-6 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                                </svg>
                                <span class="text-charcoal font-medium">@thedhammapath</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </template>
    
    <template id="template-category">
        <div class="max-w-6xl mx-auto">
            <!-- Hero Section -->
            <div class="text-center mb-12">
                <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-forest-green font-lora mb-4">Learning Center</h1>
                <p class="text-lg sm:text-xl text-charcoal/80 max-w-3xl mx-auto px-4">Deepen your understanding of mindfulness, meditation, and Buddhist wisdom</p>
            </div>

            <!-- Meditation Learning Section -->
            <div class="mobile-learning-section bg-gradient-to-br from-forest-green/10 via-white to-light-green/20">
                <div class="mobile-learning-section-header">
                    <div class="mobile-learning-section-icon bg-forest-green/20">
                        <span>ðŸ§˜</span>
                    </div>
                    <h2 class="text-2xl sm:text-3xl font-bold text-charcoal font-lora">Meditation Fundamentals</h2>
                </div>
                
                <div class="mobile-learning-grid grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="mobile-learning-card">
                        <h3 class="text-xl font-semibold text-charcoal mb-3">Getting Started</h3>
                        <p class="text-charcoal/70 mb-4">Learn the basics of meditation practice, from posture to breathing techniques.</p>
                        <ul class="text-sm text-charcoal/60 space-y-2">
                            <li>â€¢ Proper sitting posture</li>
                            <li>â€¢ Breathing awareness</li>
                            <li>â€¢ Dealing with distractions</li>
                            <li>â€¢ Building consistency</li>
                        </ul>
                    </div>
                    
                    <div class="mobile-learning-card">
                        <h3 class="text-xl font-semibold text-charcoal mb-3">Types of Meditation</h3>
                        <p class="text-charcoal/70 mb-4">Explore different meditation techniques and find what works for you.</p>
                        <ul class="text-sm text-charcoal/60 space-y-2">
                            <li>â€¢ Mindfulness meditation</li>
                            <li>â€¢ Loving-kindness (Metta)</li>
                            <li>â€¢ Body scan practice</li>
                            <li>â€¢ Walking meditation</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Buddhist Wisdom Section -->
            <div class="mobile-learning-section bg-gradient-to-br from-earthy-gold/10 via-white to-earthy-gold/5">
                <div class="mobile-learning-section-header">
                    <div class="mobile-learning-section-icon bg-earthy-gold/20">
                        <span>ðŸ“š</span>
                    </div>
                    <h2 class="text-2xl sm:text-3xl font-bold text-charcoal font-lora">Buddhist Wisdom</h2>
                </div>
                
                <div class="mobile-learning-grid grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="mobile-learning-card">
                        <h3 class="text-xl font-semibold text-charcoal mb-3">Core Teachings</h3>
                        <p class="text-charcoal/70 mb-4">Essential Buddhist concepts for modern life and personal growth.</p>
                        <ul class="text-sm text-charcoal/60 space-y-2">
                            <li>â€¢ The Four Noble Truths</li>
                            <li>â€¢ The Eightfold Path</li>
                            <li>â€¢ Impermanence (Anicca)</li>
                            <li>â€¢ Non-self (Anatta)</li>
                        </ul>
                    </div>
                    
                    <div class="mobile-learning-card">
                        <h3 class="text-xl font-semibold text-charcoal mb-3">Practical Applications</h3>
                        <p class="text-charcoal/70 mb-4">How to apply ancient wisdom to modern challenges and daily life.</p>
                        <ul class="text-sm text-charcoal/60 space-y-2">
                            <li>â€¢ Managing stress and anxiety</li>
                            <li>â€¢ Cultivating compassion</li>
                            <li>â€¢ Building resilience</li>
                            <li>â€¢ Finding inner peace</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Morning Routine Guide -->
            <div class="mobile-learning-section bg-gradient-to-br from-light-green/20 via-white to-forest-green/10">
                <div class="mobile-learning-section-header">
                    <div class="mobile-learning-section-icon bg-light-green/30">
                        <span>ðŸŒ…</span>
                    </div>
                    <h2 class="text-2xl sm:text-3xl font-bold text-charcoal font-lora">Morning Routine Guide</h2>
                </div>
                
                <div class="mobile-learning-grid grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="mobile-learning-card">
                        <h3 class="text-lg font-semibold text-charcoal mb-3">5-Minute Routine</h3>
                        <p class="text-sm text-charcoal/70 mb-3">Perfect for busy mornings</p>
                        <ul class="text-xs text-charcoal/60 space-y-1">
                            <li>â€¢ 2 min: Deep breathing</li>
                            <li>â€¢ 2 min: Gratitude journal</li>
                            <li>â€¢ 1 min: Intention setting</li>
                        </ul>
                        <div class="mt-4">
                            <a href="#" data-page="timer" class="mobile-learning-action-btn mobile-touch-target text-xs">
                                Start 5-Min Practice
                            </a>
                        </div>
                    </div>
                    
                    <div class="mobile-learning-card">
                        <h3 class="text-lg font-semibold text-charcoal mb-3">15-Minute Routine</h3>
                        <p class="text-sm text-charcoal/70 mb-3">Balanced and comprehensive</p>
                        <ul class="text-xs text-charcoal/60 space-y-1">
                            <li>â€¢ 5 min: Meditation</li>
                            <li>â€¢ 5 min: Journaling</li>
                            <li>â€¢ 5 min: Light exercise</li>
                        </ul>
                        <div class="mt-4">
                            <a href="#" data-page="timer" class="mobile-learning-action-btn mobile-touch-target text-xs">
                                Start 15-Min Practice
                            </a>
                        </div>
                    </div>
                    
                    <div class="mobile-learning-card">
                        <h3 class="text-lg font-semibold text-charcoal mb-3">30-Minute Routine</h3>
                        <p class="text-sm text-charcoal/70 mb-3">Complete morning practice</p>
                        <ul class="text-xs text-charcoal/60 space-y-1">
                            <li>â€¢ 10 min: Meditation</li>
                            <li>â€¢ 10 min: Journaling</li>
                            <li>â€¢ 10 min: Exercise</li>
                        </ul>
                        <div class="mt-4">
                            <a href="#" data-page="timer" class="mobile-learning-action-btn mobile-touch-target text-xs">
                                Start 30-Min Practice
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="template-article">
        <article class="max-w-3xl mx-auto">
            <header class="text-center mb-10">
                <a href="#" id="article-category-link" data-page="" class="main-nav-link text-earthy-gold font-semibold uppercase tracking-wider"></a>
                <h1 id="article-title" class="text-4xl sm:text-5xl font-bold text-forest-green font-lora mt-2"></h1>
                <div class="mt-4 text-charcoal/60 text-sm flex justify-center items-center space-x-4">
                    <span>Last updated on <span id="article-date"></span></span> &bull; 
                    <span id="article-read-time"></span> min read
                    <button id="read-aloud-btn" class="flex items-center space-x-2 text-sm text-forest-green hover:underline px-3 py-2 bg-light-green rounded-lg border border-forest-green" style="background-color: #d4edda !important; color: #2d5016 !important; display: inline-flex !important; visibility: visible !important;">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" /></svg>
                        <span>Read Aloud</span>
                    </button>
                </div>
            </header>
            
            <div id="audio-player-container" class="my-8"></div>

            <div id="article-toc" class="p-6 bg-light-gold rounded-lg my-8">
                <h3 class="text-xl font-bold font-lora text-earthy-gold mb-3">Table of Contents</h3>
                <ul id="toc-list" class="space-y-2"></ul>
            </div>
            
            <div id="article-content" class="article-content text-lg leading-relaxed space-y-6">
                <!-- Article content will be injected by JS -->
            </div>

            <hr class="my-12 border-gray-300/70 dark:border-gray-600">

            <!-- Author Bio -->
            <section id="author-bio" class="p-6 bg-light-green rounded-lg flex items-center space-x-6"></section>

            <!-- Related Articles -->
            <section id="related-articles" class="mt-16"></section>

            <!-- Comments Section -->
            <section id="comments-section" class="mt-16"></section>
        </article>
    </template>

    <template id="template-about">
        <div class="max-w-6xl mx-auto">
            <!-- Hero Section with Enhanced Styling -->
            <div class="breathing-bg floating-particles zen-particles ambient-gradient rounded-3xl p-16 sm:p-20 mb-16 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-10 left-10 w-40 h-40 bg-forest-green rounded-full blur-3xl float-animation ambient-breathe"></div>
                    <div class="absolute bottom-10 right-10 w-32 h-32 bg-earthy-gold rounded-full blur-2xl float-animation ambient-float"></div>
                    <div class="absolute top-1/2 left-1/3 w-24 h-24 bg-light-green rounded-full blur-xl float-animation ambient-breathe"></div>
                </div>
                
                <!-- Floating Particles -->
                <div class="floating-particle particle-1" style="left: 18%; animation-delay: 2.5s;"></div>
                <div class="floating-particle particle-2" style="left: 42%; animation-delay: 5.5s;"></div>
                <div class="floating-particle particle-3" style="left: 68%; animation-delay: 8.5s;"></div>
                <div class="floating-particle particle-4" style="left: 92%; animation-delay: 11.5s;"></div>
                
                <header class="text-center relative z-10">
                    <div class="w-24 h-24 bg-gradient-to-br from-forest-green/30 to-earthy-gold/30 rounded-full flex items-center justify-center mx-auto mb-8 icon-breathe">
                        <svg class="w-12 h-12 text-forest-green drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                    </div>
                    <h1 class="text-5xl sm:text-6xl font-bold text-gradient font-lora mb-6 text-glow">About The Dhamma Path</h1>
                    <p class="text-xl text-charcoal/80 max-w-3xl mx-auto leading-relaxed mb-8">A personal journey of morning routines, mindfulness, and timeless wisdom</p>
                    <!-- Shimmer divider -->
                    <div class="shimmer-divider w-32 mx-auto"></div>
            </header>
            </div>
            
            <!-- Enhanced Personal Story Section -->
            <section class="mb-20">
                <div class="bg-gradient-to-br from-light-green/40 via-white to-light-gold/20 rounded-3xl p-12 sm:p-16 shadow-xl border border-light-green/20 relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 right-0 w-48 h-48 bg-gradient-to-bl from-forest-green/20 to-transparent rounded-full blur-3xl float-animation"></div>
                        <div class="absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-earthy-gold/20 to-transparent rounded-full blur-2xl float-animation"></div>
                        <div class="absolute top-1/2 left-1/2 w-24 h-24 bg-light-green rounded-full blur-xl float-animation"></div>
                    </div>
                    
                    <div class="relative z-10">
                        <h2 class="text-4xl font-bold text-charcoal font-lora mb-8 text-gradient drop-shadow-sm">My Story</h2>
            <div class="text-lg leading-relaxed space-y-6">
                            <p>Hi, I'm William. This website began as my personal morning routine companionâ€”a simple tool to help me start each day with intention through meditation, journaling, exercise, and confidence practice.</p>
                            <p>Like many people, I struggled with establishing consistent morning habits. I knew the benefits of meditation and mindful practices, but found it challenging to maintain a routine that actually stuck. That's when I decided to build something that would make it easier for me to show up for myself each morning.</p>
                            <p>What began as a personal project has evolved into a comprehensive platform that combines practical morning routine tools with the profound wisdom of Buddhist teachings. I believe that the best self-help is grounded in timeless principles, and that's why I've integrated authentic Buddhist wisdom throughout the site.</p>
                            <p>This isn't just another productivity app or meditation timer. It's a holistic approach to personal transformation that honors both modern self-help principles and ancient wisdom traditions.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Enhanced Buddhist Foundation Section -->
            <section class="mb-20">
                <div class="bg-gradient-to-br from-earthy-gold/15 via-white to-earthy-gold/5 rounded-3xl p-12 sm:p-16 shadow-xl border border-earthy-gold/20 relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 left-0 w-40 h-40 bg-gradient-to-br from-earthy-gold/20 to-transparent rounded-full blur-2xl float-animation"></div>
                        <div class="absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-forest-green/20 to-transparent rounded-full blur-xl float-animation"></div>
                        <div class="absolute top-1/2 right-1/4 w-20 h-20 bg-light-green rounded-full blur-lg float-animation"></div>
                    </div>
                    
                    <div class="relative z-10">
                        <h2 class="text-4xl font-bold text-charcoal font-lora mb-8 text-gradient drop-shadow-sm">The Buddhist Foundation</h2>
                        <div class="text-lg leading-relaxed space-y-6">
                            <p>The Dhamma Path is grounded in the profound wisdom of TheravÄda Buddhism, the oldest surviving Buddhist tradition. In a world of noise and distraction, we believe the path of mindfulness and wisdom offers a profound way to cultivate inner peace and clarity.</p>
                            <p>As a long-term practitioner of VipassanÄ meditation, I found that many online resources were either too academic and dense for beginners, or too commercialized and disconnected from the original teachings. This website is an attempt to bridge that gap.</p>
                            
                            <h3 class="text-2xl font-bold text-charcoal font-lora mt-10 mb-6">Our Approach</h3>
                            <p>We are committed to presenting the Dhamma (the teachings of the Buddha) as it is found in the PÄli Canon, the earliest collection of Buddhist scriptures. Our content is written with three core principles in mind:</p>
                            <ul class="list-disc list-inside space-y-3 ml-6 mt-4">
                    <li><strong>Authenticity:</strong> We ground our content in the suttas and the TheravÄda tradition.</li>
                    <li><strong>Clarity:</strong> We strive to explain complex concepts in simple, practical language without sacrificing depth.</li>
                    <li><strong>Practicality:</strong> We emphasize how these ancient teachings can be applied to modern life to reduce stress and cultivate genuine well-being.</li>
                </ul>
            </div>
        </div>
            </section>

            <!-- Enhanced Mission Section -->
            <section class="mb-20">
                <div class="bg-gradient-to-br from-charcoal via-gray-800 to-charcoal text-linen-white rounded-2xl p-10 sm:p-14 text-center shadow-xl relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 right-0 w-48 h-48 bg-earthy-gold rounded-full blur-3xl"></div>
                        <div class="absolute bottom-0 left-0 w-40 h-40 bg-forest-green rounded-full blur-2xl"></div>
            </div>
                    <div class="relative">
                        <h2 class="text-4xl font-bold font-lora text-gradient mb-8 drop-shadow-sm">Our Mission</h2>
                        <p class="text-xl leading-relaxed text-charcoal/80">To help you build a powerful morning routine that transforms your life, guided by timeless wisdom and modern self-help principles. We believe that the first hour of your day shapes everything that follows.</p>
                    </div>
                </div>
            </section>

            <!-- Enhanced Contact Section -->
            <section class="text-center">
                <h2 class="text-4xl font-bold text-charcoal font-lora mb-8 text-gradient drop-shadow-sm">Get In Touch</h2>
                <p class="text-xl text-charcoal/80 mb-12 max-w-3xl mx-auto leading-relaxed">Have questions, suggestions, or want to share your morning routine journey? I'd love to hear from you.</p>
                <div class="bg-gradient-to-br from-light-green/40 via-white to-light-green/20 rounded-3xl p-10 max-w-2xl mx-auto shadow-xl border border-light-green/20 relative overflow-hidden">
                    <!-- Subtle background elements -->
                    <div class="absolute inset-0 opacity-5">
                        <div class="absolute top-0 left-0 w-24 h-24 bg-forest-green rounded-full blur-xl"></div>
                        <div class="absolute bottom-0 right-0 w-20 h-20 bg-earthy-gold rounded-full blur-lg"></div>
                    </div>
                    <div class="relative">
                        <p class="text-charcoal/80 mb-6 leading-relaxed">This is a personal project, offered freely for the benefit of all who are curious about building better morning habits and exploring mindful living.</p>
                        <p class="text-sm text-charcoal/60 font-medium">Built with â¤ï¸ and â˜• in the early morning hours</p>
                    </div>
                </div>
            </section>
        </div>
    </template>
    
    <template id="template-privacy">
        <div class="max-w-5xl mx-auto">
            <!-- Enhanced header -->
            <header class="text-center mb-16">
                <h1 class="text-4xl sm:text-5xl font-bold text-forest-green font-lora mb-6 drop-shadow-sm">Privacy Policy</h1>
                <p class="text-xl text-charcoal/80 leading-relaxed max-w-3xl mx-auto">Your privacy matters to us. Here's how we handle your data.</p>
                <p class="mt-4 text-sm text-charcoal/60 font-medium">Last updated: January 2025</p>
                <!-- Decorative line -->
                <div class="mt-8 w-24 h-1 bg-gradient-to-r from-forest-green to-earthy-gold rounded-full mx-auto"></div>
            </header>
            
            <div class="prose prose-lg max-w-none">
                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Overview</h2>
                    <p class="text-charcoal/80 leading-relaxed">The Dhamma Path is designed with privacy in mind. We believe your personal growth journey should remain private, and we've built this platform to respect that principle.</p>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Information We Collect</h2>
                    <div class="space-y-4">
                        <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Data Stored Locally</h3>
                            <p class="text-charcoal/80 leading-relaxed">All your personal data is stored locally in your browser, including:</p>
                            <ul class="list-disc list-inside ml-6 space-y-1 text-charcoal/80">
                                <li>Journal entries and writing sessions</li>
                                <li>Meditation timer preferences and progress</li>
                                <li>Workout completion records</li>
                                <li>Interview practice recordings (stored as local files)</li>
                                <li>Daily progress tracking data</li>
                                <li>Theme preferences (dark/light mode)</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">No Server-Side Data Collection</h3>
                            <p class="text-charcoal/80 leading-relaxed">We do not collect, store, or transmit any of your personal data to external servers. Your information never leaves your device unless you explicitly choose to export it.</p>
                        </div>
                    </div>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">How We Use Your Information</h2>
                    <p class="text-charcoal/80 leading-relaxed">Since all data is stored locally, we use your information only to:</p>
                    <ul class="list-disc list-inside ml-6 space-y-1 text-charcoal/80">
                        <li>Provide personalized morning routine tracking</li>
                        <li>Remember your preferences and settings</li>
                        <li>Display your progress and streaks</li>
                        <li>Enable features like auto-save and progress persistence</li>
                    </ul>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Data Security</h2>
                    <p class="text-charcoal/80 leading-relaxed">Your data is secured by your browser's built-in security features. We use standard web technologies (localStorage) that are designed to keep your information private and secure on your device.</p>
                </section>

                <!-- Data Management Section -->
                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Data Management</h2>
                    <div class="space-y-6">
                        <!-- Storage Usage -->
                        <div class="bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200/50">
                            <h3 class="text-lg font-semibold text-charcoal mb-3">Storage Usage</h3>
                            <div id="storage-info" class="text-sm text-charcoal/70">
                                <div class="flex justify-between items-center mb-2">
                                    <span>Total Used:</span>
                                    <span id="total-storage">Loading...</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                                    <div id="storage-bar" class="bg-forest-green h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                                </div>
                                <p class="text-xs text-charcoal/60">Data is stored locally on your device</p>
                            </div>
                        </div>

                        <!-- Export/Import Data -->
                        <div class="bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200/50">
                            <h3 class="text-lg font-semibold text-charcoal mb-3">Backup & Restore</h3>
                            <div class="space-y-3">
                                <button id="export-data" class="w-full px-4 py-2 bg-forest-green text-white rounded-lg hover:bg-forest-green/90 transition-colors">
                                    ðŸ“¤ Export All Data
                                </button>
                                <label class="w-full px-4 py-2 bg-earthy-gold text-white rounded-lg hover:bg-earthy-gold/90 transition-colors cursor-pointer text-center block">
                                    ðŸ“¥ Import Data
                                    <input type="file" id="import-data" accept=".json" class="hidden">
                                </label>
                                <p class="text-xs text-charcoal/60">Export your data as a JSON file for backup</p>
                            </div>
                        </div>

                        <!-- Data Controls -->
                        <div class="bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200/50">
                            <h3 class="text-lg font-semibold text-charcoal mb-3">Data Controls</h3>
                            <div class="space-y-3">
                                <button id="clear-journal" class="w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                                    ðŸ—‘ï¸ Clear Journal Entries
                                </button>
                                <button id="clear-timer-data" class="w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors">
                                    â° Clear Timer History
                                </button>
                                <button id="clear-all-data" class="w-full px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors">
                                    ðŸ—‘ï¸ Clear All Data
                                </button>
                                <p class="text-xs text-charcoal/60">âš ï¸ These actions cannot be undone</p>
                            </div>
                        </div>

                        <!-- Data Statistics -->
                        <div class="bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200/50">
                            <h3 class="text-lg font-semibold text-charcoal mb-3">Your Progress</h3>
                            <div id="progress-stats" class="grid grid-cols-2 gap-4 text-sm">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-forest-green" id="total-sessions">0</div>
                                    <div class="text-charcoal/70">Meditation Sessions</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-earthy-gold" id="total-workouts">0</div>
                                    <div class="text-charcoal/70">Workouts Completed</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-light-green" id="journal-entries">0</div>
                                    <div class="text-charcoal/70">Journal Entries</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-forest-green" id="total-time">0</div>
                                    <div class="text-charcoal/70">Minutes Meditated</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Third-Party Services</h2>
                    <p class="text-charcoal/80 leading-relaxed">We use minimal third-party services:</p>
                    <ul class="list-disc list-inside ml-6 space-y-1 text-charcoal/80">
                        <li><strong>Tailwind CSS (CDN):</strong> For styling - no personal data transmitted</li>
                        <li><strong>Google Fonts:</strong> For typography - no personal data transmitted</li>
                        <li><strong>No analytics or tracking:</strong> We don't use Google Analytics, Facebook Pixel, or any other tracking services</li>
                    </ul>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Your Rights</h2>
                    <p class="text-charcoal/80 leading-relaxed">You have complete control over your data:</p>
                    <ul class="list-disc list-inside ml-6 space-y-1 text-charcoal/80">
                        <li>Export your journal entries and progress data anytime</li>
                        <li>Clear all data by using your browser's "Clear Site Data" feature</li>
                        <li>Delete specific entries through the interface</li>
                        <li>No account required - you can use the site anonymously</li>
                    </ul>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Changes to This Policy</h2>
                    <p class="text-charcoal/80 leading-relaxed">We may update this privacy policy occasionally. Any changes will be reflected on this page with an updated "Last updated" date. Since we don't collect contact information, we'll announce significant changes through the website itself.</p>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Contact</h2>
                    <p class="text-charcoal/80 leading-relaxed">If you have any questions about this privacy policy or how we handle your data, please reach out through the About page. We're committed to transparency and will respond to any concerns.</p>
                </section>

                <div class="bg-light-green rounded-lg p-6 mt-12">
                    <p class="text-charcoal/80 text-center"><strong>Remember:</strong> Your morning routine journey is personal and private. We've designed this platform to keep it that way.</p>
                </div>
            </div>
        </div>
    </template>
    
    <template id="template-terms">
        <div class="max-w-5xl mx-auto">
            <!-- Enhanced header -->
            <header class="text-center mb-16">
                <h1 class="text-4xl sm:text-5xl font-bold text-forest-green font-lora mb-6 drop-shadow-sm">Terms of Service</h1>
                <p class="text-xl text-charcoal/80 leading-relaxed max-w-3xl mx-auto">Simple terms for using The Dhamma Path</p>
                <p class="mt-4 text-sm text-charcoal/60 font-medium">Last updated: January 2025</p>
                <!-- Decorative line -->
                <div class="mt-8 w-24 h-1 bg-gradient-to-r from-forest-green to-earthy-gold rounded-full mx-auto"></div>
            </header>
            
            <div class="prose prose-lg max-w-none">
                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Acceptance of Terms</h2>
                    <p class="text-charcoal/80 leading-relaxed">By using The Dhamma Path, you agree to these terms. If you don't agree, please don't use the site. It's that simple.</p>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">What We Provide</h2>
                    <p class="text-charcoal/80 leading-relaxed">The Dhamma Path is a free platform that offers:</p>
                    <ul class="list-disc list-inside ml-6 space-y-1 text-charcoal/80">
                        <li>Meditation timer with customizable settings</li>
                        <li>Mindful journaling with auto-save functionality</li>
                        <li>7-minute workout with guided exercises</li>
                        <li>Confidence practice with video recording</li>
                        <li>Progress tracking for your morning routine</li>
                        <li>Educational content about Buddhist teachings and mindfulness</li>
                    </ul>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Your Responsibilities</h2>
                    <p class="text-charcoal/80 leading-relaxed">Please use the site responsibly:</p>
                    <ul class="list-disc list-inside ml-6 space-y-1 text-charcoal/80">
                        <li>Use the tools for personal growth and self-improvement</li>
                        <li>Respect the Buddhist teachings and cultural context</li>
                        <li>Don't attempt to hack, damage, or misuse the platform</li>
                        <li>Understand that this is a personal project, not a commercial service</li>
                    </ul>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Content and Intellectual Property</h2>
                    <div class="space-y-4">
                        <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Buddhist Teachings</h3>
                            <p class="text-charcoal/80 leading-relaxed">The Buddhist content is based on public domain texts and traditional teachings. We present them respectfully and for educational purposes only.</p>
            </div>
                    <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Your Content</h3>
                            <p class="text-charcoal/80 leading-relaxed">Your journal entries, recordings, and personal data belong to you. We don't claim ownership of anything you create using our tools.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Website Code</h3>
                            <p class="text-charcoal/80 leading-relaxed">The website design and functionality are original work. Please don't copy or reproduce without permission.</p>
                    </div>
                    </div>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Disclaimers</h2>
                    <div class="space-y-4">
                     <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Health and Wellness</h3>
                            <p class="text-charcoal/80 leading-relaxed">The meditation, exercise, and wellness content is for educational purposes only. Consult healthcare professionals for medical advice. Listen to your body and practice safely.</p>
                    </div>
                        <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Spiritual Guidance</h3>
                            <p class="text-charcoal/80 leading-relaxed">While we present Buddhist teachings respectfully, this is not a substitute for guidance from qualified teachers or spiritual advisors.</p>
                </div>
                        <div>
                            <h3 class="text-xl font-semibold text-charcoal mb-2">Technical Issues</h3>
                            <p class="text-charcoal/80 leading-relaxed">We strive for reliability, but this is a personal project. We're not liable for any technical issues, data loss, or service interruptions.</p>
                </div>
            </div>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Limitation of Liability</h2>
                    <p class="text-charcoal/80 leading-relaxed">This website is provided "as is" without warranties. We're not responsible for any damages, losses, or issues arising from your use of the platform. Use at your own discretion.</p>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Changes to Terms</h2>
                    <p class="text-charcoal/80 leading-relaxed">We may update these terms occasionally. Continued use of the site after changes constitutes acceptance of the new terms. We'll announce significant changes on the website.</p>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Termination</h2>
                    <p class="text-charcoal/80 leading-relaxed">You can stop using the site anytime. We reserve the right to modify or discontinue the service, though we'll try to give notice for significant changes.</p>
                </section>

                <section class="mb-8">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Contact</h2>
                    <p class="text-charcoal/80 leading-relaxed">Questions about these terms? Reach out through the About page. We're here to help and want to make sure everything is clear.</p>
                </section>

                <div class="bg-light-green rounded-lg p-6 mt-12">
                    <p class="text-charcoal/80 text-center"><strong>Remember:</strong> This is a personal project created to help people build better morning routines. We're not a big corporation - just someone who believes in the power of mindful mornings.</p>
                </div>
            </div>
        </div>
    </template>
    
    <template id="template-glossary">
        <div class="max-w-6xl mx-auto">
            <!-- Hero Section -->
            <div class="text-center mb-16">
                <div class="w-20 h-20 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl">
                    <span class="text-3xl">ðŸ“š</span>
                </div>
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-forest-green font-lora mb-6 text-gradient">PÄli Glossary</h1>
                <p class="text-xl sm:text-2xl text-charcoal/80 max-w-4xl mx-auto px-4 leading-relaxed">Essential Buddhist terms from the ancient PÄli language, explained for modern practitioners</p>
                <div class="mt-6 w-24 h-1 bg-gradient-to-r from-forest-green to-earthy-gold rounded-full mx-auto"></div>
            </div>

            <!-- Search and Filter Section -->
            <div class="bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-6 sm:p-8 shadow-xl border border-gray-100 mb-12">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-charcoal font-lora mb-4">Find a Term</h2>
                    <p class="text-charcoal/70">Search through our comprehensive collection of Buddhist terms</p>
                </div>
                <div class="max-w-2xl mx-auto">
                    <div class="relative">
                        <input type="text" id="glossary-search" placeholder="Search for a term..." class="w-full px-6 py-4 pl-12 border-2 border-forest-green/30 rounded-2xl focus:ring-2 focus:ring-forest-green focus:border-forest-green focus:outline-none text-lg shadow-lg">
                        <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-forest-green/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Core Concepts Section -->
            <div class="bg-gradient-to-br from-forest-green/15 via-white to-light-green/25 rounded-3xl p-8 sm:p-12 lg:p-16 shadow-2xl border-2 border-forest-green/30 mb-12 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-forest-green rounded-full blur-2xl float-animation"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-earthy-gold rounded-full blur-xl float-animation"></div>
                </div>
                
                <div class="relative z-10">
                    <h2 class="text-3xl sm:text-4xl font-bold text-charcoal font-lora mb-8 text-center text-gradient">Core Buddhist Concepts</h2>
                    <p class="text-center text-lg text-charcoal/70 mb-12 max-w-3xl mx-auto">The fundamental principles that form the foundation of Buddhist practice</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-forest-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸŒ¿</span>
                            </div>
                            <h3 class="text-2xl font-bold text-forest-green mb-4 text-center">Dhamma (Dharma)</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The teachings of the Buddha; the universal law of nature; truth.</p>
                            <p class="text-sm text-charcoal/60 italic">The fundamental teachings that lead to liberation from suffering.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-earthy-gold/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ‘¥</span>
                            </div>
                            <h3 class="text-2xl font-bold text-earthy-gold mb-4 text-center">Sangha</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The community of Buddhist practitioners, both monastic and lay.</p>
                            <p class="text-sm text-charcoal/60 italic">One of the Three Jewels of Buddhism, providing support and guidance.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-light-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ§˜</span>
                            </div>
                            <h3 class="text-2xl font-bold text-light-green mb-4 text-center">Buddha</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The awakened one; one who has achieved complete enlightenment.</p>
                            <p class="text-sm text-charcoal/60 italic">The historical Buddha, Siddhartha Gautama, or any enlightened being.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-forest-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ•Šï¸</span>
                            </div>
                            <h3 class="text-2xl font-bold text-forest-green mb-4 text-center">Nirvana (NibbÄna)</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The ultimate goal of Buddhist practice; complete liberation from suffering.</p>
                            <p class="text-sm text-charcoal/60 italic">The cessation of craving, hatred, and delusion; true peace.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Meditation Terms Section -->
            <div class="bg-gradient-to-br from-earthy-gold/15 via-white to-earthy-gold/10 rounded-3xl p-8 sm:p-12 lg:p-16 shadow-2xl border-2 border-earthy-gold/30 mb-12 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 left-0 w-32 h-32 bg-earthy-gold rounded-full blur-2xl float-animation"></div>
                    <div class="absolute bottom-0 right-0 w-24 h-24 bg-forest-green rounded-full blur-xl float-animation"></div>
                </div>
                
                <div class="relative z-10">
                    <h2 class="text-3xl sm:text-4xl font-bold text-charcoal font-lora mb-8 text-center text-gradient">Meditation & Practice</h2>
                    <p class="text-center text-lg text-charcoal/70 mb-12 max-w-3xl mx-auto">Essential terms for understanding Buddhist meditation practices</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-earthy-gold/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ§˜â€â™€ï¸</span>
                            </div>
                            <h3 class="text-2xl font-bold text-earthy-gold mb-4 text-center">VipassanÄ</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Insight meditation; the practice of seeing things as they really are.</p>
                            <p class="text-sm text-charcoal/60 italic">A systematic method of developing mindfulness and wisdom.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-earthy-gold/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ§˜â€â™‚ï¸</span>
                            </div>
                            <h3 class="text-2xl font-bold text-earthy-gold mb-4 text-center">Samatha</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Calm-abiding meditation; the development of concentration and tranquility.</p>
                            <p class="text-sm text-charcoal/60 italic">Foundation practice that leads to mental stability and focus.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-earthy-gold/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ‘ï¸</span>
                            </div>
                            <h3 class="text-2xl font-bold text-earthy-gold mb-4 text-center">Sati</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Mindfulness; present-moment awareness without judgment.</p>
                            <p class="text-sm text-charcoal/60 italic">The seventh factor of the Eightfold Path; key to all meditation practice.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-earthy-gold/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ’</span>
                            </div>
                            <h3 class="text-2xl font-bold text-earthy-gold mb-4 text-center">Metta</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Loving-kindness; unconditional love and goodwill toward all beings.</p>
                            <p class="text-sm text-charcoal/60 italic">A meditation practice that cultivates compassion and reduces ill-will.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- The Four Noble Truths -->
            <div class="bg-gradient-to-br from-light-green/20 via-white to-forest-green/15 rounded-3xl p-8 sm:p-12 lg:p-16 shadow-2xl border-2 border-light-green/30 mb-12 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-light-green rounded-full blur-2xl float-animation"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-forest-green rounded-full blur-xl float-animation"></div>
                </div>
                
                <div class="relative z-10">
                    <h2 class="text-3xl sm:text-4xl font-bold text-charcoal font-lora mb-8 text-center text-gradient">The Four Noble Truths</h2>
                    <p class="text-center text-lg text-charcoal/70 mb-12 max-w-3xl mx-auto">The foundational teachings of Buddhism that explain the nature of suffering and the path to liberation</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-light-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ˜”</span>
                            </div>
                            <h3 class="text-2xl font-bold text-light-green mb-4 text-center">1. Dukkha (Suffering)</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The truth that life contains suffering, dissatisfaction, and stress.</p>
                            <p class="text-sm text-charcoal/60 italic">Not just physical pain, but the deeper unsatisfactoriness of existence.</p>
                        </div>
            
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-light-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ”—</span>
                            </div>
                            <h3 class="text-2xl font-bold text-light-green mb-4 text-center">2. Samudaya (Origin)</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The truth that suffering arises from craving and attachment.</p>
                            <p class="text-sm text-charcoal/60 italic">The root cause of all suffering is our desires and clinging.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-light-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ›‘</span>
                            </div>
                            <h3 class="text-2xl font-bold text-light-green mb-4 text-center">3. Nirodha (Cessation)</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The truth that suffering can be ended by letting go of craving.</p>
                            <p class="text-sm text-charcoal/60 italic">Liberation from suffering is possible through the cessation of desire.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-light-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ›¤ï¸</span>
                            </div>
                            <h3 class="text-2xl font-bold text-light-green mb-4 text-center">4. Magga (Path)</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">The truth that the Eightfold Path leads to the end of suffering.</p>
                            <p class="text-sm text-charcoal/60 italic">The practical way to achieve liberation through right understanding and action.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Terms Section -->
            <div class="bg-gradient-to-br from-forest-green/15 via-white to-earthy-gold/10 rounded-3xl p-8 sm:p-12 lg:p-16 shadow-2xl border-2 border-forest-green/30 mb-12 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 left-0 w-32 h-32 bg-forest-green rounded-full blur-2xl float-animation"></div>
                    <div class="absolute bottom-0 right-0 w-24 h-24 bg-earthy-gold rounded-full blur-xl float-animation"></div>
                </div>
                
                <div class="relative z-10">
                    <h2 class="text-3xl sm:text-4xl font-bold text-charcoal font-lora mb-8 text-center text-gradient">Additional Essential Terms</h2>
                    <p class="text-center text-lg text-charcoal/70 mb-12 max-w-3xl mx-auto">More important concepts for deepening your understanding of Buddhist practice</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-forest-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸ”„</span>
                            </div>
                            <h3 class="text-2xl font-bold text-forest-green mb-4 text-center">Karma</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Action and its consequences; the law of cause and effect.</p>
                            <p class="text-sm text-charcoal/60 italic">Every action has consequences that shape our future experiences.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-earthy-gold/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸŒŠ</span>
                            </div>
                            <h3 class="text-2xl font-bold text-earthy-gold mb-4 text-center">Anicca</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Impermanence; the truth that all things are constantly changing.</p>
                            <p class="text-sm text-charcoal/60 italic">Understanding this helps us let go of attachment and find peace.</p>
                        </div>
                        
                        <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-light-green/20 hover:shadow-2xl hover:scale-105 transition-all duration-300">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                                <span class="text-2xl">ðŸš«</span>
                            </div>
                            <h3 class="text-2xl font-bold text-light-green mb-4 text-center">Anatta</h3>
                            <p class="text-charcoal/80 mb-4 leading-relaxed">Non-self; the truth that there is no permanent, unchanging self.</p>
                            <p class="text-sm text-charcoal/60 italic">The realization that frees us from ego and suffering.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Call to Action -->
            <div class="text-center bg-gradient-to-br from-forest-green/20 via-white to-earthy-gold/20 rounded-3xl p-12 shadow-2xl border-2 border-forest-green/30">
                <h2 class="text-3xl font-bold text-charcoal font-lora mb-6">Ready to Begin Your Journey?</h2>
                <p class="text-xl text-charcoal/80 mb-8 max-w-2xl mx-auto">Understanding these terms is just the beginning. Start your meditation practice today.</p>
                <button onclick="navigateTo('timer')" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-bold text-lg rounded-2xl hover:from-forest-green/90 hover:to-forest-green/80 hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-300 shadow-lg">
                    <span class="mr-3">ðŸ§˜â€â™€ï¸</span>
                    Start Meditating Now
                </button>
            </div>
        </div>
    </template>
            
            <!-- Learning Tips Card -->
            <div class="mt-16 bg-gradient-to-br from-earthy-gold/15 via-white to-earthy-gold/5 rounded-3xl p-10 shadow-xl border border-earthy-gold/20 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-earthy-gold rounded-full blur-2xl float-animation"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-forest-green rounded-full blur-xl float-animation"></div>
                    </div>
                
                <div class="text-center relative z-10">
                    <h3 class="text-3xl font-bold text-charcoal font-lora mb-6 text-gradient">Understanding PÄli</h3>
                    <p class="text-lg text-charcoal/70 max-w-3xl mx-auto mb-8">PÄli is the ancient language of the Buddha's teachings. These terms carry deep meaning and can transform your understanding of meditation and mindfulness.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div class="text-left">
                            <h4 class="text-xl font-bold text-charcoal font-lora mb-4 flex items-center">
                                <div class="w-8 h-8 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-white text-sm font-bold">1</span>
                </div>
                                Pronunciation Guide
                            </h4>
                            <p class="text-charcoal/70 leading-relaxed">PÄli uses simple phonetic pronunciation. Each letter is pronounced as written, with vowels similar to Spanish or Italian.</p>
            </div>
            
                        <div class="text-left">
                            <h4 class="text-xl font-bold text-charcoal font-lora mb-4 flex items-center">
                                <div class="w-8 h-8 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-white text-sm font-bold">2</span>
                                </div>
                                Context Matters
                            </h4>
                            <p class="text-charcoal/70 leading-relaxed">These terms often have multiple layers of meaning. Understanding the context helps reveal their deeper significance.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="template-search-results">
        <div class="max-w-4xl mx-auto">
            <header class="text-center mb-12">
                <h1 class="text-4xl sm:text-5xl font-bold text-forest-green font-lora">Search Results</h1>
                <p id="search-results-query" class="mt-4 max-w-2xl mx-auto text-xl text-charcoal/80"></p>
            </header>
            <div id="search-results-list" class="space-y-8">
                <!-- Search results will be injected here -->
            </div>
        </div>
    </template>
    
    <template id="template-timer">
        <div class="max-w-4xl mx-auto px-2 sm:px-4">
            <!-- Enhanced Header with Mobile Optimization -->
            <div class="text-center mb-4 sm:mb-6 lg:mb-8">
                <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gradient font-lora mb-2 sm:mb-3 lg:mb-4">Meditation Timer</h1>
                <p class="text-sm sm:text-base md:text-lg text-charcoal/80 max-w-2xl mx-auto px-2 sm:px-4">Find your center with our fully functional timer featuring progress tracking, gentle sounds, and customizable durations</p>
            </div>
            
            <!-- Main Timer Section - Centered and Prominent -->
            <div class="max-w-4xl mx-auto">
                <div class="space-y-6 sm:space-y-8">
            
                    <!-- Functional Meditation Timer -->
                    <div class="bg-gradient-to-br from-white to-gray-50/50 rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 lg:p-8 shadow-xl border border-gray-100 relative overflow-hidden">
                        <!-- Subtle floating background elements -->
                        <div class="absolute inset-0 opacity-5">
                            <div class="absolute top-0 right-0 w-24 sm:w-32 h-24 sm:h-32 bg-forest-green rounded-full blur-2xl float-animation"></div>
                            <div class="absolute bottom-0 left-0 w-16 sm:w-24 h-16 sm:h-24 bg-earthy-gold rounded-full blur-xl float-animation"></div>
                        </div>

                        <div class="text-center relative z-10">
                            <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-charcoal font-lora mb-3 sm:mb-4 md:mb-6">Your Meditation Timer</h2>
                            
                            <!-- Timer Display with Progress Ring - Mobile Optimized -->
                            <div class="relative w-48 h-48 xs:w-56 xs:h-56 sm:w-64 sm:h-64 md:w-72 md:h-72 lg:w-80 lg:h-80 mx-auto mb-4 sm:mb-6 md:mb-8">
                                <!-- Progress Ring -->
                                <svg class="w-full h-full transform -rotate-90 drop-shadow-lg" viewBox="0 0 100 100">
                                    <!-- Background Circle -->
                                    <circle cx="50" cy="50" r="45" stroke="#e5e7eb" stroke-width="6" fill="none" opacity="0.3"/>
                                    <!-- Progress Circle -->
                                    <circle id="progress-ring" cx="50" cy="50" r="45" stroke="#4A6C55" stroke-width="6" fill="none" 
                                            stroke-dasharray="283" stroke-dashoffset="283" 
                                            class="transition-all duration-1000 ease-linear drop-shadow-lg"
                                            stroke-linecap="round"/>
                                </svg>
                                
                                <!-- Timer Content -->
                                <div class="absolute inset-0 flex flex-col items-center justify-center">
                                    <div id="timer-display" class="text-5xl xs:text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-lora text-forest-green font-bold mb-4 sm:mb-5 drop-shadow-lg leading-none meditation-pulse">10:00</div>
                                    <div id="timer-status" class="text-lg sm:text-xl md:text-2xl text-charcoal/90 font-semibold mb-4 sm:mb-5 px-4 wisdom-fade">Ready to begin</div>
                                    <div class="text-3xl xs:text-4xl sm:text-5xl md:text-6xl drop-shadow-lg lotus-bloom">ðŸ§˜â€â™€ï¸</div>
                                </div>
                                
                                <!-- Pulsing effect when running -->
                                <div id="timer-pulse" class="absolute inset-0 rounded-full border-4 border-forest-green/30 opacity-0"></div>
                            </div>
                            
                            <!-- Timer Controls - Mobile First Layout -->
                            <div class="flex flex-col space-y-3 sm:space-y-4 mb-6 sm:mb-8">
                                <!-- Duration Selection - Mobile Optimized -->
                                <div class="flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-4">
                                    <label for="timer-duration" class="text-sm font-bold text-charcoal whitespace-nowrap">Duration:</label>
                                    <select id="timer-duration" class="w-full sm:w-auto px-4 py-3 border-2 border-forest-green/30 rounded-xl focus:ring-2 focus:ring-forest-green focus:border-forest-green focus:outline-none bg-white text-sm font-semibold shadow-sm hover:shadow-md transition-all duration-200 min-h-[48px]">
                                        <option value="300">5 minutes</option>
                                        <option value="600" selected>10 minutes</option>
                                        <option value="900">15 minutes</option>
                                        <option value="1200">20 minutes</option>
                                        <option value="1800">30 minutes</option>
                        </select>
                    </div>
                                
                                <!-- Sound Options - Enhanced -->
                                <div class="flex flex-col items-center space-y-3">
                                    <div class="flex items-center space-x-3">
                                        <label class="flex items-center space-x-3 cursor-pointer bg-white/80 backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 min-h-[48px]">
                                            <input type="checkbox" id="timer-sound" class="h-5 w-5 rounded text-forest-green focus:ring-forest-green focus:ring-2" checked>
                                            <span class="text-sm font-bold text-charcoal">ðŸ”” Sound</span>
                                        </label>
                                    </div>
                                    
                                    <!-- Ambient Sound Selection with Preview -->
                                    <div id="sound-options" class="flex flex-wrap justify-center gap-2 mt-2">
                                        <button class="sound-option px-3 py-2 text-xs bg-forest-green/20 text-forest-green rounded-lg hover:bg-forest-green/30 transition-colors group" data-sound="bell">
                                            ðŸ”” Bell
                                            <span class="sound-preview-text text-xs text-forest-green/60 ml-1">(hover to preview)</span>
                                        </button>
                                        <button class="sound-option px-3 py-2 text-xs bg-forest-green/20 text-forest-green rounded-lg hover:bg-forest-green/30 transition-colors group" data-sound="rain">
                                            ðŸŒ§ï¸ Rain
                                            <span class="sound-preview-text text-xs text-forest-green/60 ml-1">(hover to preview)</span>
                                        </button>
                                        <button class="sound-option px-3 py-2 text-xs bg-forest-green/20 text-forest-green rounded-lg hover:bg-forest-green/30 transition-colors group" data-sound="ocean">
                                            ðŸŒŠ Ocean
                                            <span class="sound-preview-text text-xs text-forest-green/60 ml-1">(hover to preview)</span>
                                        </button>
                                        <button class="sound-option px-3 py-2 text-xs bg-forest-green/20 text-forest-green rounded-lg hover:bg-forest-green/30 transition-colors group" data-sound="forest">
                                            ðŸŒ² Forest
                                            <span class="sound-preview-text text-xs text-forest-green/60 ml-1">(hover to preview)</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Control Buttons - Enhanced Mobile First with Better Touch Targets -->
                            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
                                <button id="timer-start-btn" class="w-full sm:w-auto px-8 sm:px-10 md:px-12 py-5 sm:py-6 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-bold rounded-3xl hover:from-forest-green/90 hover:to-forest-green/80 hover:shadow-2xl hover:scale-110 active:scale-95 transition-all duration-300 text-xl sm:text-2xl min-h-[64px] shadow-2xl touch-manipulation mobile-touch-feedback mobile-button-hover btn-enhanced group">
                                    <div class="flex items-center justify-center space-x-4">
                                        <span class="text-3xl group-hover:scale-110 transition-transform duration-300">â–¶ï¸</span>
                                        <span class="font-bold text-xl sm:text-2xl group-hover:tracking-wide transition-all duration-300">Start Meditation</span>
                                    </div>
                                </button>
                                <button id="timer-pause-btn" class="w-full sm:w-auto px-8 sm:px-10 md:px-12 py-5 sm:py-6 bg-gradient-to-r from-earthy-gold to-earthy-gold/90 text-white font-bold rounded-3xl hover:from-earthy-gold/90 hover:to-earthy-gold/80 hover:shadow-2xl hover:scale-110 active:scale-95 transition-all duration-300 text-xl sm:text-2xl min-h-[64px] shadow-2xl touch-manipulation btn-enhanced group">
                                    <div class="flex items-center justify-center space-x-4">
                                        <span class="text-3xl group-hover:scale-110 transition-transform duration-300">â¸ï¸</span>
                                        <span class="font-bold text-xl sm:text-2xl group-hover:tracking-wide transition-all duration-300">Pause</span>
                                    </div>
                                </button>
                                <button id="timer-reset-btn" class="w-full sm:w-auto px-8 sm:px-10 md:px-12 py-5 sm:py-6 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold rounded-3xl hover:from-gray-600 hover:to-gray-700 hover:shadow-2xl hover:scale-110 active:scale-95 transition-all duration-300 text-xl sm:text-2xl min-h-[64px] shadow-2xl touch-manipulation btn-enhanced group">
                                    <div class="flex items-center justify-center space-x-4">
                                        <span class="text-3xl group-hover:rotate-180 transition-transform duration-500">ðŸ”„</span>
                                        <span class="font-bold text-xl sm:text-2xl group-hover:tracking-wide transition-all duration-300">Reset</span>
                                    </div>
                                </button>
                            </div>
                            
                            <!-- Breathing Guide -->
                            <div class="mt-6 sm:mt-8 bg-gradient-to-r from-light-green/30 to-forest-green/20 rounded-2xl p-4 sm:p-6 max-w-lg sm:max-w-xl mx-auto border-2 border-light-green/40 shadow-lg">
                                <h3 class="text-lg sm:text-xl font-bold text-charcoal mb-4 text-center">ðŸŒ¬ï¸ Breathing Guide</h3>
                                <div class="breathing-circle" id="breathing-guide">
                                    <div class="breathing-text" id="breathing-text">Breathe In</div>
                                </div>
                                <p class="text-sm sm:text-base text-charcoal/80 leading-relaxed text-center mt-4">
                                    ðŸ’¡ <strong>Pro Tip:</strong> Follow the circle's rhythm. Breathe in as it expands, breathe out as it contracts.
                                </p>
                            </div>
                        </div>
                    </div>
                    <!-- Meditation Guide - Enhanced Mobile Optimized -->
                    <div class="bg-gradient-to-br from-light-green/40 to-forest-green/30 rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-10 lg:p-12 shadow-2xl border-2 border-light-green/50 relative overflow-hidden">
                        <!-- Subtle background elements -->
                        <div class="absolute inset-0 opacity-10">
                            <div class="absolute top-0 right-0 w-32 sm:w-40 h-32 sm:h-40 bg-forest-green rounded-full blur-2xl float-animation"></div>
                            <div class="absolute bottom-0 left-0 w-24 sm:w-32 h-24 sm:h-32 bg-earthy-gold rounded-full blur-xl float-animation"></div>
                        </div>
                        
                        <div class="relative z-10">
                            <h3 class="text-2xl sm:text-3xl md:text-4xl font-bold text-charcoal mb-6 sm:mb-8 md:mb-10 text-center font-lora">Meditation Guide</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-10 text-center">
                                <div class="meditation-guide-card bg-white/90 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-10 shadow-2xl border-2 border-white/60 hover:shadow-3xl hover:scale-110 transition-all duration-300 touch-manipulation">
                                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-2xl">
                                        <span class="text-3xl sm:text-4xl">ðŸ </span>
                                    </div>
                                    <h4 class="text-lg sm:text-xl md:text-2xl font-bold text-charcoal mb-3 sm:mb-4">Find a Quiet Space</h4>
                                    <p class="text-sm sm:text-base md:text-lg text-charcoal/80 leading-relaxed">Choose a peaceful spot where you won't be disturbed</p>
                                </div>
                                <div class="meditation-guide-card bg-white/90 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-10 shadow-2xl border-2 border-white/60 hover:shadow-3xl hover:scale-110 transition-all duration-300 touch-manipulation">
                                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-2xl">
                                        <span class="text-3xl sm:text-4xl">ðŸ§˜</span>
                                    </div>
                                    <h4 class="text-lg sm:text-xl md:text-2xl font-bold text-charcoal mb-3 sm:mb-4">Sit Comfortably</h4>
                                    <p class="text-sm sm:text-base md:text-lg text-charcoal/80 leading-relaxed">Keep your back straight but relaxed, hands on your lap</p>
                                </div>
                                <div class="meditation-guide-card bg-white/90 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-10 shadow-2xl border-2 border-white/60 hover:shadow-3xl hover:scale-110 transition-all duration-300 touch-manipulation sm:col-span-2 lg:col-span-1">
                                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-2xl">
                                        <span class="text-3xl sm:text-4xl">ðŸŒ¬ï¸</span>
                                    </div>
                                    <h4 class="text-lg sm:text-xl md:text-2xl font-bold text-charcoal mb-3 sm:mb-4">Focus on Your Breath</h4>
                                    <p class="text-sm sm:text-base md:text-lg text-charcoal/80 leading-relaxed">Breathe naturally and observe each inhale and exhale</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Meditation Wisdom Section -->
                    <div class="bg-gradient-to-br from-forest-green/10 to-light-green/20 rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-10 shadow-2xl border-2 border-forest-green/30 relative overflow-hidden">
                        <!-- Zen particles -->
                        <div class="absolute inset-0 overflow-hidden pointer-events-none">
                            <div class="zen-particle"></div>
                            <div class="zen-particle"></div>
                            <div class="zen-particle"></div>
                        </div>
                        
                        <div class="relative z-10 text-center">
                            <h3 class="text-2xl sm:text-3xl md:text-4xl font-bold text-charcoal mb-6 sm:mb-8 font-lora">âœ¨ Ancient Wisdom</h3>
                            <div class="max-w-4xl mx-auto">
                                <blockquote class="text-lg sm:text-xl md:text-2xl text-charcoal/90 italic leading-relaxed mb-6 wisdom-fade">
                                    "The present moment is the only time over which we have dominion."
                                </blockquote>
                                <p class="text-sm sm:text-base text-charcoal/70 mb-8">â€” ThÃ­ch Nháº¥t Háº¡nh</p>
                                
                                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                                    <div class="bg-white/60 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-lg border border-white/50">
                                        <div class="text-2xl sm:text-3xl mb-3">ðŸ§˜â€â™‚ï¸</div>
                                        <p class="text-sm sm:text-base text-charcoal/80 font-medium">"Meditation is not about stopping thoughts, but recognizing that you are not your thoughts."</p>
                                    </div>
                                    <div class="bg-white/60 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-lg border border-white/50">
                                        <div class="text-2xl sm:text-3xl mb-3">ðŸŒ±</div>
                                        <p class="text-sm sm:text-base text-charcoal/80 font-medium">"The mind is like water. When agitated, it becomes difficult to see. When calm, everything becomes clear."</p>
                                    </div>
                                    <div class="bg-white/60 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-lg border border-white/50 sm:col-span-2 lg:col-span-1">
                                        <div class="text-2xl sm:text-3xl mb-3">ðŸŒ¸</div>
                                        <p class="text-sm sm:text-base text-charcoal/80 font-medium">"Peace comes from within. Do not seek it without."</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                <!-- Practice Log Card - Mobile Optimized -->
                <div class="bg-gradient-to-br from-light-green/30 to-light-green/10 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-xl border border-light-green/20 relative overflow-hidden card-breathe-gentle ambient-shadow">
                    <div class="relative z-10">
                        <h3 class="text-xl sm:text-2xl md:text-3xl font-bold text-charcoal font-lora mb-4 sm:mb-6 text-gradient text-center">ðŸ“Š Practice Log</h3>
                        <div id="practice-log" class="text-left space-y-3 sm:space-y-4">
                            <!-- Mobile-optimized practice log entries will be inserted here -->
                            <div class="bg-white/60 backdrop-blur-sm rounded-lg p-3 sm:p-4 shadow-sm border border-white/40">
                                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center">
                                            <span class="text-white text-sm sm:text-base font-bold">ðŸ§˜</span>
                                        </div>
                                        <div>
                                            <h4 class="text-sm sm:text-base font-bold text-charcoal">10-minute Meditation</h4>
                                            <p class="text-xs sm:text-sm text-charcoal/70">Today at 7:30 AM</p>
                                        </div>

                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-xs sm:text-sm text-charcoal/60">Duration:</span>
                                        <span class="text-sm sm:text-base font-semibold text-forest-green">10:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="template-path">
        <div class="max-w-6xl mx-auto">
            <!-- Hero Section with Enhanced Styling -->
            <div class="breathing-bg floating-particles zen-particles ambient-gradient rounded-3xl p-16 sm:p-20 mb-16 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-10 left-10 w-40 h-40 bg-forest-green rounded-full blur-3xl float-animation ambient-breathe"></div>
                    <div class="absolute bottom-10 right-10 w-32 h-32 bg-earthy-gold rounded-full blur-2xl float-animation ambient-float"></div>
                    <div class="absolute top-1/2 left-1/3 w-24 h-24 bg-light-green rounded-full blur-xl float-animation ambient-breathe"></div>
                </div>
                
                <!-- Floating Particles -->
                <div class="floating-particle particle-1" style="left: 20%; animation-delay: 1s;"></div>
                <div class="floating-particle particle-2" style="left: 40%; animation-delay: 4s;"></div>
                <div class="floating-particle particle-3" style="left: 60%; animation-delay: 7s;"></div>
                <div class="floating-particle particle-4" style="left: 80%; animation-delay: 10s;"></div>
                
                <header class="text-center relative z-10">
                    <p class="text-earthy-gold font-semibold uppercase tracking-wider text-lg mb-4">Guided Learning Path</p>
                    <h1 id="path-title" class="text-5xl sm:text-6xl font-bold text-gradient font-lora mb-6 text-glow"></h1>
                    <p id="path-description" class="text-xl text-charcoal/80 max-w-3xl mx-auto leading-relaxed mb-8"></p>
                    <!-- Shimmer divider -->
                    <div class="shimmer-divider w-32 mx-auto"></div>
            </header>
            </div>
            
            <!-- Learning Path Steps with Enhanced Design -->
            <div class="space-y-8">
                <div id="path-steps-list" class="space-y-6 stagger-in">
                <!-- Path steps will be injected here -->
            </div>
        </div>
            
            <!-- Progress Summary Card -->
            <div class="mt-16 bg-gradient-to-br from-light-green/20 via-white to-earthy-gold/10 rounded-3xl p-10 shadow-xl border border-light-green/20 relative overflow-hidden card-breathe-gentle ambient-shadow">
                <!-- Subtle background elements -->
                <div class="absolute inset-0 opacity-5">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-forest-green rounded-full blur-2xl float-animation"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-earthy-gold rounded-full blur-xl float-animation"></div>
            </div>
                
                <div class="text-center relative z-10">
                    <h3 class="text-3xl font-bold text-charcoal font-lora mb-6 text-gradient">Your Learning Journey</h3>
                    <p class="text-lg text-charcoal/70 max-w-2xl mx-auto mb-8">Each step builds upon the last, creating a solid foundation for your understanding and practice.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                        <div class="bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-6 shadow-lg border border-gray-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-forest-green to-forest-green/80 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                </div>
                            <h4 class="text-xl font-bold text-charcoal font-lora mb-2">Foundation</h4>
                            <p class="text-charcoal/70 text-sm">Build your understanding from the ground up</p>
                    </div>
                        
                        <div class="bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-6 shadow-lg border border-gray-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-earthy-gold to-earthy-gold/80 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                    </div>
                            <h4 class="text-xl font-bold text-charcoal font-lora mb-2">Practice</h4>
                            <p class="text-charcoal/70 text-sm">Apply your knowledge through mindful practice</p>
                    </div>
                        
                        <div class="bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-6 shadow-lg border border-gray-100">
                            <div class="w-16 h-16 bg-gradient-to-br from-light-green to-light-green/80 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <h4 class="text-xl font-bold text-charcoal font-lora mb-2">Integration</h4>
                            <p class="text-charcoal/70 text-sm">Integrate wisdom into your daily life</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="template-workout">
        <div class="max-w-4xl mx-auto px-4">
            <!-- Unified Workout Interface -->
            <div class="bg-gradient-to-br from-forest-green/10 via-white to-light-green/20 rounded-3xl p-6 sm:p-8 shadow-2xl border border-forest-green/20 relative overflow-hidden">
                
                <!-- Header -->
                <div class="text-center mb-6">
                    <h1 class="text-2xl sm:text-3xl font-bold text-gradient font-lora mb-2">7-Minute Mindful Workout</h1>
                    <p class="text-sm sm:text-base text-charcoal/80">Strengthen your body and mind</p>
                </div>

                <!-- Timer & Current Exercise -->
                <div class="text-center mb-6">
                    <div class="relative inline-block mb-4">
                        <!-- Circular Progress Ring -->
                        <svg class="w-32 h-32 transform -rotate-90" viewBox="0 0 120 120">
                            <circle cx="60" cy="60" r="54" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                            <circle id="progress-ring" cx="60" cy="60" r="54" stroke="#2d5016" stroke-width="8" fill="none" 
                                    stroke-dasharray="339.292" stroke-dashoffset="339.292" stroke-linecap="round" 
                                    class="transition-all duration-1000 ease-linear"/>
                        </svg>
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <div id="workout-timer-display" class="text-3xl sm:text-4xl font-bold text-forest-green font-mono">30</div>
                            <div id="workout-timer-label" class="text-xs text-charcoal/70">seconds</div>
                        </div>
                    </div>
                    
                    <!-- Current Exercise Info -->
                    <div class="bg-white/80 rounded-2xl p-4 mb-4">
                        <div id="current-exercise-emoji" class="text-4xl mb-2">ðŸ¤¸</div>
                        <div id="current-exercise-name" class="text-lg font-bold text-charcoal mb-1">Jumping Jacks</div>
                        <div id="current-exercise-description" class="text-sm text-charcoal/70">Jump up spreading legs and arms</div>
                        <div id="workout-progress-text" class="text-xs text-charcoal/60 mt-2">Exercise 1 of 12</div>
                    </div>
                </div>

                <!-- Navigation Controls -->
                <div class="flex justify-center space-x-4 mb-6">
                    <button id="prev-exercise-btn" class="px-4 py-2 bg-forest-green/20 text-forest-green rounded-xl hover:bg-forest-green/30 transition-colors">
                        â¬…ï¸ Previous
                    </button>
                    <button id="next-exercise-btn" class="px-4 py-2 bg-forest-green/20 text-forest-green rounded-xl hover:bg-forest-green/30 transition-colors">
                        Next âž¡ï¸
                    </button>
                </div>

                <!-- Main Controls -->
                <div class="flex justify-center space-x-4 mb-6">
                    <button id="workout-start-btn" class="px-8 py-4 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-bold rounded-2xl hover:shadow-xl hover:scale-105 transition-all duration-300 text-lg shadow-lg">
                        <span class="flex items-center space-x-2">
                            <span class="text-xl">â–¶ï¸</span>
                            <span>Start Workout</span>
                        </span>
                    </button>
                    <button id="workout-pause-btn" class="px-6 py-4 bg-gradient-to-r from-earthy-gold to-earthy-gold/90 text-white font-bold rounded-2xl hover:shadow-xl hover:scale-105 transition-all duration-300 text-lg shadow-lg hidden">
                        <span class="flex items-center space-x-2">
                            <span class="text-xl">â¸ï¸</span>
                            <span>Pause</span>
                        </span>
                    </button>
                    <button id="workout-reset-btn" class="px-6 py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold rounded-2xl hover:shadow-xl hover:scale-105 transition-all duration-300 text-lg shadow-lg">
                        <span class="flex items-center space-x-2">
                            <span class="text-xl">ðŸ”„</span>
                            <span>Reset</span>
                        </span>
                    </button>
                </div>

                <!-- Exercise List -->
                <div class="bg-white/60 rounded-2xl p-4">
                    <h3 class="text-sm font-bold text-charcoal mb-3 text-center">Exercise Circuit</h3>
                    <div id="exercise-list" class="grid grid-cols-3 sm:grid-cols-4 gap-2 text-xs">
                        <!-- Exercises will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </template>                         </div>
                    </div>
    </template>
    
    <template id="template-interview">
        <div class="max-w-6xl mx-auto">
            <!-- Enhanced Header -->
            <div class="text-center mb-6 sm:mb-8">
                <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gradient font-lora mb-3 sm:mb-4">Morning Confidence Practice</h1>
                <p class="text-base sm:text-lg text-charcoal/80 max-w-2xl mx-auto px-4">Practice speaking skills and build self-assurance with dynamic questions and video recording</p>
            </div>
            
            <!-- Interview Settings Panel -->
            <div class="bg-gradient-to-br from-forest-green/10 to-forest-green/5 rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8 border border-forest-green/20">
                <h3 class="text-lg sm:text-xl font-bold text-charcoal mb-4 text-center">Interview Practice Settings</h3>
                
                <!-- Category Selection -->
                <div class="mb-4">
                    <h4 class="text-sm font-semibold text-charcoal mb-3 text-center">Choose Your Practice Category</h4>
                    <div class="flex flex-wrap justify-center gap-2 sm:gap-3">
                        <button id="interview-cat-general" data-category="general" class="px-4 sm:px-6 py-2 sm:py-3 bg-forest-green text-white font-semibold rounded-lg hover:bg-forest-green/90 transition-colors text-sm sm:text-base">General</button>
                        <button id="interview-cat-storytelling" data-category="storytelling" class="px-4 sm:px-6 py-2 sm:py-3 bg-earthy-gold text-white font-semibold rounded-lg hover:bg-earthy-gold/90 transition-colors text-sm sm:text-base">Storytelling</button>
                        <button id="interview-cat-communication" data-category="communication" class="px-4 sm:px-6 py-2 sm:py-3 bg-light-green text-forest-green font-semibold rounded-lg hover:bg-light-green/80 transition-colors text-sm sm:text-base">Communication</button>
                        <button id="interview-cat-creativity" data-category="creativity" class="px-4 sm:px-6 py-2 sm:py-3 bg-charcoal text-white font-semibold rounded-lg hover:bg-charcoal/90 transition-colors text-sm sm:text-base">Creativity</button>
                        <button id="interview-cat-leadership" data-category="leadership" class="px-4 sm:px-6 py-2 sm:py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors text-sm sm:text-base">Leadership</button>
                        <button id="interview-cat-technical" data-category="technical" class="px-4 sm:px-6 py-2 sm:py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base">Technical</button>
                    </div>
                </div>

                <!-- Difficulty and Timer Settings -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-charcoal mb-2">Difficulty Level</label>
                        <select id="interview-difficulty" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-forest-green">
                            <option value="beginner">ðŸŸ¢ Beginner</option>
                            <option value="intermediate" selected>ðŸŸ¡ Intermediate</option>
                            <option value="advanced">ðŸ”´ Advanced</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-charcoal mb-2">Practice Timer (minutes)</label>
                        <select id="interview-timer" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-forest-green">
                            <option value="1">1 minute</option>
                            <option value="2" selected>2 minutes</option>
                            <option value="3">3 minutes</option>
                            <option value="5">5 minutes</option>
                            <option value="10">10 minutes</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Main Practice Area -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8">
                <!-- Question Display -->
                <div class="interview-card bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl border border-gray-100">
                    <div class="flex items-center justify-between mb-4 sm:mb-6">
                        <h3 class="text-lg sm:text-xl font-bold text-charcoal">Practice Question</h3>
                        <div class="flex items-center space-x-2">
                            <span id="question-counter" class="text-sm text-charcoal/60">Question 1 of 1</span>
                            <div id="difficulty-indicator" class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        </div>
                    </div>
                    
                    <!-- Question Box -->
                    <div id="interview-question-box" class="question-box bg-gradient-to-br from-forest-green/10 to-forest-green/5 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 border border-forest-green/20 min-h-[120px] flex items-center justify-center">
                        <p id="current-question" class="text-base sm:text-lg text-charcoal text-center font-medium">Click "Random Question" to start practicing</p>
                    </div>
                    
                    <!-- Question Info -->
                    <div id="question-info" class="mb-4 hidden">
                        <div class="flex items-center justify-between text-sm text-charcoal/70 mb-2">
                            <span id="question-category">Category: General</span>
                            <span id="question-difficulty">Difficulty: Intermediate</span>
                        </div>
                        <div class="text-xs text-charcoal/60">
                            <span id="question-tips">ðŸ’¡ Tip: Structure your answer with a clear beginning, middle, and end</span>
                        </div>
                    </div>
                    
                    <!-- Practice Timer -->
                    <div id="practice-timer" class="mb-4 hidden">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-semibold text-charcoal">Practice Time</span>
                            <span id="practice-timer-display" class="text-lg font-mono text-forest-green">02:00</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="timer-progress" class="bg-forest-green h-2 rounded-full transition-all duration-1000" style="width: 100%"></div>
                        </div>
                    </div>
                    
                    <!-- Navigation Controls -->
                    <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                        <button id="random-question-btn" class="flex-1 px-4 sm:px-6 py-3 sm:py-4 bg-forest-green text-white font-semibold rounded-lg hover:bg-forest-green/90 transition-colors text-sm sm:text-base min-h-[48px]">
                            ðŸŽ² Random Question
                        </button>
                        <div class="flex gap-2 sm:gap-3">
                            <button id="previous-question-btn" class="px-3 sm:px-4 py-3 sm:py-4 bg-gray-200 text-charcoal font-semibold rounded-lg hover:bg-gray-300 transition-colors text-xs sm:text-sm min-h-[48px]">
                                â† Previous
                            </button>
                            <button id="next-question-btn" class="px-3 sm:px-4 py-3 sm:py-4 bg-gray-200 text-charcoal font-semibold rounded-lg hover:bg-gray-300 transition-colors text-xs sm:text-sm min-h-[48px]">
                                Next â†’
                            </button>
                        </div>
                    </div>
                    
                    <!-- Practice Controls -->
                    <div class="mt-4 flex gap-2">
                        <button id="start-practice-btn" class="flex-1 px-4 py-2 bg-earthy-gold text-white font-semibold rounded-lg hover:bg-earthy-gold/90 transition-colors text-sm hidden">
                            â–¶ï¸ Start Practice
                        </button>
                        <button id="stop-practice-btn" class="flex-1 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-colors text-sm hidden">
                            â¹ï¸ Stop Practice
                        </button>
                    </div>
                </div>

                <!-- Video Recording Area -->
                <div class="interview-card bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl border border-gray-100">
                    <h3 class="text-lg sm:text-xl font-bold text-charcoal mb-4 sm:mb-6 text-center">Record Your Practice</h3>
                    
                    <!-- Video Container -->
                    <div class="video-container mb-4 sm:mb-6">
                        <video id="live-video" class="bg-gray-100 rounded-xl hidden" playsinline muted preload="none" webkit-playsinline></video>
                        <video id="playback-video" class="bg-gray-100 rounded-xl hidden" playsinline controls webkit-playsinline></video>
                        <div id="video-placeholder" class="absolute inset-0 bg-gradient-to-br from-forest-green/10 to-forest-green/5 rounded-xl flex items-center justify-center border-2 border-dashed border-forest-green/30">
                            <div class="text-center p-4">
                                <svg class="w-12 h-12 text-forest-green mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <p class="text-sm text-charcoal/70 mb-2">Click "Start Camera" to begin recording</p>
                                <p class="text-xs text-charcoal/50">Optimized for mobile devices</p>
                            </div>
                        </div>
                    </div>
                </div>
                    
                    <!-- Recording Controls -->
                    <div id="recorder-controls" class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                        <button id="start-camera-btn" class="recording-button flex-1 px-4 sm:px-6 py-4 sm:py-4 bg-forest-green text-white font-semibold rounded-lg hover:bg-forest-green/90 active:bg-forest-green/80 transition-all duration-200 text-sm sm:text-base min-h-[52px] touch-manipulation select-none shadow-lg hover:shadow-xl active:scale-95">
                            <div class="flex items-center justify-center space-x-2">
                                <span class="text-lg">ðŸ“¹</span>
                                <span>Start Camera</span>
                            </div>
                            </button>
                        <button id="start-recording-btn" class="recording-button flex-1 px-4 sm:px-6 py-4 sm:py-4 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 active:bg-red-700 transition-all duration-200 text-sm sm:text-base min-h-[52px] touch-manipulation select-none shadow-lg hover:shadow-xl active:scale-95 hidden">
                            <div class="flex items-center justify-center space-x-2">
                                <span class="text-lg">ðŸ”´</span>
                                <span>Start Recording</span>
                                    </div>
                        </button>
                        <button id="stop-recording-btn" class="recording-button flex-1 px-4 sm:px-6 py-4 sm:py-4 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 active:bg-gray-800 transition-all duration-200 text-sm sm:text-base min-h-[52px] touch-manipulation select-none shadow-lg hover:shadow-xl active:scale-95 hidden">
                            <div class="flex items-center justify-center space-x-2">
                                <span class="text-lg">â¹ï¸</span>
                                <span>Stop Recording</span>
                                </div>
                        </button>
                        <button id="stop-camera-btn" class="recording-button flex-1 px-4 sm:px-6 py-4 sm:py-4 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 active:bg-gray-700 transition-all duration-200 text-sm sm:text-base min-h-[52px] touch-manipulation select-none shadow-lg hover:shadow-xl active:scale-95 hidden">
                            <div class="flex items-center justify-center space-x-2">
                                <span class="text-lg">ðŸ“¹</span>
                                <span>Stop Camera</span>
                            </div>
                        </button>
                         </div>
                    </div>
            </div>

            <!-- Recordings List -->
            <div id="recordings-section" class="mt-6 sm:mt-8 bg-gradient-to-br from-charcoal/5 to-charcoal/10 rounded-2xl p-4 sm:p-6 border border-charcoal/20 hidden">
                <h3 class="text-lg sm:text-xl font-bold text-charcoal mb-4 text-center">Your Practice Recordings</h3>
                <div id="recordings-list" class="space-y-3">
                    <!-- Recordings will be dynamically added here -->
                </div>
            </div>

            <!-- Practice Tips -->
            <div class="mt-6 sm:mt-8 bg-gradient-to-br from-earthy-gold/10 to-earthy-gold/5 rounded-2xl p-4 sm:p-6 border border-earthy-gold/20">
                <h3 class="text-lg sm:text-xl font-bold text-charcoal mb-4 text-center">Practice Tips</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-forest-green rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                    </div>
                        <h4 class="font-semibold text-charcoal mb-2 text-sm">Record Regularly</h4>
                        <p class="text-xs text-charcoal/70">Practice 10-15 minutes daily for best results</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 bg-earthy-gold rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h4 class="font-semibold text-charcoal mb-2 text-sm">Watch & Improve</h4>
                        <p class="text-xs text-charcoal/70">Review recordings to identify areas for improvement</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 bg-light-green rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h4 class="font-semibold text-charcoal mb-2 text-sm">Stay Confident</h4>
                        <p class="text-xs text-charcoal/70">Focus on your strengths and practice with purpose</p>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="template-journal">
        <div class="max-w-5xl mx-auto">
            <!-- Compact Header -->
            <div class="text-center mb-6 sm:mb-8">
                <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gradient font-lora mb-3 sm:mb-4">Mindful Freewriting</h1>
                <p class="text-base sm:text-lg text-charcoal/80 max-w-2xl mx-auto px-4">Let your thoughts flow freely - everything saves automatically</p>
            </div>

            <!-- Enhanced Quick Morning Presets -->
            <div class="bg-gradient-to-br from-earthy-gold/15 via-white to-earthy-gold/5 rounded-2xl p-4 sm:p-6 lg:p-8 mb-6 sm:mb-8 shadow-lg border border-earthy-gold/20 relative overflow-hidden">
                <!-- Subtle background elements with floating animation -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-earthy-gold/10 to-transparent rounded-full blur-2xl float-animation"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-forest-green/10 to-transparent rounded-full blur-xl float-animation"></div>
                
                <div class="text-center mb-4 sm:mb-6 relative">
                    <h3 class="text-lg sm:text-xl font-bold text-charcoal mb-2 drop-shadow-sm">Quick Morning Presets</h3>
                    <p class="text-xs sm:text-sm text-charcoal/70">Choose your writing session length</p>
                    </div>
                <div class="flex flex-wrap justify-center gap-2 sm:gap-4">
                    <button class="quick-preset-btn px-6 py-3 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-semibold rounded-xl hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg border-2 border-forest-green text-sm" style="background-color: #2d5016 !important; color: white !important; display: inline-block !important; visibility: visible !important; border: 2px solid #2d5016 !important;" data-duration="300">âš¡ 5 min</button>
                    <button class="quick-preset-btn px-6 py-3 bg-gradient-to-r from-earthy-gold to-earthy-gold/90 text-white font-semibold rounded-xl hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg border-2 border-earthy-gold text-sm" style="background-color: #b8860b !important; color: white !important; display: inline-block !important; visibility: visible !important; border: 2px solid #b8860b !important;" data-duration="600">ðŸŒŸ 10 min</button>
                    <button class="quick-preset-btn px-6 py-3 bg-gradient-to-r from-light-green to-light-green/80 text-forest-green font-semibold rounded-xl hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg border-2 border-forest-green text-sm" style="background-color: #d4edda !important; color: #2d5016 !important; display: inline-block !important; visibility: visible !important; border: 2px solid #2d5016 !important;" data-duration="900">ðŸ§˜ 15 min</button>
                        </div>
                    </div>

            <!-- Enhanced timer and controls - Better UX Layout -->
            <div class="bg-gradient-to-br from-light-green/40 via-white to-light-green/20 rounded-2xl p-4 sm:p-6 lg:p-8 shadow-xl border border-light-green/20 mb-6 sm:mb-8 relative overflow-hidden">
                <!-- Subtle background elements -->
                <div class="absolute top-0 left-0 w-40 h-40 bg-gradient-to-br from-forest-green/10 to-transparent rounded-full blur-2xl"></div>
                <div class="absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-earthy-gold/10 to-transparent rounded-full blur-xl"></div>
                
                <!-- Timer and Controls Row - Better Visual Hierarchy -->
                <div class="flex flex-col sm:flex-row justify-between items-center mb-4 sm:mb-6 space-y-4 sm:space-y-0 relative">
                    <!-- Timer Display - More Prominent -->
                    <div class="flex items-center space-x-4 sm:space-x-6">
                        <div class="text-center">
                            <div id="journal-timer" class="text-4xl sm:text-5xl lg:text-6xl font-lora text-forest-green font-bold drop-shadow-sm">10:00</div>
                            <div class="text-sm sm:text-base text-charcoal/70 font-medium">remaining</div>
                        </div>
                    </div>
                    
                    <!-- Controls Group - Better Organization -->
                    <div class="flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4">
                        <div class="flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-3">
                            <label for="timer-duration" class="text-sm font-semibold text-charcoal">Duration:</label>
                            <select id="journal-timer-duration" class="px-4 py-2 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-earthy-gold focus:border-earthy-gold focus:outline-none dark:bg-gray-800 dark:border-gray-600 bg-white shadow-sm transition-all duration-300 text-sm min-h-[44px]">
                                <option value="300">5 minutes</option>
                                <option value="600" selected>10 minutes</option>
                                <option value="900">15 minutes</option>
                                <option value="1200">20 minutes</option>
                                <option value="1800">30 minutes</option>
                                <option value="3600">1 hour</option>
                            </select>
                        </div>
                        <button id="journal-start-btn" class="ripple hover-soft px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-bold rounded-xl hover:shadow-xl hover:scale-105 transition-all duration-300 text-base sm:text-lg shadow-xl border-2 border-forest-green min-h-[48px] btn-enhanced group" style="background-color: #2d5016 !important; color: white !important; display: inline-block !important; visibility: visible !important;">
                            <span class="flex items-center justify-center space-x-2">
                                <svg class="w-5 h-5 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                <span class="group-hover:tracking-wide transition-all duration-300">Begin Writing</span>
                            </span>
                        </button>
                    </div>
                </div>
                
                <!-- Writing Area - More Prominent and Better Positioned -->
                <div class="relative">
                    <textarea id="journal-entry" placeholder="Let your thoughts flow freely... the timer will begin as soon as you start typing." class="w-full h-72 sm:h-96 p-4 sm:p-6 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-earthy-gold focus:border-earthy-gold focus:outline-none dark:bg-gray-800 dark:border-gray-600 shadow-sm transition-all duration-300 resize-none" style="font-family: 'Lora', serif; font-size: 1.1rem; line-height: 1.7;"></textarea>
                
                <!-- Writing Tips -->
                <div class="mt-3 sm:mt-4 bg-light-green/20 rounded-lg p-3 sm:p-4">
                    <p class="text-xs sm:text-sm text-charcoal/70 text-center">
                        ðŸ’¡ <strong>Writing Tips:</strong> Don't worry about grammar or structure. Just let your thoughts flow naturally. This is your private space for self-reflection.
                    </p>
                </div>
                
                <!-- Save Button -->
                <div class="mt-4 sm:mt-6 flex justify-center">
                    <button id="journal-save-btn" class="px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-forest-green to-forest-green/90 text-white font-bold rounded-xl hover:shadow-xl hover:scale-105 transition-all duration-300 text-base sm:text-lg shadow-lg border-2 border-forest-green hidden min-h-[48px]" style="background-color: #2d5016 !important; color: white !important; display: inline-block !important; visibility: visible !important;">
                        <span class="flex items-center space-x-2">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                            <span>Save Entry</span>
                        </span>
                    </button>
                </div>
            </div>

            <!-- Enhanced journal history -->
            <div id="journal-history" class="mt-12 sm:mt-16">
                <div class="text-center mb-6 sm:mb-10">
                    <h2 class="text-2xl sm:text-3xl font-bold text-charcoal font-lora mb-3 sm:mb-4 drop-shadow-sm">Your Entries</h2>
                    <p class="text-sm sm:text-base text-charcoal/70">Reflect on your journey of self-discovery</p>
                    <!-- Decorative line -->
                    <div class="mt-3 sm:mt-4 w-16 h-1 bg-gradient-to-r from-forest-green to-earthy-gold rounded-full mx-auto"></div>
                </div>
                <div id="journal-history-list" class="space-y-6">
                    <!-- Saved entries will be injected here -->
                </div>
            </div>
        </div>
    </template>


    <script>
    // --- SIMPLIFIED WORKING JAVASCRIPT --- //
    
    // ===== DATA MANAGER =====
    class DataManager {
        static KEYS = {
            TIMER_SETTINGS: 'timerSettings',
            WORKOUT_PROGRESS: 'workoutProgress',
            JOURNAL_ENTRIES: 'journalEntries',
            JOURNAL_DRAFT: 'journalDraft',
            USER_PREFERENCES: 'userPreferences'
        };

        static DEFAULTS = {
            timerSettings: {
                totalSessions: 0,
                totalTime: 0,
                lastSession: null
            },
            workoutProgress: {
                totalWorkouts: 0,
                lastWorkout: null,
                bestTime: null
            }
        };

        static init() {
            // Initialize data manager
            console.log('DataManager initialized');
        }

        static get(key, defaultValue = null) {
            try {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : defaultValue;
            } catch (error) {
                console.error('Error getting data:', error);
                return defaultValue;
            }
        }

        static set(key, value) {
            try {
                localStorage.setItem(key, JSON.stringify(value));
                return true;
            } catch (error) {
                console.error('Error setting data:', error);
                return false;
            }
        }

        static remove(key) {
            try {
                localStorage.removeItem(key);
                return true;
            } catch (error) {
                console.error('Error removing data:', error);
                return false;
            }
        }

        static clearAll() {
            try {
                localStorage.clear();
                return true;
            } catch (error) {
                console.error('Error clearing data:', error);
                return false;
            }
        }

        static getStorageInfo() {
            let totalSize = 0;
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    totalSize += localStorage[key].length;
                }
            }
            
            return {
                totalSize: totalSize,
                totalSizeFormatted: this.formatBytes(totalSize),
                itemCount: localStorage.length
            };
        }

        static formatBytes(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        static exportData() {
            const data = {};
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    try {
                        data[key] = JSON.parse(localStorage[key]);
                    } catch (e) {
                        data[key] = localStorage[key];
                    }
                }
            }
            return data;
        }

        static importData(data) {
            let importedCount = 0;
            try {
                for (let key in data) {
                    if (data.hasOwnProperty(key)) {
                        localStorage.setItem(key, JSON.stringify(data[key]));
                        importedCount++;
                    }
                }
                return { success: true, importedCount: importedCount };
            } catch (error) {
                console.error('Error importing data:', error);
                return { success: false, error: error.message };
            }
        }
    }

    // Make DataManager globally available
    window.DataManager = DataManager;
    
    // Test if JavaScript is running at all
    // JavaScript initialized
    
    // Simple button test function
    function testButtonClick() {
        // Button clicked
        // Remove alert for production
    }
    
    // Check for overlays or blocking elements
    function checkForBlockingElements() {
        // Checking for blocking elements
        const timerButtons = document.querySelectorAll('button[id*="timer"]');
        
        timerButtons.forEach((btn, index) => {
            const rect = btn.getBoundingClientRect();
            const computedStyle = window.getComputedStyle(btn);
            // Button debug info (commented out for production)
            // console.log(`Button ${index}:`, { element, rect, pointerEvents, zIndex, position, display, visibility, opacity });
            
            // Check if there's an element covering this button
            const elementAtCenter = document.elementFromPoint(
                rect.left + rect.width / 2,
                rect.top + rect.height / 2
            );
            // console.log(`Element at button ${index} center:`, elementAtCenter);
        });
    }
    
    // Add missing functions that buttons are calling
    function testWorkoutSound() {
        // Testing workout sound
        // Remove alert for production
        
        // Create audio context for sound
        let audioContext = null;
        
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function playBell() {
            initAudio();
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            // Create a simple bell sound using Web Audio API
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.5);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }
        
        playBell();
    }
    
    function playRecording(url) {
        // Playing recording
        // Remove alert for production
        
        // Create audio element and play
        const audio = new Audio(url);
        audio.play().catch(e => {
            console.error('Error playing audio:', e);
            // Removed alert for production
        });
    }
    
    // Enhanced Toast Notification System
    function showToast(message, type = 'info', duration = 3000) {
        const toast = document.createElement('div');
        const colors = {
            success: 'from-green-500 to-green-600',
            error: 'from-red-500 to-red-600',
            warning: 'from-yellow-500 to-yellow-600',
            info: 'from-blue-500 to-blue-600'
        };
        
        const icons = {
            success: 'âœ…',
            error: 'âŒ',
            warning: 'âš ï¸',
            info: 'â„¹ï¸'
        };
        
        toast.className = `fixed top-4 right-4 z-50 bg-gradient-to-r ${colors[type]} text-white px-6 py-4 rounded-lg shadow-xl transform translate-x-full transition-transform duration-300 ease-out`;
        toast.innerHTML = `
            <div class="flex items-center space-x-3">
                <span class="text-xl">${icons[type]}</span>
                <span class="font-medium">${message}</span>
            </div>
        `;
        
        document.body.appendChild(toast);
        
        // Animate in
        setTimeout(() => {
            toast.classList.remove('translate-x-full');
        }, 100);
        
        // Auto remove
        setTimeout(() => {
            toast.classList.add('translate-x-full');
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            }, 300);
        }, duration);
    }
    
    // Enhanced Haptic Feedback
    function triggerHapticFeedback(type = 'light') {
        if ('vibrate' in navigator) {
            const patterns = {
                light: [10],
                medium: [20],
                heavy: [30],
                success: [10, 10, 10],
                error: [50, 100, 50]
            };
            navigator.vibrate(patterns[type] || patterns.light);
        }
    }
    
    // Make test functions globally accessible
    window.testButtonClick = testButtonClick;
    window.checkForBlockingElements = checkForBlockingElements;
    window.testWorkoutSound = testWorkoutSound;
    window.playRecording = playRecording;
    window.showToast = showToast;
    window.triggerHapticFeedback = triggerHapticFeedback;
    
    // Global variables
    let mainContent;
    let currentPage = 'home';
    
    // Performance optimization utilities
    const debounce = (func, wait) => {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    };
    
    const throttle = (func, limit) => {
        let inThrottle;
        return function() {
            const args = arguments;
            const context = this;
            if (!inThrottle) {
                func.apply(context, args);
                inThrottle = true;
                setTimeout(() => inThrottle = false, limit);
            }
        };
    };
    
    // Lazy loading for non-critical functions
    const lazyLoad = (fn) => {
        return (...args) => {
            if (typeof fn === 'function') {
                return fn(...args);
            }
            return Promise.resolve();
        };
    };

    // Simple database
    const db = {
        articles: {
            "what-is-theravada": {
                title: "What Is TheravÄda Buddhism? A Simple Guide",
                category: "Introduction",
                categoryId: "introduction",
                readTime: "8",
                content: "<p>This is a simple guide to TheravÄda Buddhism.</p>",
                author: "admin",
                tags: ["buddhism", "theravada", "introduction"]
            }
        },
        authors: {
            admin: {
                name: "The Dhamma Path Team",
                bio: "Dedicated to sharing authentic Buddhist teachings",
                avatar: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMyZDUwMTYiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cjwvc3ZnPgo="
            }
        },
        glossary: {
            "dhamma": "The teachings of the Buddha",
            "sangha": "The community of Buddhist practitioners",
            "buddha": "One who is awakened or enlightened"
        }
    };

    // Simple navigation function
    function navigateToPage(pageName, id = null) {
        // Navigating to page
        
        if (!mainContent) {
            mainContent = document.getElementById('main-content');
            if (!mainContent) {
                console.error('Main content not found');
                return;
            }
        }
        
        // Show enhanced loading indicator
        mainContent.innerHTML = `
            <div class="flex items-center justify-center min-h-[400px]">
                <div class="text-center">
                    <div class="relative mb-6">
                        <div class="animate-spin rounded-full h-16 w-16 border-4 border-forest-green/20 border-t-forest-green mx-auto"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-8 h-8 bg-forest-green/20 rounded-full animate-pulse"></div>
                        </div>
                    </div>
                    <p class="text-charcoal/70 text-lg font-medium">Loading your practice...</p>
                    <div class="mt-4 flex justify-center space-x-1">
                        <div class="w-2 h-2 bg-forest-green rounded-full animate-bounce" style="animation-delay: 0ms"></div>
                        <div class="w-2 h-2 bg-forest-green rounded-full animate-bounce" style="animation-delay: 150ms"></div>
                        <div class="w-2 h-2 bg-forest-green rounded-full animate-bounce" style="animation-delay: 300ms"></div>
                    </div>
                </div>
            </div>
        `;
        
        // Set current page
        currentPage = pageName;
        
        // Performance optimized template lookup
        const pageTemplates = {
            'home': 'template-home',
            'timer': 'template-timer',
            'journal': 'template-journal',
            'workout': 'template-workout',
            'interview': 'template-interview',
            'about': 'template-about',
            'glossary': 'template-glossary',
            'category-meditation': 'template-category',
            'category-introduction': 'template-category',
            'article': 'template-article',
            'privacy': 'template-privacy',
            'terms': 'template-terms',
            'path': 'template-path',
            'searchResults': 'template-search-results'
        };
        
        const templateId = pageTemplates[pageName] || 'template-home';
        const template = document.getElementById(templateId);
        const pageContent = template ? template.content.cloneNode(true) : null;
        
        if (pageContent) {
            // Use requestAnimationFrame for optimal performance
            requestAnimationFrame(() => {
                mainContent.innerHTML = '';
                mainContent.appendChild(pageContent);
                
                // Lazy load page-specific logic
                const pageLogicHandlers = {
                    'home': attachHomeLogic,
                    'timer': attachTimerLogic,
                    'journal': () => {
                        attachJournalLogic();
                        setupEnhancedJournalFeatures();
                    },
                    'workout': () => {
                        attachWorkoutLogic();
                        setupEnhancedWorkoutFeatures();
                    },
                    'interview': () => {
                        attachInterviewLogic();
                        setupEnhancedInterviewFeatures();
                    },
                    'about': attachDataManagementLogic
                };
                
                const handler = pageLogicHandlers[pageName];
                if (handler) {
                    // Calling page handler
                    handler();
                } else {
                    // No handler found for page
                }
            });
        }
        
        // Close mobile menu if open
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenu) {
            mobileMenu.classList.add('hidden');
        }
        
        // Ensure welcome overlay is hidden when navigating
        const welcomeOverlay = document.getElementById('welcome-overlay');
        if (welcomeOverlay) {
            welcomeOverlay.style.display = 'none';
            welcomeOverlay.style.opacity = '0';
        }
    }

    // Make navigation globally accessible
    window.navigateTo = navigateToPage;
    window.navigateToPage = navigateToPage;

    // ===== GLOBAL TIMER FUNCTIONS =====
    // DISABLED - Using direct timer system instead
    /*
    window.startTimer = function() {
        // Start timer called
        console.log('Current state:', { isRunning: window.isRunning, isPaused: window.isPaused, timeRemaining: window.timeRemaining, totalTime: window.totalTime });
        if (!window.isRunning) {
            console.log('Starting timer...');
            
            // Ensure we have the latest duration from the select
            if (window.durationSelect) {
                window.timeRemaining = parseInt(window.durationSelect.value);
                window.totalTime = window.timeRemaining;
                console.log('Updated timeRemaining from select:', window.timeRemaining);
                console.log('Updated totalTime from select:', window.totalTime);
            }
            
            window.isRunning = true;
            window.isPaused = false;
            
            // Update display immediately before starting
            window.updateDisplay();
            
            // Haptic feedback for mobile
            if (typeof triggerHapticFeedback === 'function') {
                triggerHapticFeedback('light');
            }
            
            // Add pulsing effect to timer container
            const timerContainer = document.querySelector('.relative.w-48, .relative.w-56, .relative.w-64, .relative.w-72, .relative.w-80');
            if (timerContainer) {
                timerContainer.classList.add('timer-running');
                // Add start signal animation
                timerContainer.classList.add('timer-start-signal');
                // Remove animation class after animation completes
                setTimeout(() => {
                    timerContainer.classList.remove('timer-start-signal');
                }, 1500);
            }
            
            if (window.startBtn) window.startBtn.classList.add('hidden');
            if (window.pauseBtn) window.pauseBtn.classList.remove('hidden');
                
            console.log('Setting up setInterval...');
            
            // Test updateDisplay function before starting timer
            console.log('ðŸ”§ TESTING updateDisplay before timer start...');
            console.log('ðŸ”§ updateDisplay exists:', typeof window.updateDisplay);
            if (typeof window.updateDisplay === 'function') {
                console.log('ðŸ”§ Calling updateDisplay test...');
                window.updateDisplay();
                console.log('ðŸ”§ updateDisplay test completed');
            } else {
                console.error('ðŸ”§ updateDisplay is not a function!');
            }
            
            window.timerInterval = setInterval(() => {
                console.log('ðŸš€ðŸš€ðŸš€ SETINTERVAL TICK VERSION 2.0 ðŸš€ðŸš€ðŸš€');
                console.log('ðŸ”§ timeRemaining before decrement:', window.timeRemaining, 'VERSION 2.0 ðŸ”§');
                console.log('isRunning:', window.isRunning);
                console.log('timerInterval:', window.timerInterval);
                if (window.timeRemaining > 0) {
                    window.timeRemaining--;
                    console.log('timeRemaining after decrement:', window.timeRemaining);
                    console.log('ðŸ”§ About to call updateDisplay... VERSION 2.0 ðŸ”§');
                    console.log('ðŸ”§ updateDisplay function exists:', typeof window.updateDisplay);
                    console.log('ðŸ”§ updateDisplay function:', window.updateDisplay);
                    try {
                        if (typeof window.updateDisplay === 'function') {
                            window.updateDisplay();
                            console.log('ðŸ”§ updateDisplay called successfully - VERSION 2.0 ðŸ”§');
                        } else {
                            console.error('ðŸ”§ updateDisplay is not a function!');
                        }
                    } catch (error) {
                        console.error('Error calling updateDisplay:', error);
                    }
                    
                    // Play bell at specific intervals
                    if (window.timeRemaining === 0) {
                        // Final bell - play sound if enabled
                        if (window.soundToggle && window.soundToggle.checked) {
                            console.log('Playing final bell');
                        }
                    } else if (window.timeRemaining === 60 && window.totalTime > 120) {
                        // 1 minute warning
                        if (window.soundToggle && window.soundToggle.checked) {
                            console.log('Playing 1 minute warning');
                        }
                    } else if (window.timeRemaining === 300 && window.totalTime > 600) {
                        // 5 minute warning
                        if (window.soundToggle && window.soundToggle.checked) {
                            console.log('Playing 5 minute warning');
                        }
                    }
                } else {
                    clearInterval(window.timerInterval);
                    window.isRunning = false;
                    
                    // Remove pulsing effect
                    const timerContainerStop = document.querySelector('.relative.w-56');
                    if (timerContainerStop) {
                        timerContainerStop.classList.remove('timer-running');
                    }
                    
                    // Session complete
                    if (window.status) window.status.textContent = 'Session complete! ðŸŽ‰';
                    if (window.startBtn) {
                        window.startBtn.classList.remove('hidden');
                        window.startBtn.innerHTML = '<div class="flex items-center justify-center space-x-4"><span class="text-3xl group-hover:scale-110 transition-transform duration-300">â–¶ï¸</span><span class="font-bold text-xl sm:text-2xl group-hover:tracking-wide transition-all duration-300">Start Meditation</span></div>';
                    }
                    if (window.pauseBtn) window.pauseBtn.classList.add('hidden');
                }
            }, 1000);
        }
    };

    window.pauseTimer = function() {
        if (window.isRunning) {
            window.isRunning = false;
            window.isPaused = true;
            clearInterval(window.timerInterval);
            if (window.startBtn) window.startBtn.classList.remove('hidden');
            if (window.pauseBtn) window.pauseBtn.classList.add('hidden');
            window.updateDisplay();
        }
    };

    window.resetTimer = function() {
        console.log('Resetting timer...');
        clearInterval(window.timerInterval);
        window.isRunning = false;
        window.isPaused = false;
        if (window.durationSelect) {
            window.timeRemaining = parseInt(window.durationSelect.value);
            window.totalTime = window.timeRemaining;
            console.log('Reset timeRemaining to:', window.timeRemaining);
            console.log('Reset totalTime to:', window.totalTime);
        } else {
            window.timeRemaining = 600;
            window.totalTime = 600;
        }
        window.updateDisplay();
        if (window.startBtn) {
            window.startBtn.classList.remove('hidden');
            window.startBtn.innerHTML = '<div class="flex items-center justify-center space-x-4"><span class="text-3xl group-hover:scale-110 transition-transform duration-300">â–¶ï¸</span><span class="font-bold text-xl sm:text-2xl group-hover:tracking-wide transition-all duration-300">Start Meditation</span></div>';
        }
        if (window.pauseBtn) window.pauseBtn.classList.add('hidden');
    };

    */
    // DISABLED - Using direct timer system instead
    window.updateDisplay = function() {
        // DISABLED - Using direct timer system instead
        console.log('Old updateDisplay called - DISABLED');
    };
    
    // Test the function immediately
    console.log('ðŸ”§ TESTING UPDATE DISPLAY FUNCTION - VERSION 2.0 ðŸ”§');
    console.log('Testing updateDisplay function...');
    try {
        window.updateDisplay();
        console.log('updateDisplay test successful');
    } catch (error) {
        console.error('updateDisplay test failed:', error);
    }
    
    // REMOVED test that was overwriting timer display
    
    // ===== SIMPLE TIMER IMPLEMENTATION =====
    // Completely new, simple timer that we know will work
    window.simpleStartTimer = function() {
        console.log('ðŸš€ STARTING SIMPLE TIMER ðŸš€');
        
        // Get duration from select
        const durationSelect = document.getElementById('timer-duration');
        const duration = durationSelect ? parseInt(durationSelect.value) : 600;
        
        // Get display element
        const display = document.getElementById('timer-display');
        if (!display) {
            console.error('Timer display element not found!');
            return;
        }
        
        console.log('Timer display element found:', display);
        console.log('Starting timer with duration:', duration, 'seconds');
        
        // Clear any existing timer
        if (window.simpleTimerInterval) {
            clearInterval(window.simpleTimerInterval);
        }
        
        // Set initial values
        window.simpleTimeRemaining = duration;
        window.simpleIsRunning = true;
        
        // Update display immediately
        updateSimpleDisplay();
        
        // Hide start button, show pause button
        const startBtn = document.getElementById('timer-start-btn');
        const pauseBtn = document.getElementById('timer-pause-btn');
        if (startBtn) startBtn.classList.add('hidden');
        if (pauseBtn) pauseBtn.classList.remove('hidden');
        
        // Start the timer
        window.simpleTimerInterval = setInterval(() => {
            if (window.simpleTimeRemaining > 0) {
                window.simpleTimeRemaining--;
                updateSimpleDisplay();
                console.log('Simple timer tick:', window.simpleTimeRemaining);
            } else {
                // Timer finished
                clearInterval(window.simpleTimerInterval);
                window.simpleIsRunning = false;
                display.textContent = '00:00';
                console.log('Simple timer finished!');
                
                // Reset buttons
                if (startBtn) startBtn.classList.remove('hidden');
                if (pauseBtn) pauseBtn.classList.add('hidden');
            }
        }, 1000);
    };
    
    // Simple display update function
    function updateSimpleDisplay() {
        const display = document.getElementById('timer-display');
        if (display && window.simpleTimeRemaining !== undefined) {
            const minutes = Math.floor(window.simpleTimeRemaining / 60);
            const seconds = window.simpleTimeRemaining % 60;
            const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            display.textContent = displayText;
            console.log('Updated simple display to:', displayText);
        }
    }
    
    // Simple pause timer
    window.simplePauseTimer = function() {
        if (window.simpleTimerInterval) {
            clearInterval(window.simpleTimerInterval);
            window.simpleIsRunning = false;
            console.log('Simple timer paused');
        }
    };
    
    // Simple reset timer
    window.simpleResetTimer = function() {
        if (window.simpleTimerInterval) {
            clearInterval(window.simpleTimerInterval);
        }
        window.simpleIsRunning = false;
        
        const durationSelect = document.getElementById('timer-duration');
        const duration = durationSelect ? parseInt(durationSelect.value) : 600;
        window.simpleTimeRemaining = duration;
        
        updateSimpleDisplay();
        console.log('Simple timer reset to:', duration);
    };

    // Home page logic
    function attachHomeLogic() {
        // Attaching home page logic
        // Home page doesn't need specific logic, just initialization
    }

    // Data Management UI Logic
    function attachDataManagementLogic() {
        // Update storage info
        function updateStorageInfo() {
            const storageInfo = DataManager.getStorageInfo();
            const totalStorageEl = document.getElementById('total-storage');
            const storageBarEl = document.getElementById('storage-bar');
            
            if (totalStorageEl) {
                totalStorageEl.textContent = storageInfo.totalSizeFormatted;
            }
            
            if (storageBarEl) {
                const percentage = (storageInfo.totalSize / storageInfo.availableSpace) * 100;
                storageBarEl.style.width = `${Math.min(percentage, 100)}%`;
            }
        }
        
        // Update progress stats
        function updateProgressStats() {
            const timerSettings = DataManager.get(DataManager.KEYS.TIMER_SETTINGS, DataManager.DEFAULTS.timerSettings);
            const workoutProgress = DataManager.get(DataManager.KEYS.WORKOUT_PROGRESS, DataManager.DEFAULTS.workoutProgress);
            const journalEntries = DataManager.get(DataManager.KEYS.JOURNAL_ENTRIES, []);
            
            const totalSessionsEl = document.getElementById('total-sessions');
            const totalWorkoutsEl = document.getElementById('total-workouts');
            const journalEntriesEl = document.getElementById('journal-entries');
            const totalTimeEl = document.getElementById('total-time');
            
            if (totalSessionsEl) totalSessionsEl.textContent = timerSettings.totalSessions || 0;
            if (totalWorkoutsEl) totalWorkoutsEl.textContent = workoutProgress.totalWorkouts || 0;
            if (journalEntriesEl) journalEntriesEl.textContent = journalEntries.length;
            if (totalTimeEl) totalTimeEl.textContent = Math.round((timerSettings.totalTime || 0) / 60);
        }
        
        // Export data
        function exportData() {
            try {
                const data = DataManager.exportData();
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `dhamma-path-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showToast('Data exported successfully! ðŸ“¤', 'success');
            } catch (error) {
                console.error('Export failed:', error);
                showToast('Export failed. Please try again.', 'error');
            }
        }
        
        // Import data
        function importData(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);
                    const result = DataManager.importData(importedData);
                    
                    if (result.success) {
                        showToast(`Successfully imported ${result.importedCount} data sets! ðŸ“¥`, 'success');
                        updateStorageInfo();
                        updateProgressStats();
                    } else {
                        showToast(`Import failed: ${result.error}`, 'error');
                    }
                } catch (error) {
                    console.error('Import failed:', error);
                    showToast('Invalid file format. Please select a valid backup file.', 'error');
                }
            };
            reader.readAsText(file);
        }
        
        // Clear specific data
        function clearJournalData() {
            if (confirm('Are you sure you want to clear all journal entries? This cannot be undone.')) {
                DataManager.set(DataManager.KEYS.JOURNAL_ENTRIES, []);
                DataManager.remove(DataManager.KEYS.JOURNAL_DRAFT);
                showToast('Journal entries cleared', 'success');
                updateProgressStats();
            }
        }
        
        function clearTimerData() {
            if (confirm('Are you sure you want to clear timer history? This cannot be undone.')) {
                DataManager.set(DataManager.KEYS.TIMER_SETTINGS, DataManager.DEFAULTS.timerSettings);
                showToast('Timer history cleared', 'success');
                updateProgressStats();
            }
        }
        
        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL data? This cannot be undone.')) {
                DataManager.clearAll();
                showToast('All data cleared', 'success');
                updateStorageInfo();
                updateProgressStats();
            }
        }
        
        // Event listeners
        const exportBtn = document.getElementById('export-data');
        const importInput = document.getElementById('import-data');
        const clearJournalBtn = document.getElementById('clear-journal');
        const clearTimerBtn = document.getElementById('clear-timer-data');
        const clearAllBtn = document.getElementById('clear-all-data');
        
        if (exportBtn) exportBtn.addEventListener('click', exportData);
        if (importInput) importInput.addEventListener('change', (e) => {
            if (e.target.files[0]) importData(e.target.files[0]);
        });
        if (clearJournalBtn) clearJournalBtn.addEventListener('click', clearJournalData);
        if (clearTimerBtn) clearTimerBtn.addEventListener('click', clearTimerData);
        if (clearAllBtn) clearAllBtn.addEventListener('click', clearAllData);
        
        // Initial updates
        updateStorageInfo();
        updateProgressStats();
        
        // Listen for data changes
        window.addEventListener('dataChanged', () => {
            updateStorageInfo();
            updateProgressStats();
        });
    }

    // Timer logic
    function attachTimerLogic() {
        // Attaching enhanced timer logic
        
        // Ensure welcome overlay is hidden
        const welcomeOverlay = document.getElementById('welcome-overlay');
        if (welcomeOverlay) {
            welcomeOverlay.style.display = 'none';
            welcomeOverlay.style.opacity = '0';
        }
        
        // Add a small delay to ensure DOM is fully rendered
        setTimeout(() => {
            // Looking for timer elements after delay
            
            const startBtn = document.getElementById('timer-start-btn');
            const pauseBtn = document.getElementById('timer-pause-btn');
            const resetBtn = document.getElementById('timer-reset-btn');
            const display = document.getElementById('timer-display');
            const status = document.getElementById('timer-status');
            const durationSelect = document.getElementById('timer-duration');
            const soundToggle = document.getElementById('timer-sound');
            const progressRing = document.getElementById('progress-ring');
            
            // Debug logging
            console.log('Timer elements found:', {
                startBtn: !!startBtn,
                pauseBtn: !!pauseBtn,
                resetBtn: !!resetBtn,
                display: !!display,
                status: !!status,
                durationSelect: !!durationSelect,
                soundToggle: !!soundToggle,
                progressRing: !!progressRing
            });
            
            // Additional debugging
            console.log('Start button element:', startBtn);
            console.log('Display element:', display);
            console.log('Duration select element:', durationSelect);
            console.log('Current page:', currentPage);
            
            // Set global variables
            window.startBtn = startBtn;
            window.pauseBtn = pauseBtn;
            window.resetBtn = resetBtn;
            window.display = display;
            window.status = status;
            window.durationSelect = durationSelect;
            window.soundToggle = soundToggle;
            window.progressRing = progressRing;
            
            // Initialize timer state
            window.timeRemaining = parseInt(durationSelect ? durationSelect.value : 600);
            window.totalTime = window.timeRemaining;
            window.isRunning = false;
            window.isPaused = false;
            
            // Event listeners with debugging - USING SIMPLE TIMER
            if (startBtn) {
                console.log('ðŸ”§ Adding click listener to start button - USING SIMPLE TIMER - VERSION 3.0 ðŸ”§');
                startBtn.addEventListener('click', (e) => {
                    console.log('Start button clicked! Using DIRECT timer');
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // DIRECT TIMER IMPLEMENTATION - NO COMPLEX FUNCTIONS
                    const display = document.getElementById('timer-display');
                    const durationSelect = document.getElementById('timer-duration');
                    const duration = durationSelect ? parseInt(durationSelect.value) : 600;
                    
                    console.log('Direct timer - display element:', display);
                    console.log('Direct timer - duration:', duration);
                    
                    if (!display) {
                        console.error('Display element not found!');
                        return;
                    }
                    
                    // Clear any existing timer
                    if (window.directTimerInterval) {
                        clearInterval(window.directTimerInterval);
                    }
                    
                    // Set initial values
                    window.directTimeRemaining = duration;
                    window.directIsRunning = true;
                    
                    // Update display immediately
                    const minutes = Math.floor(window.directTimeRemaining / 60);
                    const seconds = window.directTimeRemaining % 60;
                    const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    display.textContent = displayText;
                    console.log('Direct timer - set display to:', displayText);
                    
                    // Hide start button, show pause button
                    const pauseBtn = document.getElementById('timer-pause-btn');
                    if (startBtn) startBtn.classList.add('hidden');
                    if (pauseBtn) pauseBtn.classList.remove('hidden');
                    
                    // Start the timer
                    window.directTimerInterval = setInterval(() => {
                        if (window.directTimeRemaining > 0) {
                            window.directTimeRemaining--;
                            const minutes = Math.floor(window.directTimeRemaining / 60);
                            const seconds = window.directTimeRemaining % 60;
                            const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                            display.textContent = displayText;
                            console.log('Direct timer tick:', displayText);
                        } else {
                            // Timer finished
                            clearInterval(window.directTimerInterval);
                            window.directIsRunning = false;
                            display.textContent = '00:00';
                            console.log('Direct timer finished!');
                            
                            // Reset buttons
                            if (startBtn) startBtn.classList.remove('hidden');
                            if (pauseBtn) pauseBtn.classList.add('hidden');
                        }
                    }, 1000);
                });
            } else {
                console.error('Start button not found!');
                console.log('Available buttons:', document.querySelectorAll('button[id*="timer"]'));
            }
            if (pauseBtn) {
                pauseBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Pause button clicked!');
                    
                    if (window.directTimerInterval) {
                        clearInterval(window.directTimerInterval);
                        window.directIsRunning = false;
                        console.log('Direct timer paused');
                        
                        // Show start button, hide pause button
                        const startBtn = document.getElementById('timer-start-btn');
                        if (startBtn) startBtn.classList.remove('hidden');
                        if (pauseBtn) pauseBtn.classList.add('hidden');
                    }
                });
            }
            if (resetBtn) {
                resetBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Reset button clicked!');
                    
                    // Clear timer
                    if (window.directTimerInterval) {
                        clearInterval(window.directTimerInterval);
                    }
                    
                    // Reset values
                    const durationSelect = document.getElementById('timer-duration');
                    const duration = durationSelect ? parseInt(durationSelect.value) : 600;
                    window.directTimeRemaining = duration;
                    window.directIsRunning = false;
                    
                    // Update display
                    const display = document.getElementById('timer-display');
                    if (display) {
                        const minutes = Math.floor(duration / 60);
                        const seconds = duration % 60;
                        const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                        display.textContent = displayText;
                        console.log('Reset display to:', displayText);
                    }
                    
                    // Reset buttons
                    const startBtn = document.getElementById('timer-start-btn');
                    if (startBtn) startBtn.classList.remove('hidden');
                    if (pauseBtn) pauseBtn.classList.add('hidden');
                });
            }
            
            // Duration change - UPDATED TO USE DIRECT TIMER
            if (durationSelect) {
                durationSelect.addEventListener('change', () => {
                    if (!window.directIsRunning) {
                        const newDuration = parseInt(durationSelect.value);
                        window.directTimeRemaining = newDuration;
                        console.log('Duration changed to:', newDuration, 'seconds');
                        
                        // Update display directly
                        const display = document.getElementById('timer-display');
                        if (display) {
                            const minutes = Math.floor(newDuration / 60);
                            const seconds = newDuration % 60;
                            const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                            display.textContent = displayText;
                            console.log('Updated display to:', displayText);
                        }
                    }
                });
            }
            
            // Initialize display properly
            console.log('Initializing timer display...');
            console.log('Initial timeRemaining:', window.timeRemaining);
            console.log('Initial totalTime:', window.totalTime);
            console.log('Display element reference:', window.display);
            
            // Force update display
            if (window.display) {
                const minutes = Math.floor(window.timeRemaining / 60);
                const seconds = window.timeRemaining % 60;
                const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                window.display.textContent = displayText;
                console.log('Set display to:', displayText);
            } else {
                console.error('Display element is null during initialization!');
                // Try to find it again
                const displayElement = document.getElementById('timer-display');
                if (displayElement) {
                    window.display = displayElement;
                    console.log('Found display element during init:', displayElement);
                    const minutes = Math.floor(window.timeRemaining / 60);
                    const seconds = window.timeRemaining % 60;
                    const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    window.display.textContent = displayText;
                    console.log('Set display to (init retry):', displayText);
                } else {
                    console.error('timer-display element not found during initialization!');
                }
            }
            
            // Update status
            if (window.status) {
                window.status.textContent = 'Ready to begin';
                console.log('Set status to: Ready to begin');
            }
            
            // Update progress ring
            if (window.progressRing && window.totalTime > 0) {
                const progress = (window.timeRemaining / window.totalTime) * 283;
                window.progressRing.style.strokeDashoffset = progress;
                console.log('Set progress ring to:', progress);
            }
            
            // Ensure buttons are in correct state
            if (window.startBtn) {
                window.startBtn.classList.remove('hidden');
                console.log('Start button made visible');
            }
            if (window.pauseBtn) {
                window.pauseBtn.classList.add('hidden');
                console.log('Pause button hidden');
            }
            
            console.log('Timer initialization complete');
            
            // REMOVED test function that was overwriting display
        }, 100);
    }

    // Journal logic
    function attachJournalLogic() {
        // Attaching journal logic
        
        const saveBtn = document.getElementById('journal-save-btn');
        const entryText = document.getElementById('journal-entry');
        const entriesList = document.getElementById('journal-entries');
        
        function saveEntry() {
            if (entryText && entryText.value.trim()) {
                const entry = {
                    text: entryText.value.trim(),
                    date: new Date().toLocaleString()
                };
                
                let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                entries.unshift(entry);
                localStorage.setItem('journalEntries', JSON.stringify(entries));
                
                // Clear textarea and draft
                entryText.value = '';
                localStorage.removeItem('journal-draft');
                
                // Hide save button
                if (saveBtn) {
                    saveBtn.classList.add('hidden');
                }
                
                // Show enhanced success feedback
                showToast('Entry saved successfully! âœï¸', 'success');
                triggerHapticFeedback('success');
                
                // Add floating animation to save button
                if (saveBtn) {
                    saveBtn.classList.add('float-up');
                    setTimeout(() => {
                        saveBtn.classList.remove('float-up');
                    }, 600);
                }
                
                // Refresh entries list
                loadEntries();
            }
        }
        
        function loadEntries() {
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            if (entriesList) {
                entriesList.innerHTML = entries.map(entry => `
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-gray-200/50">
                        <div class="text-sm text-gray-600 mb-2">${entry.date}</div>
                        <div class="text-gray-800 leading-relaxed">${entry.text}</div>
                    </div>
                `).join('');
            }
        }
        
        // Event listeners
        if (saveBtn) {
            saveBtn.addEventListener('click', saveEntry);
        }
        
        // Auto-save draft
        if (entryText) {
            entryText.addEventListener('input', () => {
                localStorage.setItem('journal-draft', entryText.value);
                if (entryText.value.trim() && saveBtn) {
                    saveBtn.classList.remove('hidden');
                } else if (saveBtn) {
                    saveBtn.classList.add('hidden');
                }
            });
        }
        
        // Load draft on page load
        if (entryText) {
            const draft = localStorage.getItem('journal-draft');
            if (draft) {
                entryText.value = draft;
                if (draft.trim() && saveBtn) {
                    saveBtn.classList.remove('hidden');
                }
            }
        }
        
        // Load existing entries
        loadEntries();
    }

    // Workout logic

    // Global workout functions
    window.startWorkout = function() {
        if (!workoutIsRunning && workoutExerciseSelect && workoutExerciseSelect.value) {
            const exercise = exercises.find(e => e.id === workoutExerciseSelect.value);
            if (exercise) {
                workoutIsRunning = true;
                workoutIsPaused = false;
                workoutTimeRemaining = exercise.duration;
                workoutTotalTime = exercise.duration;
                
                if (workoutStartBtn) workoutStartBtn.classList.add('hidden');
                if (workoutPauseBtn) workoutPauseBtn.classList.remove('hidden');
                
                workoutInterval = setInterval(() => {
                    if (workoutTimeRemaining > 0) {
                        workoutTimeRemaining--;
                        updateWorkoutDisplay();
                    } else {
                        clearInterval(workoutInterval);
                        workoutIsRunning = false;
                        if (workoutStatus) workoutStatus.textContent = 'Exercise complete! ðŸŽ‰';
                        if (workoutStartBtn) workoutStartBtn.classList.remove('hidden');
                        if (workoutPauseBtn) workoutPauseBtn.classList.add('hidden');
                    }
                }, 1000);
            }
        }
    };

    window.pauseWorkout = function() {
        if (workoutIsRunning) {
            workoutIsRunning = false;
            workoutIsPaused = true;
            clearInterval(workoutInterval);
            if (workoutStartBtn) workoutStartBtn.classList.remove('hidden');
            if (workoutPauseBtn) workoutPauseBtn.classList.add('hidden');
        }
    };

    window.resetWorkout = function() {
        clearInterval(workoutInterval);
        workoutIsRunning = false;
        workoutIsPaused = false;
        if (workoutExerciseSelect && workoutExerciseSelect.value) {
            const exercise = exercises.find(e => e.id === workoutExerciseSelect.value);
            if (exercise) {
                workoutTimeRemaining = exercise.duration;
                workoutTotalTime = exercise.duration;
            }
        }
        updateWorkoutDisplay();
        if (workoutStartBtn) workoutStartBtn.classList.remove('hidden');
        if (workoutPauseBtn) workoutPauseBtn.classList.add('hidden');
    };

    window.updateWorkoutDisplay = function() {
        if (workoutDisplay) {
            const minutes = Math.floor(workoutTimeRemaining / 60);
            const seconds = workoutTimeRemaining % 60;
            const displayText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            workoutDisplay.textContent = displayText;
        }
        if (workoutStatus) {
            if (workoutIsRunning) {
                workoutStatus.textContent = 'Exercising...';
            } else if (workoutIsPaused) {
                workoutStatus.textContent = 'Paused';
            } else {
                workoutStatus.textContent = 'Ready to begin';
            }
        }
    };

    
    // Timer variables - DISABLED - Using direct timer system instead
    /*
    window.timerInterval = null;
    window.timeRemaining = 600; // 10 minutes default
    window.totalTime = 600;
    window.isRunning = false;
    window.isPaused = false;
    window.display = null;
    window.status = null;
    window.progressRing = null;
    window.startBtn = null;
    window.pauseBtn = null;
    window.resetBtn = null;
    window.durationSelect = null;
    window.soundToggle = null;
    */

    // Timer functions - defined globally so they can be accessed by event listeners
    // REMOVED DUPLICATE updateDisplay function - using window.updateDisplay instead


    function pauseTimer() {
        if (isRunning) {
            clearInterval(timerInterval);
            isRunning = false;
            isPaused = true;
            
            // Haptic feedback for mobile
            triggerHapticFeedback('medium');
            
            // Remove pulsing effect
            const timerContainerReset = document.querySelector('.relative.w-48, .relative.w-56, .relative.w-64, .relative.w-72, .relative.w-80');
            if (timerContainerReset) {
                timerContainerReset.classList.remove('timer-running');
            }
            
            if (startBtn) {
                startBtn.classList.remove('hidden');
                startBtn.innerHTML = '<div class="flex items-center justify-center space-x-2"><span class="text-xl">â–¶ï¸</span><span>Resume</span></div>';
            }
            if (pauseBtn) pauseBtn.classList.add('hidden');
        }
    }

    function resetTimer() {
        clearInterval(timerInterval);
        isRunning = false;
        isPaused = false;
        
        // Haptic feedback for mobile
        triggerHapticFeedback('light');
        
        // Remove pulsing effect
        const timerContainerStop = document.querySelector('.relative.w-48, .relative.w-56, .relative.w-64, .relative.w-72, .relative.w-80');
        if (timerContainerStop) {
            timerContainerStop.classList.remove('timer-running');
        }
        
        // Reset to selected duration
        if (durationSelect) {
            timeRemaining = parseInt(durationSelect.value);
            totalTime = timeRemaining;
        } else {
            timeRemaining = 600;
            totalTime = 600;
        }
        
        updateDisplay();
        
        if (startBtn) {
            startBtn.classList.remove('hidden');
            startBtn.innerHTML = '<div class="flex items-center justify-center space-x-2"><span class="text-xl">â–¶ï¸</span><span>Start Meditation</span></div>';
        }
        if (pauseBtn) pauseBtn.classList.add('hidden');
    }

    function attachTimerEventListeners(startBtnParam, pauseBtnParam, resetBtnParam, displayParam, statusParam, durationSelectParam, soundToggleParam, progressRingParam) {
        // Set global variables
        startBtn = startBtnParam;
        pauseBtn = pauseBtnParam;
        resetBtn = resetBtnParam;
        display = displayParam;
        status = statusParam;
        durationSelect = durationSelectParam;
        soundToggle = soundToggleParam;
        progressRing = progressRingParam;
        
        // Event listeners
        if (startBtn) {
            startBtn.addEventListener('click', () => {
                startTimer();
            });
        }
        if (pauseBtn) {
            pauseBtn.addEventListener('click', () => {
                pauseTimer();
            });
        }
        if (resetBtn) {
            resetBtn.addEventListener('click', () => {
                resetTimer();
            });
        }
        
        // Duration change
        if (durationSelect) {
            durationSelect.addEventListener('change', () => {
                if (!isRunning) {
                    timeRemaining = parseInt(durationSelect.value);
                    totalTime = timeRemaining;
                    updateDisplay();
                }
            });
        }
        
        // Initialize display
        console.log('=== INITIALIZING DISPLAY ===');
        console.log('timeRemaining:', timeRemaining);
        console.log('display element:', display);
        updateDisplay();
    }

    // Journal logic
    function attachJournalLogic() {
        // Attaching journal logic
        
        const saveBtn = document.getElementById('journal-save-btn');
        const entryText = document.getElementById('journal-entry');
        const entriesList = document.getElementById('journal-entries');
        
        function saveEntry() {
            if (entryText && entryText.value.trim()) {
                const entry = {
                    text: entryText.value.trim(),
                    date: new Date().toLocaleString()
                };
                
                let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                entries.unshift(entry);
                localStorage.setItem('journalEntries', JSON.stringify(entries));
                
                // Clear textarea and draft
                entryText.value = '';
                localStorage.removeItem('journal-draft');
                
                // Hide save button
                if (saveBtn) {
                    saveBtn.classList.add('hidden');
                }
                
                // Show enhanced success feedback
                showToast('Entry saved successfully! âœï¸', 'success');
                triggerHapticFeedback('success');
                
                // Add floating animation to save button
                if (saveBtn) {
                    saveBtn.classList.add('float-up');
                    setTimeout(() => {
                        saveBtn.classList.remove('float-up');
                    }, 600);
                }
                
                // Refresh entries list
                loadEntries();
            }
        }
        
        function loadEntries() {
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            if (entriesList) {
                entriesList.innerHTML = entries.map(entry => `
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-4 shadow-sm border border-gray-200/50">
                        <div class="text-sm text-gray-600 mb-2">${entry.date}</div>
                        <div class="text-gray-800 leading-relaxed">${entry.text}</div>
                    </div>
                `).join('');
            }
        }
        
        // Event listeners
        if (saveBtn) {
            saveBtn.addEventListener('click', saveEntry);
        }
        
        // Auto-save draft
        if (entryText) {
            entryText.addEventListener('input', () => {
                localStorage.setItem('journal-draft', entryText.value);
                if (entryText.value.trim() && saveBtn) {
                    saveBtn.classList.remove('hidden');
                } else if (saveBtn) {
                    saveBtn.classList.add('hidden');
                }
            });
        }
        
        // Load draft on page load
        if (entryText) {
            const draft = localStorage.getItem('journal-draft');
            if (draft) {
                entryText.value = draft;
                if (draft.trim() && saveBtn) {
                    saveBtn.classList.remove('hidden');
                }
            }
        }
        
        // Load existing entries
        loadEntries();
    }

    // Workout logic
    function attachWorkoutLogic() {
        console.log('Attaching workout logic...');
        console.log('Workout page - adding mobile-friendly sound functionality and timer');
        
        // Ensure welcome overlay is hidden
        const welcomeOverlay = document.getElementById('welcome-overlay');
        if (welcomeOverlay) {
            welcomeOverlay.style.display = 'none';
            welcomeOverlay.style.opacity = '0';
        }
        
        // Workout timer variables
        let workoutTimer = null;
        let currentTime = 30; // 30 seconds per exercise
        let isWorkoutRunning = false;
        let isWorkoutPaused = false;
        let currentExercise = 1;
        const totalExercises = 12;
        
        // Exercise data
        const exercises = [
            { name: "Jumping Jacks", emoji: "ðŸ¤¸", description: "Start with feet together, jump up spreading legs and raising arms overhead, then return to start position." },
            { name: "Wall Sit", emoji: "ðŸª‘", description: "Slide down the wall until your thighs are parallel to the floor, hold this position." },
            { name: "Push-ups", emoji: "ðŸ’ª", description: "Start in plank position, lower your body until chest nearly touches floor, then push back up." },
            { name: "Abdominal Crunches", emoji: "ðŸ‹ï¸", description: "Lie on back, lift shoulders off ground by contracting abdominal muscles." },
            { name: "Step-ups", emoji: "ðŸªœ", description: "Step up onto a chair or step, alternating legs with each step." },
            { name: "Squats", emoji: "ðŸ¦µ", description: "Stand with feet shoulder-width apart, lower body as if sitting back into a chair." },
            { name: "Tricep Dips", emoji: "ðŸ’º", description: "Sit on edge of chair, place hands beside hips, slide forward and lower body using arms." },
            { name: "Plank", emoji: "ðŸ“", description: "Hold a push-up position with body straight from head to heels." },
            { name: "High Knees", emoji: "ðŸƒ", description: "Run in place, bringing knees up toward chest as high as possible." },
            { name: "Lunges", emoji: "ðŸš¶", description: "Step forward with one leg, lowering hips until both knees are bent at 90 degrees." },
            { name: "Push-up & Rotation", emoji: "ðŸ”„", description: "Do a push-up, then rotate to one side lifting arm up, alternating sides." },
            { name: "Side Plank", emoji: "ðŸ“", description: "Lie on side, prop up on forearm, lift hips to form straight line from head to feet." }
        ];
        
        // DOM elements
        const startBtn = document.getElementById('workout-start-btn');
        const pauseBtn = document.getElementById('workout-pause-btn');
        const resetBtn = document.getElementById('workout-reset-btn');
        const timerDisplay = document.getElementById('workout-timer-display');
        const timerLabel = document.getElementById('workout-timer-label');
        const progressText = document.getElementById('workout-progress-text');
        const progressBar = document.getElementById('workout-progress-bar');
        const exerciseName = document.getElementById('current-exercise-name');
        const exerciseDescription = document.getElementById('current-exercise-description');
        const exerciseEmoji = document.getElementById('exercise-emoji');
        const exerciseInstructions = document.getElementById('exercise-instructions');
        
        // Mobile-friendly audio setup
        let audioContext;
        let isAudioInitialized = false;
        
        // Workout timer functions
        function updateTimerDisplay() {
            if (timerDisplay) {
                timerDisplay.textContent = currentTime;
            }
            if (timerLabel) {
                timerLabel.textContent = currentTime === 1 ? 'second remaining' : 'seconds remaining';
            }
        }
        
        function updateExerciseDisplay() {
            const exercise = exercises[currentExercise - 1];
            if (exercise) {
                if (exerciseName) exerciseName.textContent = exercise.name;
                if (exerciseDescription) exerciseDescription.textContent = `Exercise ${currentExercise} of ${totalExercises}`;
                if (exerciseEmoji) exerciseEmoji.textContent = exercise.emoji;
                if (exerciseInstructions) exerciseInstructions.textContent = exercise.description;
            }
        }
        
        function updateProgress() {
            if (progressText) {
                progressText.textContent = `Exercise ${currentExercise} of ${totalExercises}`;
            }
            if (progressBar) {
                const progress = ((currentExercise - 1) / totalExercises) * 100;
                progressBar.style.width = `${progress}%`;
            }
        }

        function startWorkout() {
            console.log('Start workout function called!');
            if (!isWorkoutRunning) {
                isWorkoutRunning = true;
                isWorkoutPaused = false;
                currentTime = 30;
                currentExercise = 1;
                
                if (startBtn) startBtn.classList.add('hidden');
                if (pauseBtn) pauseBtn.classList.remove('hidden');
                
                updateTimerDisplay();
                updateProgress();
                
                workoutTimer = setInterval(() => {
                    currentTime--;
                    updateTimerDisplay();
                    
                    if (currentTime <= 0) {
                        // Exercise complete
                        playBell(); // Play sound
                        currentExercise++;
                        
                        if (currentExercise > totalExercises) {
                            // Workout complete
                            clearInterval(workoutTimer);
                            isWorkoutRunning = false;
                            
                            if (timerDisplay) timerDisplay.textContent = 'Complete!';
                            if (timerLabel) timerLabel.textContent = 'Workout finished';
                            
                            if (startBtn) {
                                startBtn.classList.remove('hidden');
                                startBtn.textContent = 'Start Again';
                            }
                            if (pauseBtn) pauseBtn.classList.add('hidden');
                            
                            // Remove pulsing effect
                            const timerContainerMobile = document.querySelector('.relative.w-56');
                            if (timerContainerMobile) {
                                timerContainerMobile.classList.remove('timer-running');
                            }
                            
                            // Session complete
                            if (status) status.textContent = 'Session complete! ðŸŽ‰';
                            
                            // Show start button again
                            if (startBtn) {
                                startBtn.classList.remove('hidden');
                                startBtn.innerHTML = '<div class="flex items-center justify-center space-x-2"><span class="text-xl">â–¶ï¸</span><span>Start Meditation</span></div>';
                            }
                            if (pauseBtn) pauseBtn.classList.add('hidden');
                            
                            // Removed alert for production - using notification instead
                        } else {
                            // Next exercise
                            currentTime = 30;
                            updateProgress();
                            updateTimerDisplay();
                        }
                    }
                }, 1000);
            }
        }
    }

    // Interview logic
    function attachInterviewLogic() {
        console.log('Attaching interview logic...');
        console.log('Interview page - adding dynamic functionality with video recording');
        
        // Interview questions by category
        const interviewQuestions = {
            general: [
                "Tell me about yourself",
                "What are your greatest strengths?",
                "What are your greatest weaknesses?",
                "Why do you want this job?",
                "Why should we hire you?",
                "Where do you see yourself in 5 years?",
                "What motivates you?",
                "How do you handle stress?",
                "Describe a challenging situation you've faced",
                "What are your career goals?"
            ],
            behavioral: [
                "Tell me about a time you failed and how you handled it",
                "Describe a situation where you had to work with a difficult person",
                "Give me an example of when you went above and beyond",
                "Tell me about a time you had to make a difficult decision",
                "Describe a situation where you had to learn something new quickly",
                "Tell me about a time you had to work under pressure",
                "Give me an example of when you had to persuade someone",
                "Tell me about a time you had to work in a team",
                "Describe a situation where you had to solve a problem",
                "Tell me about a time you had to adapt to change"
            ],
            technical: [
                "What technical skills do you have?",
                "How do you stay up-to-date with technology?",
                "Describe a technical project you worked on",
                "What programming languages do you know?",
                "How do you approach debugging?",
                "What tools do you use for development?",
                "How do you ensure code quality?",
                "Describe your experience with databases",
                "What's your experience with version control?",
                "How do you handle technical challenges?"
            ]
        };
        
        // Current question and category
        let currentQuestion = '';
        let currentCategory = 'general';
        let questionIndex = 0;
        
        // DOM elements
        const questionDisplay = document.getElementById('current-question');
        const categorySelect = document.getElementById('question-category');
        const nextBtn = document.getElementById('next-question-btn');
        const recordBtn = document.getElementById('record-btn');
        const stopBtn = document.getElementById('stop-btn');
        const playBtn = document.getElementById('play-btn');
        const videoElement = document.getElementById('video-preview');
        const audioElement = document.getElementById('audio-preview');
        
        // Media recording
        let mediaRecorder = null;
        let recordedChunks = [];
        let isRecording = false;
        
        // Functions
        function getRandomQuestion(category) {
            const questions = interviewQuestions[category] || interviewQuestions.general;
            const randomIndex = Math.floor(Math.random() * questions.length);
            return questions[randomIndex];
        }
        
        function displayQuestion(question) {
            if (questionDisplay) {
                questionDisplay.textContent = question;
            }
        }
        
        function nextQuestion() {
            currentCategory = categorySelect ? categorySelect.value : 'general';
            currentQuestion = getRandomQuestion(currentCategory);
            displayQuestion(currentQuestion);
        }
        
        function startRecording() {
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ 
                    video: true, 
                    audio: true 
                }).then(stream => {
                    if (videoElement) {
                        videoElement.srcObject = stream;
                    }
                    
                    mediaRecorder = new MediaRecorder(stream);
                    recordedChunks = [];
                    
                    mediaRecorder.ondataavailable = event => {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };
                    
                    mediaRecorder.onstop = () => {
                        const blob = new Blob(recordedChunks, { type: 'video/webm' });
                        const url = URL.createObjectURL(blob);
                        
                        if (videoElement) {
                            videoElement.src = url;
                            videoElement.controls = true;
                        }
                        
                        // Stop all tracks
                        stream.getTracks().forEach(track => track.stop());
                    };
                    
                    mediaRecorder.start();
                    isRecording = true;
                    
                    if (recordBtn) recordBtn.classList.add('hidden');
                    if (stopBtn) stopBtn.classList.remove('hidden');
                }).catch(error => {
                    console.error('Error accessing media devices:', error);
                    alert('Error accessing camera/microphone. Please check permissions.');
                });
            } else {
                alert('Media recording not supported in this browser.');
            }
        }
        
        function stopRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
                
                if (recordBtn) recordBtn.classList.remove('hidden');
                if (stopBtn) stopBtn.classList.add('hidden');
            }
        }
        
        // Event listeners
        if (nextBtn) {
            nextBtn.addEventListener('click', nextQuestion);
        }
        
        if (recordBtn) {
            recordBtn.addEventListener('click', startRecording);
        }
        
        if (stopBtn) {
            stopBtn.addEventListener('click', stopRecording);
        }
        
        if (categorySelect) {
            categorySelect.addEventListener('change', () => {
                nextQuestion();
            });
        }
        
        // Initialize
        nextQuestion();
    }
    function attachJournalLogic() {
        // Attaching journal logic
        
        const saveBtn = document.getElementById('journal-save-btn');
        const entryText = document.getElementById('journal-entry');
        const entriesList = document.getElementById('journal-entries');
        
        // Prevent zoom on double tap for mobile
        if (isTouchDevice) {
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        }
        
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function playBell() {
            if (!soundToggle || !soundToggle.checked) return;
            
            initAudio();
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            // Create a simple bell sound using Web Audio API
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.5);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }
    }

    // Journal logic
    function attachJournalLogic() {
        // Attaching journal logic
        
        const saveBtn = document.getElementById('journal-save-btn');
        const entryText = document.getElementById('journal-entry');
        const entriesList = document.getElementById('journal-entries');
        
        function saveEntry() {
            if (entryText && entryText.value.trim()) {
                const entry = {
                    text: entryText.value.trim(),
                    date: new Date().toLocaleString()
                };
                
                let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                entries.unshift(entry);
                localStorage.setItem('journalEntries', JSON.stringify(entries));
                
                // Clear textarea and draft
                entryText.value = '';
                localStorage.removeItem('journal-draft');
                
                // Hide save button
                if (saveBtn) {
                    saveBtn.classList.add('hidden');
                }
                
                displayEntries();
                
                // Show success feedback
                if (saveBtn) {
                    const originalText = saveBtn.innerHTML;
                    saveBtn.innerHTML = '<span class="flex items-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Saved!</span></span>';
                    saveBtn.classList.add('bg-green-600');
                    setTimeout(() => {
                        saveBtn.innerHTML = originalText;
                        saveBtn.classList.remove('bg-green-600');
                    }, 2000);
                }
            }
        }
        
        function displayEntries() {
            if (entriesList) {
                const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                entriesList.innerHTML = entries.map((entry, index) => `
                    <div class="journal-entry-item">
                        <div class="journal-entry-date">${entry.date}</div>
                        <div class="journal-entry-text">${entry.text}</div>
                        <div class="mt-3 flex justify-end">
                            <button onclick="deleteEntry(${index})" class="text-red-600 hover:text-red-800 text-sm font-medium px-3 py-1 rounded-md hover:bg-red-50 transition-colors">Delete</button>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        function deleteEntry(index) {
            let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            entries.splice(index, 1);
            localStorage.setItem('journalEntries', JSON.stringify(entries));
            displayEntries();
        }
        
        // Quick preset button functionality
        quickPresetBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const duration = parseInt(btn.dataset.duration);
                if (durationSelect) {
                    durationSelect.value = duration;
                }
                // Trigger change event
                if (durationSelect) {
                    durationSelect.dispatchEvent(new Event('change'));
                }
            });
        });
        
        // Enhanced textarea behavior
        if (entryText) {
            // Auto-save functionality
            let saveTimeout;
            entryText.addEventListener('input', () => {
                clearTimeout(saveTimeout);
                saveTimeout = setTimeout(() => {
                    // Auto-save to localStorage
                    localStorage.setItem('journal-draft', entryText.value);
                }, 1000);
            });
            
            // Load draft on page load
            const draft = localStorage.getItem('journal-draft');
            if (draft) {
                entryText.value = draft;
            }
            
            // Show save button when there's content
            entryText.addEventListener('input', () => {
                if (saveBtn) {
                    if (entryText.value.trim()) {
                        saveBtn.classList.remove('hidden');
                    } else {
                        saveBtn.classList.add('hidden');
                    }
                }
            });
        }
        
        if (saveBtn) {
            saveBtn.addEventListener('click', saveEntry);
        }
        
        // Make deleteEntry globally accessible
        window.deleteEntry = deleteEntry;
        
        displayEntries();
    }

    // Workout logic
    function attachWorkoutLogic() {
        console.log('Attaching workout logic...');
        console.log('Workout page - adding mobile-friendly sound functionality and timer');
        
        // Ensure welcome overlay is hidden
        const welcomeOverlay = document.getElementById('welcome-overlay');
        if (welcomeOverlay) {
            welcomeOverlay.style.display = 'none';
            welcomeOverlay.style.opacity = '0';
        }
            
            // Workout timer variables
            let workoutTimer = null;
            let currentTime = 30; // 30 seconds per exercise
            let isWorkoutRunning = false;
            let isWorkoutPaused = false;
            let currentExercise = 1;
            const totalExercises = 12;
            
            // Exercise data
            const exercises = [
                { name: "Jumping Jacks", emoji: "ðŸ¤¸", description: "Start with feet together, jump up spreading legs and raising arms overhead, then return to start position." },
                { name: "Wall Sit", emoji: "ðŸª‘", description: "Slide down the wall until your thighs are parallel to the floor, hold this position." },
                { name: "Push-ups", emoji: "ðŸ’ª", description: "Start in plank position, lower your body until chest nearly touches floor, then push back up." },
                { name: "Abdominal Crunches", emoji: "ðŸ‹ï¸", description: "Lie on back, lift shoulders off ground by contracting abdominal muscles." },
                { name: "Step-ups", emoji: "ðŸªœ", description: "Step up onto a chair or step, alternating legs with each step." },
                { name: "Squats", emoji: "ðŸ¦µ", description: "Stand with feet shoulder-width apart, lower body as if sitting back into a chair." },
                { name: "Tricep Dips", emoji: "ðŸ’º", description: "Sit on edge of chair, place hands beside hips, slide forward and lower body using arms." },
                { name: "Plank", emoji: "ðŸ“", description: "Hold a push-up position with body straight from head to heels." },
                { name: "High Knees", emoji: "ðŸƒ", description: "Run in place, bringing knees up toward chest as high as possible." },
                { name: "Lunges", emoji: "ðŸš¶", description: "Step forward with one leg, lowering hips until both knees are bent at 90 degrees." },
                { name: "Push-up & Rotation", emoji: "ðŸ”„", description: "Do a push-up, then rotate to one side lifting arm up, alternating sides." },
                { name: "Side Plank", emoji: "ðŸ“", description: "Lie on side, prop up on forearm, lift hips to form straight line from head to feet." }
            ];
            
            // DOM elements
            const startBtn = document.getElementById('workout-start-btn');
            const pauseBtn = document.getElementById('workout-pause-btn');
            const resetBtn = document.getElementById('workout-reset-btn');
            const timerDisplay = document.getElementById('workout-timer-display');
            const timerLabel = document.getElementById('workout-timer-label');
            const progressText = document.getElementById('workout-progress-text');
            const progressBar = document.getElementById('workout-progress-bar');
            const exerciseName = document.getElementById('current-exercise-name');
            const exerciseDescription = document.getElementById('current-exercise-description');
            const exerciseEmoji = document.getElementById('exercise-emoji');
            const exerciseInstructions = document.getElementById('exercise-instructions');
            
            // Mobile-friendly audio setup
            let audioContext;
            let isAudioInitialized = false;
            
            // Workout timer functions
            function updateTimerDisplay() {
                if (timerDisplay) {
                    timerDisplay.textContent = currentTime;
                }
                if (timerLabel) {
                    timerLabel.textContent = currentTime === 1 ? 'second remaining' : 'seconds remaining';
                }
            }
            
            function updateExerciseDisplay() {
                const exercise = exercises[currentExercise - 1];
                if (exercise) {
                    if (exerciseName) exerciseName.textContent = exercise.name;
                    if (exerciseDescription) exerciseDescription.textContent = `Exercise ${currentExercise} of ${totalExercises}`;
                    if (exerciseEmoji) exerciseEmoji.textContent = exercise.emoji;
                    if (exerciseInstructions) exerciseInstructions.textContent = exercise.description;
                }
            }
            
            function updateProgress() {
                if (progressText) {
                    progressText.textContent = `Exercise ${currentExercise} of ${totalExercises}`;
                }
                if (progressBar) {
                    const progress = ((currentExercise - 1) / totalExercises) * 100;
                    progressBar.style.width = `${progress}%`;
                }
            }

            
            function pauseWorkout() {
                if (isWorkoutRunning) {
                    clearInterval(workoutTimer);
                    isWorkoutRunning = false;
                    isWorkoutPaused = true;
                    
                    if (startBtn) {
                        startBtn.classList.remove('hidden');
                startBtn.textContent = 'Resume';
                    }
                    if (pauseBtn) pauseBtn.classList.add('hidden');
                }
            }
            
            function resetWorkout() {
                clearInterval(workoutTimer);
                isWorkoutRunning = false;
                isWorkoutPaused = false;
                currentTime = 30;
                currentExercise = 1;
                
                if (startBtn) {
                startBtn.classList.remove('hidden');
                    startBtn.textContent = 'Start Workout';
                }
                if (pauseBtn) pauseBtn.classList.add('hidden');
                
                updateTimerDisplay();
                updateProgress();
            }
            
            // Event listeners
            if (startBtn) {
                console.log('Adding start button event listener');
                startBtn.addEventListener('click', startWorkout);
            } else {
                console.error('Start button not found!');
            }
            if (pauseBtn) {
                console.log('Adding pause button event listener');
                pauseBtn.addEventListener('click', pauseWorkout);
            } else {
                console.error('Pause button not found!');
            }
            if (resetBtn) {
                console.log('Adding reset button event listener');
                resetBtn.addEventListener('click', resetWorkout);
            } else {
                console.error('Reset button not found!');
            }
            
            // Initialize display
            updateTimerDisplay();
            updateProgress();
        
        function initAudio() {
            if (!audioContext) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    isAudioInitialized = true;
                    console.log('ðŸ”Š Audio context initialized');
                } catch (error) {
                    console.log('Audio not supported:', error);
                    return false;
                }
            }
            return true;
        }
        
        function playBell() {
            try {
                // Initialize audio if not done yet
                if (!initAudio()) {
                    console.log('Audio not available');
                    return;
                }
                
                // Resume audio context if suspended (mobile requirement)
                if (audioContext.state === 'suspended') {
                    audioContext.resume().then(() => {
                        console.log('ðŸ”Š Audio context resumed');
                        playBellSound();
                    });
                } else {
                    playBellSound();
                }
                
            } catch (error) {
                console.log('Sound error:', error);
            }
        }
        
        function playBellSound() {
            try {
                // Create mobile-optimized bell sound
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Mobile-friendly frequencies (lower, less harsh)
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.1);
                oscillator.frequency.setValueAtTime(1000, audioContext.currentTime + 0.2);
                
                // Mobile-optimized volume (louder, clearer)
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
                
                // Longer duration for mobile clarity
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.8);
                
                console.log('ðŸ”” Mobile bell sound played!');
            } catch (error) {
                console.log('Bell sound error:', error);
            }
        }
        
        // Mobile-friendly test function
        window.testWorkoutSound = function() {
            console.log('Testing mobile sound...');
            playBell();
        };
        
        // Auto-initialize audio on first user interaction
        document.addEventListener('touchstart', function initAudioOnTouch() {
            if (!isAudioInitialized) {
                initAudio();
                document.removeEventListener('touchstart', initAudioOnTouch);
            }
        }, { once: true });
        
        document.addEventListener('click', function initAudioOnClick() {
            if (!isAudioInitialized) {
                initAudio();
                document.removeEventListener('click', initAudioOnClick);
            }
        }, { once: true });
        
        console.log('Mobile-friendly sound functionality added. Touch or click to initialize audio.');
    }

    // Interview logic
        function attachInterviewLogic() {
            console.log('Attaching interview logic...');
        console.log('Interview page - adding dynamic functionality with video recording');
        
        // Interview questions by category
        const interviewQuestions = {
            general: [
                "Tell me about yourself",
                "What are your greatest strengths?",
                "What are your areas for improvement?",
                "Why do you want this job?",
                "Where do you see yourself in 5 years?",
                "Why should we hire you?",
                "What questions do you have for us?",
                "What motivates you?",
                "How do you handle pressure?",
                "What's your ideal work environment?"
            ],
            storytelling: [
                "Tell me about a time you failed and what you learned",
                "Share a story about going above and beyond",
                "Describe a project you're particularly proud of",
                "Tell me about a time you had to persuade someone",
                "Share when you helped a teammate succeed",
                "Describe working with a difficult person",
                "Tell me about a tough decision you had to make",
                "Share a time you learned something quickly",
                "Describe how you adapted to change",
                "Tell me about dealing with conflict"
            ],
            communication: [
                "How do you handle constructive criticism?",
                "Describe your communication style",
                "How do you give difficult feedback?",
                "How do you build rapport with colleagues?",
                "Tell me about a recent presentation",
                "How do you ensure team understanding?",
                "Tell me about explaining complex topics",
                "How do you handle disagreements?",
                "How do you ensure your message is understood?",
                "Describe communicating bad news"
            ],
            creativity: [
                "How do you approach problem-solving?",
                "Tell me about a creative solution you implemented",
                "How do you stay innovative in your work?",
                "Describe thinking outside the box",
                "How do you generate new ideas?",
                "Tell me about a project with creative freedom",
                "How do you balance creativity with practicality?",
                "Describe finding a creative workaround",
                "How do you inspire creativity in others?",
                "Tell me about an ahead-of-its-time idea"
            ]
        };
            
            let currentCategory = 'general';
            let currentQuestionIndex = 0;
        let currentQuestions = interviewQuestions.general;
        let mediaRecorder;
        let recordedChunks = [];
        let stream;
        
        // DOM elements
        const categoryButtons = document.querySelectorAll('#interview-cat-btn');
        const questionElement = document.getElementById('current-question');
        const randomBtn = document.getElementById('random-question-btn');
        const prevBtn = document.getElementById('previous-question-btn');
        const nextBtn = document.getElementById('next-question-btn');
        const startCameraBtn = document.getElementById('start-camera-btn');
        const startRecordingBtn = document.getElementById('start-recording-btn');
        const stopRecordingBtn = document.getElementById('stop-recording-btn');
        const stopCameraBtn = document.getElementById('stop-camera-btn');
        const liveVideo = document.getElementById('live-video');
        const playbackVideo = document.getElementById('playback-video');
        const videoPlaceholder = document.getElementById('video-placeholder');
        const recordingsSection = document.getElementById('recordings-section');
        const recordingsList = document.getElementById('recordings-list');
        
        // Category selection
        categoryButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                currentCategory = btn.dataset.category;
                currentQuestions = interviewQuestions[currentCategory];
                currentQuestionIndex = 0;
                
                // Update active button
                categoryButtons.forEach(b => b.classList.remove('ring-2', 'ring-white', 'ring-offset-2'));
                btn.classList.add('ring-2', 'ring-white', 'ring-offset-2');
                
                // Show first question
                showQuestion(0);
            });
        });
        
        // Question navigation
        randomBtn.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * currentQuestions.length);
            showQuestion(randomIndex);
        });
        
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                showQuestion(currentQuestionIndex - 1);
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                showQuestion(currentQuestionIndex + 1);
            }
        });
        
        function showQuestion(index) {
            currentQuestionIndex = index;
            questionElement.textContent = currentQuestions[index];
            
            // Update navigation buttons
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === currentQuestions.length - 1;
            
            // Add visual feedback
            questionElement.style.animation = 'none';
            setTimeout(() => {
                questionElement.style.animation = 'fadeIn 0.5s ease-in';
            }, 10);
        }
        
        // Camera functionality
        startCameraBtn.addEventListener('click', async () => {
            try {
                // Enhanced mobile detection
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                
                // Mobile-optimized video settings for better performance
                const videoConstraints = isMobile ? {
                    width: { ideal: 640, max: 1280 },
                    height: { ideal: 480, max: 720 },
                    facingMode: 'user',
                    frameRate: { ideal: 15, max: 30 },
                    aspectRatio: { ideal: 16/9 }
                } : {
                    width: { ideal: 1280, max: 1920 },
                    height: { ideal: 720, max: 1080 },
                    facingMode: 'user',
                    frameRate: { ideal: 30, max: 60 },
                    aspectRatio: { ideal: 16/9 }
                };
                
                stream = await navigator.mediaDevices.getUserMedia({ 
                    video: videoConstraints,
                    audio: { 
                        echoCancellation: true,
                        noiseSuppression: true,
                        autoGainControl: true
                    }
                });
                
                    // Optimize video for mobile performance
                    liveVideo.srcObject = stream;
                    liveVideo.style.display = 'block';
                    liveVideo.muted = true; // Mute to prevent feedback
                    liveVideo.playsInline = true; // Important for iOS
                    liveVideo.setAttribute('playsinline', 'true'); // iOS compatibility
                    liveVideo.setAttribute('webkit-playsinline', 'true'); // Older iOS compatibility
                    
                    // Ensure video is visible and playing
                    liveVideo.play().catch(e => console.log('Video play failed:', e));
                
                videoPlaceholder.style.display = 'none';
                playbackVideo.style.display = 'none';
                
                // Show loading state
                startCameraBtn.innerHTML = 'â³ Starting Camera...';
                startCameraBtn.disabled = true;
                
                // Wait for video to load
                liveVideo.onloadedmetadata = () => {
                    startCameraBtn.style.display = 'none';
                    startRecordingBtn.style.display = 'block';
                    stopCameraBtn.style.display = 'block';
                    console.log('Camera started successfully');
                };
                
                // Fallback timeout
                setTimeout(() => {
                    if (startCameraBtn.disabled) {
                        startCameraBtn.innerHTML = 'ðŸ“¹ Start Camera';
                        startCameraBtn.disabled = false;
                        startCameraBtn.style.display = 'block';
                        startRecordingBtn.style.display = 'none';
                        stopCameraBtn.style.display = 'none';
                    }
                }, 5000);
            } catch (error) {
                console.error('Error accessing camera:', error);
                
                // Reset button state
                startCameraBtn.innerHTML = 'ðŸ“¹ Start Camera';
                startCameraBtn.disabled = false;
                
                // Better error messages for mobile
                let errorMessage = 'Unable to access camera. ';
                if (error.name === 'NotAllowedError') {
                    errorMessage += 'Please allow camera access in your browser settings and try again.';
                } else if (error.name === 'NotFoundError') {
                    errorMessage += 'No camera found. Please check your device.';
                } else if (error.name === 'NotSupportedError') {
                    errorMessage += 'Camera not supported on this device.';
                    } else {
                    errorMessage += 'Please check permissions and try again.';
                }
                
                // Removed alert for production - using console.error instead
                console.error(errorMessage);
            }
        });
        
        stopCameraBtn.addEventListener('click', () => {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
            }
            
            liveVideo.style.display = 'none';
            videoPlaceholder.style.display = 'block';
            playbackVideo.style.display = 'none';
            
            startCameraBtn.style.display = 'block';
            startRecordingBtn.style.display = 'none';
            stopRecordingBtn.style.display = 'none';
            stopCameraBtn.style.display = 'none';
            
            console.log('Camera stopped');
        });
        
        // Recording functionality
        startRecordingBtn.addEventListener('click', () => {
            if (!stream) return;
            
                        recordedChunks = [];
            
            // Mobile-optimized recording settings
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            let mimeType = 'video/webm;codecs=vp9,opus';
            
            // Fallback for mobile devices
            if (isMobile) {
                if (MediaRecorder.isTypeSupported('video/webm;codecs=vp8,opus')) {
                    mimeType = 'video/webm;codecs=vp8,opus';
                } else if (MediaRecorder.isTypeSupported('video/mp4')) {
                    mimeType = 'video/mp4';
                }
            }
            
            mediaRecorder = new MediaRecorder(stream, {
                mimeType: mimeType,
                videoBitsPerSecond: isMobile ? 1000000 : 2500000 // Lower bitrate for mobile
            });
            
            mediaRecorder.ondataavailable = (event) => {
                if (event.data.size > 0) {
                    recordedChunks.push(event.data);
                }
            };
            
            mediaRecorder.onstop = () => {
                const blob = new Blob(recordedChunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                
                // Show playback
                playbackVideo.src = url;
                playbackVideo.style.display = 'block';
                liveVideo.style.display = 'none';
                
                // Add to recordings list
                addRecordingToList(blob, url);
                
                console.log('Recording saved');
            };
            
            mediaRecorder.start();
            startRecordingBtn.style.display = 'none';
            stopRecordingBtn.style.display = 'block';
            
            console.log('Recording started');
        });
        
        stopRecordingBtn.addEventListener('click', () => {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
                stopRecordingBtn.style.display = 'none';
                startRecordingBtn.style.display = 'block';
                
                console.log('Recording stopped');
            }
        });
        
        function addRecordingToList(blob, url) {
            const recordingItem = document.createElement('div');
            recordingItem.className = 'bg-white rounded-lg p-4 shadow-md border border-gray-200';
            
            const timestamp = new Date().toLocaleString();
            const question = currentQuestions[currentQuestionIndex];
            
            recordingItem.innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <h4 class="font-semibold text-charcoal">Practice Recording</h4>
                    <span class="text-xs text-charcoal/60">${timestamp}</span>
                    </div>
                <p class="text-sm text-charcoal/70 mb-3">Question: "${question}"</p>
                <div class="flex gap-2">
                    <button onclick="playRecording('${url}')" class="px-3 py-1 bg-forest-green text-white text-xs rounded hover:bg-forest-green/90">
                        â–¶ï¸ Play
                    </button>
                    <a href="${url}" download="interview-practice-${Date.now()}.webm" class="px-3 py-1 bg-charcoal text-white text-xs rounded hover:bg-charcoal/90">
                        ðŸ’¾ Download
                    </a>
                </div>
            `;
            
            recordingsList.appendChild(recordingItem);
            recordingsSection.classList.remove('hidden');
        }
        
        // Global function for playing recordings
        window.playRecording = function(url) {
            playbackVideo.src = url;
            playbackVideo.style.display = 'block';
            liveVideo.style.display = 'none';
            playbackVideo.play();
        };
        
        // Initialize with first question
        showQuestion(0);
        
        console.log('Interview page functionality loaded successfully');
    }

    // Dark mode functionality
    function initDarkMode() {
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const darkModeToggleMobile = document.getElementById('dark-mode-toggle-mobile');
        const darkModeToggleMobileHeader = document.getElementById('dark-mode-toggle-mobile-header');
        
        function toggleDarkMode() {
            const isDark = !document.documentElement.classList.contains('dark');
            document.documentElement.classList.toggle('dark', isDark);
            localStorage.setItem('darkMode', isDark);
            
            // Update all dark mode icons
            updateDarkModeIcons(isDark);
        }
        
        function updateDarkModeIcons(isDark) {
            // Desktop icons
            const sunIcon = document.getElementById('sun-icon');
            const moonIcon = document.getElementById('moon-icon');
            
            // Mobile header icons
            const sunIconMobile = document.getElementById('sun-icon-mobile');
            const moonIconMobile = document.getElementById('moon-icon-mobile');
            
            if (isDark) {
                // Dark mode active - show moon icons
                if (sunIcon) sunIcon.classList.add('hidden');
                if (moonIcon) moonIcon.classList.remove('hidden');
                if (sunIconMobile) sunIconMobile.classList.add('hidden');
                if (moonIconMobile) moonIconMobile.classList.remove('hidden');
            } else {
                // Light mode active - show sun icons
                if (sunIcon) sunIcon.classList.remove('hidden');
                if (moonIcon) moonIcon.classList.add('hidden');
                if (sunIconMobile) sunIconMobile.classList.remove('hidden');
                if (moonIconMobile) moonIconMobile.classList.add('hidden');
            }
        }
        
        if (darkModeToggle) {
            darkModeToggle.addEventListener('click', toggleDarkMode);
        }
        if (darkModeToggleMobile) {
            darkModeToggleMobile.addEventListener('click', toggleDarkMode);
        }
        if (darkModeToggleMobileHeader) {
            darkModeToggleMobileHeader.addEventListener('click', toggleDarkMode);
        }
        
        // Apply saved preference
        const savedMode = localStorage.getItem('darkMode');
        if (savedMode === 'true') {
            document.documentElement.classList.add('dark');
        }
        
        // Initialize icons based on current state
        updateDarkModeIcons(document.documentElement.classList.contains('dark'));
    }

    // Enhanced Keyboard Shortcuts
    function initKeyboardShortcuts() {
        document.addEventListener('keydown', (e) => {
            // Only trigger shortcuts when not typing in input fields
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.contentEditable === 'true') {
                return;
            }
            
            // Alt + M = Meditation Timer
            if (e.altKey && e.key === 'm') {
                e.preventDefault();
                navigateToPage('timer');
                showToast('Opened Meditation Timer ðŸ§˜â€â™€ï¸', 'info', 2000);
            }
            
            // Alt + J = Journal
            if (e.altKey && e.key === 'j') {
                e.preventDefault();
                navigateToPage('journal');
                showToast('Opened Mindful Journal âœï¸', 'info', 2000);
            }
            
            // Alt + W = Workout
            if (e.altKey && e.key === 'w') {
                e.preventDefault();
                navigateToPage('workout');
                showToast('Opened 7-Minute Workout ðŸ’ª', 'info', 2000);
            }
            
            // Alt + I = Interview Practice
            if (e.altKey && e.key === 'i') {
                e.preventDefault();
                navigateToPage('interview');
                showToast('Opened Interview Practice ðŸŽ¤', 'info', 2000);
            }
            
            // Alt + H = Home
            if (e.altKey && e.key === 'h') {
                e.preventDefault();
                navigateToPage('home');
                showToast('Returned to Home ðŸ ', 'info', 2000);
            }
            
            // Space bar to start/pause timer (when on timer page)
            if (e.code === 'Space' && currentPage === 'timer') {
                e.preventDefault();
                const startBtn = document.getElementById('timer-start-btn');
                const pauseBtn = document.getElementById('timer-pause-btn');
                
                if (startBtn && !startBtn.classList.contains('hidden')) {
                    startBtn.click();
                    showToast('Timer started! â°', 'success', 1500);
                } else if (pauseBtn && !pauseBtn.classList.contains('hidden')) {
                    pauseBtn.click();
                    showToast('Timer paused â¸ï¸', 'info', 1500);
                }
            }
        });
    }

    // Enhanced Mobile menu functionality
    function initMobileMenu() {
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuClose = document.getElementById('mobile-menu-close');
        const hamburgerIcon = document.getElementById('hamburger-icon');
        const closeIcon = document.getElementById('close-icon');
        const darkModeToggleMobile = document.getElementById('dark-mode-toggle-mobile-header');
        
        // Create backdrop element
        const backdrop = document.createElement('div');
        backdrop.className = 'mobile-menu-backdrop';
        backdrop.id = 'mobile-menu-backdrop';
        backdrop.style.display = 'none'; // Hide by default
        document.body.appendChild(backdrop);
        
        function openMobileMenu() {
            mobileMenu.classList.remove('hidden');
            mobileMenu.classList.add('show');
            backdrop.style.display = 'block';
            backdrop.classList.add('show');
            hamburgerIcon.classList.add('hidden');
            closeIcon.classList.remove('hidden');
            mobileMenuButton.setAttribute('aria-expanded', 'true');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }
        
        function closeMobileMenu() {
            mobileMenu.classList.remove('show');
            mobileMenu.classList.add('hidden');
            backdrop.style.display = 'none';
            backdrop.classList.remove('show');
            hamburgerIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
            mobileMenuButton.setAttribute('aria-expanded', 'false');
            document.body.style.overflow = ''; // Restore scrolling
        }
        
        if (mobileMenuButton && mobileMenu) {
            // Open menu
            mobileMenuButton.addEventListener('click', (e) => {
                e.stopPropagation();
                if (mobileMenu.classList.contains('hidden')) {
                    openMobileMenu();
                } else {
                    closeMobileMenu();
                }
            });
            
            // Close menu button
            if (mobileMenuClose) {
                mobileMenuClose.addEventListener('click', closeMobileMenu);
            }
            
            // Close on backdrop click
            backdrop.addEventListener('click', closeMobileMenu);
            
            // Close on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
                    closeMobileMenu();
                }
            });
            
            // Close menu when clicking on navigation links
            const mobileNavLinks = mobileMenu.querySelectorAll('.main-nav-link');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    setTimeout(closeMobileMenu, 150); // Small delay for better UX
                });
            });
        }
        
        // Mobile dark mode toggle
        if (darkModeToggleMobile) {
            darkModeToggleMobile.addEventListener('click', () => {
                toggleDarkMode();
            });
        }
    }

    // Note: Glossary page now uses static HTML content
    
    // Note: Learning page now uses static HTML content

    // Search functionality
    function initSearch() {
        const searchInput = document.getElementById('search-input');
        const autocompleteResults = document.getElementById('autocomplete-results');
        
        if (searchInput && autocompleteResults) {
            searchInput.addEventListener('keyup', (e) => {
                const query = searchInput.value.toLowerCase().trim();
                
                if (e.key === 'Enter' && query) {
                    navigateToPage('searchResults', query);
                    autocompleteResults.classList.add('hidden');
                    searchInput.blur();
                    return;
                }

                if (query.length < 2) {
                    autocompleteResults.classList.add('hidden');
                    return;
                }
                
                // Simple search results
                const searchResults = [
                    { title: 'Meditation Timer', page: 'timer' },
                    { title: 'Mindful Journal', page: 'journal' },
                    { title: '7-Minute Workout', page: 'workout' },
                    { title: 'Interview Practice', page: 'interview' },
                    { title: 'Learning Center', page: 'category-meditation' },
                    { title: 'PÄli Glossary', page: 'glossary' },
                    { title: 'About Us', page: 'about' }
                ];
                
                const filteredResults = searchResults.filter(item => 
                    item.title.toLowerCase().includes(query)
                );
                
                if (filteredResults.length > 0) {
                    autocompleteResults.innerHTML = filteredResults.map(item => 
                        `<a href="#" data-page="${item.page}" class="main-nav-link block px-4 py-2 hover:bg-light-green dark:hover:bg-gray-700 text-charcoal dark:text-white">${item.title}</a>`
                    ).join('');
                    autocompleteResults.classList.remove('hidden');
                } else {
                    autocompleteResults.classList.add('hidden');
                }
            });
            
            // Hide search results when clicking outside
            document.addEventListener('click', (e) => {
                if (!searchInput.contains(e.target) && !autocompleteResults.contains(e.target)) {
                    autocompleteResults.classList.add('hidden');
                }
            });
        }
    }

    // Performance optimized initialization
    document.addEventListener('DOMContentLoaded', () => {
        const initStart = performance.now();
        console.log('DOM loaded, initializing...');
        console.log('Throttle function available:', typeof throttle);
        console.log('Main content element:', document.getElementById('main-content'));
        
        mainContent = document.getElementById('main-content');
        
        // Initialize critical functionality first
        // Initialize data persistence
        DataManager.init();
        
        // Test script loading
        console.log('ðŸš€ SCRIPT LOADED - VERSION 2.0 ðŸš€');
        
        initDarkMode();
        initMobileMenu();
        initKeyboardShortcuts();
        
        // Defer non-critical functionality
        requestAnimationFrame(() => {
            initSearch();
            
            // Throttled global click handler for navigation links
            const throttledNavigation = throttle((e) => {
                console.log('Click detected on:', e.target);
                const link = e.target.closest('.main-nav-link');
                if (link) {
                    console.log('Navigation link clicked:', link.dataset.page);
                    e.preventDefault();
                    const page = link.dataset.page;
                    const id = link.dataset.articleId || link.dataset.pathId;
                    navigateToPage(page, id);
                } else {
                    console.log('No navigation link found');
                }
            }, 100);
            
            document.body.addEventListener('click', throttledNavigation);
            
        // Load home page by default
        navigateToPage('home');
        
        // Handle welcome overlay
        const welcomeOverlay = document.getElementById('welcome-overlay');
        const welcomeTryDemo = document.getElementById('welcome-try-demo');
        const welcomeExplore = document.getElementById('welcome-explore');
        
        if (welcomeOverlay) {
            // Show overlay initially
            welcomeOverlay.style.display = 'flex';
            welcomeOverlay.style.opacity = '1';
            
            // Hide overlay after 3 seconds automatically
            setTimeout(() => {
                welcomeOverlay.style.opacity = '0';
                welcomeOverlay.style.transition = 'opacity 0.5s ease-out';
                setTimeout(() => {
                    welcomeOverlay.style.display = 'none';
                }, 500);
            }, 3000);
            
            // Handle button clicks
            if (welcomeTryDemo) {
                welcomeTryDemo.addEventListener('click', () => {
                    welcomeOverlay.style.display = 'none';
                    navigateToPage('timer');
                });
            }
            
            if (welcomeExplore) {
                welcomeExplore.addEventListener('click', () => {
                    welcomeOverlay.style.display = 'none';
                    // Stay on home page to explore
                });
            }
            
            // Allow clicking anywhere on overlay to dismiss
            welcomeOverlay.addEventListener('click', (e) => {
                if (e.target === welcomeOverlay) {
                    welcomeOverlay.style.display = 'none';
                }
            });
        }
        });
        
        // Performance monitoring
        const initEnd = performance.now();
        console.log(`Initialization took ${(initEnd - initStart).toFixed(2)}ms`);
        
        if (typeof performance !== 'undefined') {
            const perfEntries = performance.getEntriesByType('navigation');
            if (perfEntries.length > 0) {
                const navTiming = perfEntries[0];
                console.log('Page load time:', navTiming.loadEventEnd - navTiming.loadEventStart, 'ms');
                console.log('DOM content loaded:', navTiming.domContentLoadedEventEnd - navTiming.domContentLoadedEventStart, 'ms');
            }
        }
    });
    
    // Enhanced User Feedback System
    const userFeedback = {
        showNotification: (message, type = 'info', duration = 3000) => {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            if (notification && notificationText) {
                notificationText.textContent = message;
                notification.className = `fixed top-6 right-6 z-50 transform transition-all duration-500 ease-out ${
                    type === 'error' ? 'bg-red-500 text-white' : 
                    type === 'success' ? 'bg-green-500 text-white' : 
                    type === 'warning' ? 'bg-yellow-500 text-black' : 
                    'bg-forest-green text-white'
                } rounded-lg px-6 py-3 shadow-lg`;
                
                notification.classList.remove('translate-x-full');
                
                setTimeout(() => {
                    notification.classList.add('translate-x-full');
                }, duration);
            }
        },
        
        showLoading: (message = 'Loading...') => {
            const loadingIndicator = document.getElementById('loading-indicator');
            if (loadingIndicator) {
                loadingIndicator.querySelector('p').textContent = message;
                loadingIndicator.classList.remove('hidden');
            }
        },
        
        hideLoading: () => {
            const loadingIndicator = document.getElementById('loading-indicator');
            if (loadingIndicator) {
                loadingIndicator.classList.add('hidden');
            }
        }
    };

    // Lightweight Analytics and Error Reporting
    const analytics = {
        // Simple analytics without external dependencies
        track: (event, data = {}) => {
            if (typeof performance !== 'undefined') {
                console.log(`Analytics: ${event}`, data);
                // In production, you would send this to your analytics service
                // Example: fetch('/api/analytics', { method: 'POST', body: JSON.stringify({ event, data, timestamp: Date.now() }) });
            }
        },
        
        // Enhanced error reporting with user feedback
        reportError: (error, context = {}) => {
            console.error('Error reported:', error, context);
            userFeedback.showNotification('Something went wrong. Please try again.', 'error');
            // In production, you would send this to your error reporting service
            // Example: fetch('/api/errors', { method: 'POST', body: JSON.stringify({ error: error.message, stack: error.stack, context, timestamp: Date.now() }) });
        }
    };
    
    // Global error handler
    window.addEventListener('error', (event) => {
        analytics.reportError(event.error, {
            filename: event.filename,
            lineno: event.lineno,
            colno: event.colno
        });
    });
    
    // Unhandled promise rejection handler
    window.addEventListener('unhandledrejection', (event) => {
        analytics.reportError(new Error(event.reason), {
            type: 'unhandledrejection'
        });
    });
    
    // Track page performance
    window.addEventListener('load', () => {
        if (typeof performance !== 'undefined') {
            const perfEntries = performance.getEntriesByType('navigation');
            if (perfEntries.length > 0) {
                const navTiming = perfEntries[0];
                analytics.track('page_load', {
                    loadTime: navTiming.loadEventEnd - navTiming.loadEventStart,
                    domContentLoaded: navTiming.domContentLoadedEventEnd - navTiming.domContentLoadedEventStart,
                    firstPaint: performance.getEntriesByType('paint').find(entry => entry.name === 'first-paint')?.startTime || 0
                });
            }
        }
        
        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            // Only register service worker if we're on localhost or if the sw.js file exists
            const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
            const isGitHubPages = window.location.hostname.includes('github.io');
            
            if (isLocalhost) {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration);
                        analytics.track('pwa_sw_registered');
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                        // Don't report this as an error for localhost
                    });
            } else if (isGitHubPages) {
                console.log('Service Worker registration skipped for GitHub Pages deployment');
            } else {
                // For other domains, try to register but don't report errors
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration);
                        analytics.track('pwa_sw_registered');
                    })
                    .catch(error => {
                        console.log('Service Worker not available for this domain:', error.message);
                        // Don't report this as an error
                    });
            }
        }
        
        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button or notification
            const installButton = document.createElement('button');
            installButton.textContent = 'Install App';
            installButton.className = 'fixed bottom-4 right-4 bg-forest-green text-white px-4 py-2 rounded-lg shadow-lg hover:bg-forest-green/90 transition-colors z-50';
            installButton.addEventListener('click', () => {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        analytics.track('pwa_installed');
                        userFeedback.showNotification('App installed successfully!', 'success');
                    }
                    deferredPrompt = null;
                    installButton.remove();
                });
            });
            document.body.appendChild(installButton);
        });
        
        // Track PWA install events
        window.addEventListener('appinstalled', () => {
            analytics.track('pwa_installed');
            userFeedback.showNotification('App installed successfully!', 'success');
        });
    });
    
    // Track navigation
    const originalNavigateToPage = navigateToPage;
    navigateToPage = (pageName, id = null) => {
        analytics.track('page_navigation', { page: pageName, id });
        return originalNavigateToPage(pageName, id);
    };
    
    // Enhanced Workout Features
    function setupEnhancedWorkoutFeatures() {
        // Workout state
        let workoutTimer = null;
        let currentTime = 30; // 30 seconds per exercise
        let isWorkoutRunning = false;
        let isWorkoutPaused = false;
        let currentExercise = 0; // Start at 0 for array indexing
        let isDoubleMode = false;
        let workoutStartTime = null;
        let workoutHistory = [];
        
        // Enhanced exercise data with detailed instructions
        const exercises = [
            { 
                name: "Jumping Jacks", 
                emoji: "ðŸ¤¸", 
                description: "Start with feet together, jump up spreading legs and raising arms overhead, then return to start position.",
                instructions: "Keep your core engaged and land softly on the balls of your feet. Maintain a steady rhythm.",
                category: "cardio"
            },
            { 
                name: "Wall Sit", 
                emoji: "ðŸª‘", 
                description: "Slide down the wall until your thighs are parallel to the floor, hold this position.",
                instructions: "Keep your back flat against the wall and ensure your knees are directly above your ankles.",
                category: "strength"
            },
            { 
                name: "Push-ups", 
                emoji: "ðŸ’ª", 
                description: "Start in plank position, lower your body until chest nearly touches floor, then push back up.",
                instructions: "Keep your body in a straight line from head to heels. Modify by doing knee push-ups if needed.",
                category: "strength"
            },
            { 
                name: "Abdominal Crunches", 
                emoji: "ðŸ‹ï¸", 
                description: "Lie on back, lift shoulders off ground by contracting abdominal muscles.",
                instructions: "Keep your lower back pressed to the floor and lift with your abs, not your neck.",
                category: "core"
            },
            { 
                name: "Step-ups", 
                emoji: "ðŸªœ", 
                description: "Step up onto a chair or step, alternating legs with each step.",
                instructions: "Use a sturdy chair or step. Step up with control and step down slowly.",
                category: "cardio"
            },
            { 
                name: "Squats", 
                emoji: "ðŸ¦µ", 
                description: "Stand with feet shoulder-width apart, lower body as if sitting back into a chair.",
                instructions: "Keep your chest up and knees tracking over your toes. Go as low as comfortable.",
                category: "strength"
            },
            { 
                name: "Tricep Dips", 
                emoji: "ðŸ’º", 
                description: "Sit on edge of chair, place hands beside hips, slide forward and lower body using arms.",
                instructions: "Keep your elbows close to your body and lower until your arms form 90-degree angles.",
                category: "strength"
            },
            { 
                name: "Plank", 
                emoji: "ðŸ¤¸", 
                description: "Hold a push-up position with body straight from head to heels.",
                instructions: "Engage your core and keep your body in a straight line. Breathe normally.",
                category: "core"
            },
            { 
                name: "High Knees", 
                emoji: "ðŸƒ", 
                description: "Run in place, bringing knees up towards chest as high as possible.",
                instructions: "Pump your arms and lift your knees as high as comfortable. Land softly.",
                category: "cardio"
            },
            { 
                name: "Lunges", 
                emoji: "ðŸ¦µ", 
                description: "Step forward with one leg, lowering hips until both knees are bent at 90 degrees.",
                instructions: "Keep your front knee over your ankle and your back knee hovering just above the ground.",
                category: "strength"
            },
            { 
                name: "Push-up & Rotation", 
                emoji: "ðŸ”„", 
                description: "Do a push-up, then rotate to one side, extending arm up, repeat on other side.",
                instructions: "Complete a full push-up, then rotate your body to one side while extending your arm up.",
                category: "strength"
            },
            { 
                name: "Side Plank", 
                emoji: "ðŸ¤¸", 
                description: "Lie on side, prop up on elbow, lift hips to form straight line from head to feet.",
                instructions: "Keep your body in a straight line and engage your core. Hold steady.",
                category: "core"
            }
        ];
        
        // DOM elements
        const timerDisplay = document.getElementById('workout-timer-display');
        const timerLabel = document.getElementById('workout-timer-label');
        const progressText = document.getElementById('workout-progress-text');
        const progressBar = document.getElementById('workout-progress-bar');
        const startBtn = document.getElementById('workout-start-btn');
        const pauseBtn = document.getElementById('workout-pause-btn');
        const resetBtn = document.getElementById('workout-reset-btn');
        const doubleModeCheckbox = document.getElementById('workout-double-mode');
        const soundSelect = document.getElementById('workout-sound');
        const exerciseName = document.getElementById('current-exercise-name');
        const exerciseDescription = document.getElementById('current-exercise-description');
        const exerciseInstructions = document.getElementById('exercise-instructions');
        const exerciseEmoji = document.getElementById('exercise-emoji');
        
        // Initialize workout
        initializeWorkout();
        
        function initializeWorkout() {
            // Set up event listeners
            if (startBtn) startBtn.addEventListener('click', startWorkout);
            if (pauseBtn) pauseBtn.addEventListener('click', pauseWorkout);
            if (resetBtn) resetBtn.addEventListener('click', resetWorkout);
            if (doubleModeCheckbox) doubleModeCheckbox.addEventListener('change', toggleDoubleMode);
            if (soundSelect) soundSelect.addEventListener('change', toggleSound);
            
            // Load workout history
            loadWorkoutHistory();
            
            // Update display
            updateWorkoutDisplay();
        }
        
        function startWorkout() {
            if (!isWorkoutRunning) {
                isWorkoutRunning = true;
                isWorkoutPaused = false;
                workoutStartTime = new Date();
                
                // Update button states
                if (startBtn) startBtn.classList.add('hidden');
                if (pauseBtn) pauseBtn.classList.remove('hidden');
                
                // Start the workout timer
                startWorkoutTimer();
                
                // Play start sound
                playWorkoutSound('start');
                
                // Show notification
                showNotification('Workout started! Let\'s go! ðŸ’ª', 'success');
            }
        }
        
        function pauseWorkout() {
            if (isWorkoutRunning && !isWorkoutPaused) {
                isWorkoutPaused = true;
                clearInterval(workoutTimer);
                
                // Update button states
                if (pauseBtn) pauseBtn.innerHTML = '<span class="flex items-center space-x-3"><span class="text-2xl">â–¶ï¸</span><span>Resume</span></span>';
                
                showNotification('Workout paused', 'info');
            } else if (isWorkoutPaused) {
                isWorkoutPaused = false;
                startWorkoutTimer();
                
                // Update button states
                if (pauseBtn) pauseBtn.innerHTML = '<span class="flex items-center space-x-3"><span class="text-2xl">â¸ï¸</span><span>Pause</span></span>';
                
                showNotification('Workout resumed', 'success');
            }
        }
        
        function resetWorkout() {
            // Stop timer
            if (workoutTimer) {
                clearInterval(workoutTimer);
                workoutTimer = null;
            }
            
            // Reset state
            isWorkoutRunning = false;
            isWorkoutPaused = false;
            currentExercise = 0;
            currentTime = 30;
            
            // Update button states
            if (startBtn) startBtn.classList.remove('hidden');
            if (pauseBtn) pauseBtn.classList.add('hidden');
            
            // Reset display
            updateWorkoutDisplay();
            
            showNotification('Workout reset', 'info');
        }
        
        function startWorkoutTimer() {
            workoutTimer = setInterval(() => {
                if (currentTime > 0) {
                    currentTime--;
                    updateWorkoutDisplay();
                } else {
                    // Exercise completed
                    completeExercise();
                }
            }, 1000);
        }
        
        function completeExercise() {
            // Play completion sound
            playWorkoutSound('complete');
            
            // Move to next exercise
            currentExercise++;
            
            if (currentExercise < exercises.length) {
                // Next exercise
                currentTime = 30;
                updateWorkoutDisplay();
                showNotification(`Great job! Next: ${exercises[currentExercise].name}`, 'success');
            } else {
                // Workout completed
                completeWorkout();
            }
        }
        
        function completeWorkout() {
            // Stop timer
            if (workoutTimer) {
                clearInterval(workoutTimer);
                workoutTimer = null;
            }
            
            // Reset state
            isWorkoutRunning = false;
            isWorkoutPaused = false;
            
            // Calculate workout duration
            const workoutDuration = Math.round((new Date() - workoutStartTime) / 1000);
            
            // Save workout to history
            saveWorkoutToHistory(workoutDuration);
            
            // Update button states
            if (startBtn) startBtn.classList.remove('hidden');
            if (pauseBtn) pauseBtn.classList.add('hidden');
            
            // Show completion message
            showNotification('Workout completed! Great job! ðŸŽ‰', 'success');
            
            // Reset for next workout
            currentExercise = 0;
            currentTime = 30;
            updateWorkoutDisplay();
        }
        
        function updateWorkoutDisplay() {
            // Update timer
            if (timerDisplay) timerDisplay.textContent = currentTime;
            
            // Update progress
            const totalExercises = exercises.length;
            const progress = ((currentExercise + 1) / totalExercises) * 100;
            
            if (progressBar) progressBar.style.width = `${progress}%`;
            if (progressText) progressText.textContent = `Exercise ${currentExercise + 1} of ${totalExercises}`;
            
            // Update current exercise info
            if (currentExercise < exercises.length) {
                const exercise = exercises[currentExercise];
                if (exerciseName) exerciseName.textContent = exercise.name;
                if (exerciseDescription) exerciseDescription.textContent = exercise.description;
                if (exerciseInstructions) exerciseInstructions.textContent = exercise.instructions;
                if (exerciseEmoji) exerciseEmoji.textContent = exercise.emoji;
            } else {
                if (exerciseName) exerciseName.textContent = 'Workout Complete!';
                if (exerciseDescription) exerciseDescription.textContent = 'Congratulations! You\'ve completed the 7-minute workout.';
                if (exerciseInstructions) exerciseInstructions.textContent = 'Take a moment to cool down and hydrate. Great work!';
                if (exerciseEmoji) exerciseEmoji.textContent = 'ðŸŽ‰';
            }
        }
        
        function toggleDoubleMode() {
            isDoubleMode = doubleModeCheckbox.checked;
            showNotification(isDoubleMode ? '14-minute mode enabled' : '7-minute mode enabled', 'info');
        }
        
        function toggleSound() {
            const soundEnabled = soundSelect.value === 'on';
            showNotification(soundEnabled ? 'Sound enabled' : 'Sound disabled', 'info');
        }
        
        function playWorkoutSound(type) {
            const soundEnabled = soundSelect ? soundSelect.value === 'on' : true;
            if (!soundEnabled) return;
            
            // Simple sound feedback using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                let frequency = 440; // A4 note
                if (type === 'start') frequency = 523; // C5
                if (type === 'complete') frequency = 659; // E5
                
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                // Fallback for browsers that don't support Web Audio API
                console.log('Sound not available');
            }
        }
        
        function saveWorkoutToHistory(duration) {
            const workout = {
                id: Date.now(),
                date: new Date().toLocaleString(),
                duration: duration,
                exercises: exercises.length,
                isDoubleMode: isDoubleMode
            };
            
            workoutHistory.unshift(workout);
            if (workoutHistory.length > 50) { // Keep only last 50 workouts
                workoutHistory = workoutHistory.slice(0, 50);
            }
            
            localStorage.setItem('workoutHistory', JSON.stringify(workoutHistory));
        }
        
        function loadWorkoutHistory() {
            const saved = localStorage.getItem('workoutHistory');
            if (saved) {
                workoutHistory = JSON.parse(saved);
            }
        }
        
        // Initialize display
        updateWorkoutDisplay();
    }

    // Enhanced Interview Features
    function setupEnhancedInterviewFeatures() {
        // Interview state
        let currentQuestionIndex = 0;
        let currentCategory = 'general';
        let currentDifficulty = 'intermediate';
        let practiceTimer = null;
        let practiceTimeRemaining = 120; // 2 minutes default
        let isPracticeRunning = false;
        let isRecording = false;
        let mediaRecorder = null;
        let recordedChunks = [];
        let stream = null;
        let interviewHistory = [];
        
        // Enhanced interview questions database
        const interviewQuestions = {
            general: [
                {
                    question: "Tell me about yourself",
                    difficulty: "beginner",
                    tips: "Structure your answer: present, past, future. Keep it relevant to the role.",
                    category: "general"
                },
                {
                    question: "What are your greatest strengths?",
                    difficulty: "beginner",
                    tips: "Use specific examples and relate them to the job requirements.",
                    category: "general"
                },
                {
                    question: "What are your areas for improvement?",
                    difficulty: "intermediate",
                    tips: "Be honest but show how you're actively working to improve.",
                    category: "general"
                },
                {
                    question: "Why do you want this job?",
                    difficulty: "beginner",
                    tips: "Show enthusiasm and connect your goals with the company's mission.",
                    category: "general"
                },
                {
                    question: "Where do you see yourself in 5 years?",
                    difficulty: "intermediate",
                    tips: "Show ambition while being realistic about growth within the company.",
                    category: "general"
                },
                {
                    question: "Why should we hire you?",
                    difficulty: "intermediate",
                    tips: "Summarize your unique value proposition with concrete examples.",
                    category: "general"
                },
                {
                    question: "What questions do you have for us?",
                    difficulty: "intermediate",
                    tips: "Ask thoughtful questions about the role, team, and company culture.",
                    category: "general"
                },
                {
                    question: "How do you handle pressure and tight deadlines?",
                    difficulty: "intermediate",
                    tips: "Provide specific examples of your time management and stress management skills.",
                    category: "general"
                },
                {
                    question: "What's your ideal work environment?",
                    difficulty: "beginner",
                    tips: "Be honest but show flexibility and adaptability.",
                    category: "general"
                },
                {
                    question: "How do you stay updated with industry trends?",
                    difficulty: "advanced",
                    tips: "Mention specific resources, courses, or professional development activities.",
                    category: "general"
                }
            ],
            storytelling: [
                {
                    question: "Tell me about a time you failed and what you learned",
                    difficulty: "intermediate",
                    tips: "Use the STAR method: Situation, Task, Action, Result. Focus on the learning.",
                    category: "storytelling"
                },
                {
                    question: "Share a story about going above and beyond for a customer",
                    difficulty: "intermediate",
                    tips: "Show your dedication and problem-solving skills with specific details.",
                    category: "storytelling"
                },
                {
                    question: "Describe a time you had to learn something new quickly",
                    difficulty: "intermediate",
                    tips: "Highlight your learning agility and resourcefulness.",
                    category: "storytelling"
                },
                {
                    question: "Tell me about a time you disagreed with your manager",
                    difficulty: "advanced",
                    tips: "Show professionalism, respect, and how you handled the disagreement constructively.",
                    category: "storytelling"
                },
                {
                    question: "Share an example of when you had to work with a difficult team member",
                    difficulty: "advanced",
                    tips: "Focus on your communication skills and ability to find common ground.",
                    category: "storytelling"
                },
                {
                    question: "Describe a project that didn't go as planned",
                    difficulty: "intermediate",
                    tips: "Show your problem-solving skills and ability to adapt under pressure.",
                    category: "storytelling"
                }
            ],
            communication: [
                {
                    question: "How do you explain complex technical concepts to non-technical people?",
                    difficulty: "intermediate",
                    tips: "Use analogies and simple language. Show patience and adaptability.",
                    category: "communication"
                },
                {
                    question: "Describe a time you had to deliver bad news",
                    difficulty: "advanced",
                    tips: "Show empathy, transparency, and how you managed the situation professionally.",
                    category: "communication"
                },
                {
                    question: "How do you handle conflicts in the workplace?",
                    difficulty: "intermediate",
                    tips: "Demonstrate emotional intelligence and conflict resolution skills.",
                    category: "communication"
                },
                {
                    question: "Tell me about a time you had to persuade someone to see your point of view",
                    difficulty: "advanced",
                    tips: "Show your influence skills and ability to build consensus.",
                    category: "communication"
                },
                {
                    question: "How do you ensure clear communication in remote work?",
                    difficulty: "intermediate",
                    tips: "Mention specific tools and practices for remote collaboration.",
                    category: "communication"
                }
            ],
            creativity: [
                {
                    question: "How do you approach problem-solving?",
                    difficulty: "intermediate",
                    tips: "Walk through your systematic approach with a specific example.",
                    category: "creativity"
                },
                {
                    question: "Describe a time you had to think outside the box",
                    difficulty: "intermediate",
                    tips: "Show your innovative thinking and willingness to try new approaches.",
                    category: "creativity"
                },
                {
                    question: "How do you stay creative under pressure?",
                    difficulty: "advanced",
                    tips: "Mention specific techniques you use to maintain creativity in stressful situations.",
                    category: "creativity"
                },
                {
                    question: "Tell me about an idea you had that was initially rejected but later accepted",
                    difficulty: "advanced",
                    tips: "Show persistence, communication skills, and ability to refine ideas.",
                    category: "creativity"
                }
            ],
            leadership: [
                {
                    question: "Describe a time you had to lead a team through a difficult change",
                    difficulty: "advanced",
                    tips: "Show your change management skills and ability to inspire others.",
                    category: "leadership"
                },
                {
                    question: "How do you motivate team members who are struggling?",
                    difficulty: "intermediate",
                    tips: "Demonstrate empathy, coaching skills, and ability to provide support.",
                    category: "leadership"
                },
                {
                    question: "Tell me about a time you had to make an unpopular decision",
                    difficulty: "advanced",
                    tips: "Show your decision-making process and how you communicated the decision.",
                    category: "leadership"
                },
                {
                    question: "How do you develop and mentor others?",
                    difficulty: "intermediate",
                    tips: "Provide specific examples of how you've helped others grow professionally.",
                    category: "leadership"
                }
            ],
            technical: [
                {
                    question: "Walk me through your approach to debugging a complex issue",
                    difficulty: "intermediate",
                    tips: "Show systematic thinking and problem-solving methodology.",
                    category: "technical"
                },
                {
                    question: "How do you stay current with new technologies?",
                    difficulty: "beginner",
                    tips: "Mention specific resources, projects, or learning methods you use.",
                    category: "technical"
                },
                {
                    question: "Describe a challenging technical project you worked on",
                    difficulty: "intermediate",
                    tips: "Explain the technical details while keeping it accessible to non-technical interviewers.",
                    category: "technical"
                },
                {
                    question: "How do you ensure code quality in your projects?",
                    difficulty: "intermediate",
                    tips: "Mention specific practices like code reviews, testing, and documentation.",
                    category: "technical"
                }
            ]
        };
        
        // DOM elements
        const categoryBtns = document.querySelectorAll('[data-category]');
        const difficultySelect = document.getElementById('interview-difficulty');
        const timerSelect = document.getElementById('interview-timer');
        const questionBox = document.getElementById('interview-question-box');
        const currentQuestion = document.getElementById('current-question');
        const questionInfo = document.getElementById('question-info');
        const questionCategory = document.getElementById('question-category');
        const questionDifficulty = document.getElementById('question-difficulty');
        const questionTips = document.getElementById('question-tips');
        const practiceTimerDiv = document.getElementById('practice-timer');
        const timerDisplay = document.getElementById('practice-timer-display');
        const timerProgress = document.getElementById('timer-progress');
        const randomQuestionBtn = document.getElementById('random-question-btn');
        const previousQuestionBtn = document.getElementById('previous-question-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const startPracticeBtn = document.getElementById('start-practice-btn');
        const stopPracticeBtn = document.getElementById('stop-practice-btn');
        const startCameraBtn = document.getElementById('start-camera-btn');
        const startRecordingBtn = document.getElementById('start-recording-btn');
        const stopRecordingBtn = document.getElementById('stop-recording-btn');
        const stopCameraBtn = document.getElementById('stop-camera-btn');
        const liveVideo = document.getElementById('live-video');
        const playbackVideo = document.getElementById('playback-video');
        const videoPlaceholder = document.getElementById('video-placeholder');
        const recordingsSection = document.getElementById('recordings-section');
        const recordingsList = document.getElementById('recordings-list');
        
        // Initialize interview
        initializeInterview();
        
        function initializeInterview() {
            // Set up event listeners
            setupEventListeners();
            
            // Load interview history
            loadInterviewHistory();
            
            // Show random question
            showRandomQuestion();
        }
        
        function setupEventListeners() {
            // Category selection
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    currentCategory = btn.dataset.category;
                    updateCategorySelection();
                    showRandomQuestion();
                });
            });
            
            // Difficulty change
            if (difficultySelect) {
                difficultySelect.addEventListener('change', () => {
                    currentDifficulty = difficultySelect.value;
                    showRandomQuestion();
                });
            }
            
            // Timer change
            if (timerSelect) {
                timerSelect.addEventListener('change', () => {
                    practiceTimeRemaining = parseInt(timerSelect.value) * 60;
                    updateTimerDisplay();
                });
            }
            
            // Question navigation
            if (randomQuestionBtn) randomQuestionBtn.addEventListener('click', showRandomQuestion);
            if (previousQuestionBtn) previousQuestionBtn.addEventListener('click', showPreviousQuestion);
            if (nextQuestionBtn) nextQuestionBtn.addEventListener('click', showNextQuestion);
            
            // Practice controls
            if (startPracticeBtn) startPracticeBtn.addEventListener('click', startPractice);
            if (stopPracticeBtn) stopPracticeBtn.addEventListener('click', stopPractice);
            
            // Recording controls
            if (startCameraBtn) startCameraBtn.addEventListener('click', startCamera);
            if (startRecordingBtn) startRecordingBtn.addEventListener('click', startRecording);
            if (stopRecordingBtn) stopRecordingBtn.addEventListener('click', stopRecording);
            if (stopCameraBtn) stopCameraBtn.addEventListener('click', stopCamera);
        }
        
        function updateCategorySelection() {
            categoryBtns.forEach(btn => {
                if (btn.dataset.category === currentCategory) {
                    btn.classList.add('ring-2', 'ring-forest-green', 'ring-offset-2');
                } else {
                    btn.classList.remove('ring-2', 'ring-forest-green', 'ring-offset-2');
                }
            });
        }
        
        function showRandomQuestion() {
            const questions = interviewQuestions[currentCategory] || interviewQuestions.general;
            const filteredQuestions = questions.filter(q => q.difficulty === currentDifficulty);
            
            if (filteredQuestions.length > 0) {
                const randomIndex = Math.floor(Math.random() * filteredQuestions.length);
                const question = filteredQuestions[randomIndex];
                currentQuestionIndex = questions.indexOf(question);
                displayQuestion(question);
            } else {
                // Fallback to any difficulty
                const randomIndex = Math.floor(Math.random() * questions.length);
                const question = questions[randomIndex];
                currentQuestionIndex = randomIndex;
                displayQuestion(question);
            }
        }
        
        function showPreviousQuestion() {
            const questions = interviewQuestions[currentCategory] || interviewQuestions.general;
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion(questions[currentQuestionIndex]);
            }
        }
        
        function showNextQuestion() {
            const questions = interviewQuestions[currentCategory] || interviewQuestions.general;
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion(questions[currentQuestionIndex]);
            }
        }
        
        function displayQuestion(question) {
            if (currentQuestion) currentQuestion.textContent = question.question;
            if (questionCategory) questionCategory.textContent = `Category: ${question.category}`;
            if (questionDifficulty) questionDifficulty.textContent = `Difficulty: ${question.difficulty}`;
            if (questionTips) questionTips.textContent = `ðŸ’¡ Tip: ${question.tips}`;
            
            // Show question info
            if (questionInfo) questionInfo.classList.remove('hidden');
            
            // Show practice button
            if (startPracticeBtn) startPracticeBtn.classList.remove('hidden');
        }
        
        function startPractice() {
            if (!isPracticeRunning) {
                isPracticeRunning = true;
                practiceTimeRemaining = parseInt(timerSelect.value) * 60;
                
                // Update UI
                if (startPracticeBtn) startPracticeBtn.classList.add('hidden');
                if (stopPracticeBtn) stopPracticeBtn.classList.remove('hidden');
                if (practiceTimerDiv) practiceTimerDiv.classList.remove('hidden');
                
                // Start timer
                practiceTimer = setInterval(() => {
                    if (practiceTimeRemaining > 0) {
                        practiceTimeRemaining--;
                        updateTimerDisplay();
                    } else {
                        stopPractice();
                    }
                }, 1000);
                
                // Show notification
                showNotification('Practice started! Speak clearly and confidently. ðŸŽ¤', 'success');
            }
        }
        
        function stopPractice() {
            if (isPracticeRunning) {
                isPracticeRunning = false;
                
                // Clear timer
                if (practiceTimer) {
                    clearInterval(practiceTimer);
                    practiceTimer = null;
                }
                
                // Update UI
                if (startPracticeBtn) startPracticeBtn.classList.remove('hidden');
                if (stopPracticeBtn) stopPracticeBtn.classList.add('hidden');
                if (practiceTimerDiv) practiceTimerDiv.classList.add('hidden');
                
                // Show completion message
                showNotification('Practice completed! Great job! ðŸŽ‰', 'success');
                
                // Reset timer
                practiceTimeRemaining = parseInt(timerSelect.value) * 60;
                updateTimerDisplay();
            }
        }
        
        function updateTimerDisplay() {
            if (timerDisplay) {
                const minutes = Math.floor(practiceTimeRemaining / 60);
                const seconds = practiceTimeRemaining % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            if (timerProgress) {
                const totalTime = parseInt(timerSelect.value) * 60;
                const progress = ((totalTime - practiceTimeRemaining) / totalTime) * 100;
                timerProgress.style.width = `${progress}%`;
            }
        }
        
        async function startCamera() {
            try {
                stream = await navigator.mediaDevices.getUserMedia({ 
                    video: true, 
                    audio: true 
                });
                
                if (liveVideo) {
                    liveVideo.srcObject = stream;
                    liveVideo.classList.remove('hidden');
                    videoPlaceholder.classList.add('hidden');
                }
                
                // Update buttons
                if (startCameraBtn) startCameraBtn.classList.add('hidden');
                if (startRecordingBtn) startRecordingBtn.classList.remove('hidden');
                if (stopCameraBtn) stopCameraBtn.classList.remove('hidden');
                
                showNotification('Camera started! Ready to record. ðŸ“¹', 'success');
            } catch (error) {
                console.error('Error accessing camera:', error);
                showNotification('Unable to access camera. Please check permissions.', 'error');
            }
        }
        
        function startRecording() {
            if (stream && !isRecording) {
                recordedChunks = [];
                mediaRecorder = new MediaRecorder(stream);
                
                mediaRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };
                
                mediaRecorder.onstop = () => {
                    const blob = new Blob(recordedChunks, { type: 'video/webm' });
                    const url = URL.createObjectURL(blob);
                    
                    if (playbackVideo) {
                        playbackVideo.src = url;
                        playbackVideo.classList.remove('hidden');
                        liveVideo.classList.add('hidden');
                    }
                    
                    // Save recording
                    saveRecording(blob);
                };
                
                mediaRecorder.start();
                isRecording = true;
                
                // Update buttons
                if (startRecordingBtn) startRecordingBtn.classList.add('hidden');
                if (stopRecordingBtn) stopRecordingBtn.classList.remove('hidden');
                
                showNotification('Recording started! ðŸ”´', 'success');
            }
        }
        
        function stopRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
                
                // Update buttons
                if (stopRecordingBtn) stopRecordingBtn.classList.add('hidden');
                if (startRecordingBtn) startRecordingBtn.classList.remove('hidden');
                
                showNotification('Recording stopped! Check your playback. â¹ï¸', 'success');
            }
        }
        
        function stopCamera() {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
            }
            
            if (liveVideo) {
                liveVideo.classList.add('hidden');
                videoPlaceholder.classList.remove('hidden');
            }
            
            if (playbackVideo) {
                playbackVideo.classList.add('hidden');
            }
            
            // Update buttons
            if (startCameraBtn) startCameraBtn.classList.remove('hidden');
            if (startRecordingBtn) startRecordingBtn.classList.add('hidden');
            if (stopRecordingBtn) stopRecordingBtn.classList.add('hidden');
            if (stopCameraBtn) stopCameraBtn.classList.add('hidden');
            
            showNotification('Camera stopped', 'info');
        }
        
        function saveRecording(blob) {
            const recording = {
                id: Date.now(),
                date: new Date().toLocaleString(),
                category: currentCategory,
                difficulty: currentDifficulty,
                question: currentQuestion.textContent,
                duration: practiceTimeRemaining,
                blob: blob
            };
            
            interviewHistory.unshift(recording);
            if (interviewHistory.length > 20) { // Keep only last 20 recordings
                interviewHistory = interviewHistory.slice(0, 20);
            }
            
            localStorage.setItem('interviewHistory', JSON.stringify(interviewHistory));
            loadRecordings();
        }
        
        function loadRecordings() {
            if (recordingsList) {
                if (interviewHistory.length === 0) {
                    recordingsList.innerHTML = `
                        <div class="text-center py-8">
                            <div class="w-16 h-16 bg-forest-green/20 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-charcoal mb-2">No recordings yet</h3>
                            <p class="text-charcoal/70">Start recording to see your practice sessions here</p>
                        </div>
                    `;
                } else {
                    recordingsList.innerHTML = interviewHistory.map(recording => `
                        <div class="bg-white/80 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-gray-200">
                            <div class="flex items-start justify-between mb-3">
                                <div>
                                    <div class="text-sm font-semibold text-charcoal">${recording.date}</div>
                                    <div class="text-xs text-charcoal/60">${recording.category} â€¢ ${recording.difficulty}</div>
                                </div>
                                <button onclick="deleteInterviewRecording(${recording.id})" class="text-charcoal/40 hover:text-red-500 transition-colors p-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                </button>
                            </div>
                            <div class="text-charcoal text-sm mb-3">${recording.question}</div>
                            <div class="flex items-center space-x-2">
                                <button onclick="playRecording(${recording.id})" class="px-3 py-1 bg-forest-green text-white text-xs rounded-lg hover:bg-forest-green/90 transition-colors">
                                    â–¶ï¸ Play
                                </button>
                                <button onclick="downloadRecording(${recording.id})" class="px-3 py-1 bg-earthy-gold text-white text-xs rounded-lg hover:bg-earthy-gold/90 transition-colors">
                                    ðŸ’¾ Download
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            }
        }
        
        function loadInterviewHistory() {
            const saved = localStorage.getItem('interviewHistory');
            if (saved) {
                interviewHistory = JSON.parse(saved);
            }
            loadRecordings();
        }
        
        // Global functions for recording management
        window.deleteInterviewRecording = function(recordingId) {
            interviewHistory = interviewHistory.filter(r => r.id !== recordingId);
            localStorage.setItem('interviewHistory', JSON.stringify(interviewHistory));
            loadRecordings();
            showNotification('Recording deleted', 'info');
        };
        
        window.playRecording = function(recordingId) {
            const recording = interviewHistory.find(r => r.id === recordingId);
            if (recording && playbackVideo) {
                const url = URL.createObjectURL(recording.blob);
                playbackVideo.src = url;
                playbackVideo.classList.remove('hidden');
                liveVideo.classList.add('hidden');
            }
        };
        
        window.downloadRecording = function(recordingId) {
            const recording = interviewHistory.find(r => r.id === recordingId);
            if (recording) {
                const url = URL.createObjectURL(recording.blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `interview-practice-${recording.date}.webm`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        };
        
        // Show recordings section if there are recordings
        if (interviewHistory.length > 0 && recordingsSection) {
            recordingsSection.classList.remove('hidden');
        }
    }

    // Notification System
    function showNotification(message, type = 'info') {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full`;
        
        // Set colors based on type
        const colors = {
            success: 'bg-green-500 text-white',
            error: 'bg-red-500 text-white',
            warning: 'bg-yellow-500 text-black',
            info: 'bg-blue-500 text-white'
        };
        
        notification.className += ` ${colors[type] || colors.info}`;
        notification.textContent = message;
        
        // Add to DOM
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.classList.remove('translate-x-full');
        }, 100);
        
        // Auto remove after 3 seconds
        setTimeout(() => {
            notification.classList.add('translate-x-full');
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 300);
        }, 3000);
    }

    // Journal Entry Management
    function loadJournalEntries() {
        const entriesList = document.getElementById('journal-history-list');
        if (entriesList) {
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            
            if (entries.length === 0) {
                entriesList.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-16 h-16 bg-light-green/20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-forest-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-charcoal mb-2">No entries yet</h3>
                        <p class="text-charcoal/70">Start writing to see your entries here</p>
                    </div>
                `;
            } else {
                entriesList.innerHTML = entries.map(entry => `
                    <div class="bg-white/80 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300">
                        <div class="flex items-start justify-between mb-3">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">${entry.mood || 'ðŸ˜Š'}</span>
                                <div>
                                    <div class="text-sm font-semibold text-charcoal">${entry.date}</div>
                                    <div class="text-xs text-charcoal/60">${entry.wordCount || entry.text.split(/\s+/).length} words</div>
                                </div>
                            </div>
                            <button onclick="deleteJournalEntry(${entry.id})" class="text-charcoal/40 hover:text-red-500 transition-colors p-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="text-charcoal whitespace-pre-wrap leading-relaxed">${entry.text}</div>
                    </div>
                `).join('');
            }
        }
    }

    // Enhanced Journal Features
    function setupEnhancedJournalFeatures() {
        // Mood selection functionality
        const moodBtns = document.querySelectorAll('.mood-btn');
        moodBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove selected class from all buttons
                moodBtns.forEach(b => b.classList.remove('selected', 'border-forest-green', 'bg-forest-green/10'));
                // Add selected class to clicked button
                btn.classList.add('selected', 'border-forest-green', 'bg-forest-green/10');
            });
        });
        
        // Auto-save functionality
        const entryText = document.getElementById('journal-entry');
        if (entryText) {
            // Auto-save every 30 seconds
            setInterval(() => {
                if (entryText.value.trim()) {
                    localStorage.setItem('journal-draft', entryText.value);
                }
            }, 30000);
            
            // Auto-save on input
            entryText.addEventListener('input', () => {
                localStorage.setItem('journal-draft', entryText.value);
            });
        }
        
        // Enhanced save functionality
        const saveBtn = document.getElementById('journal-save-btn');
        if (saveBtn) {
            saveBtn.addEventListener('click', () => {
                const entryText = document.getElementById('journal-entry');
                if (entryText && entryText.value.trim()) {
                    const selectedMood = document.querySelector('.mood-btn.selected');
                    const mood = selectedMood ? selectedMood.dataset.mood : 'ðŸ˜Š';
                    
                    const entry = {
                        id: Date.now(),
                        text: entryText.value.trim(),
                        date: new Date().toLocaleString(),
                        timestamp: new Date().getTime(),
                        mood: mood,
                        wordCount: entryText.value.trim().split(/\s+/).length
                    };
                    
                    let entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
                    entries.unshift(entry);
                    localStorage.setItem('journalEntries', JSON.stringify(entries));
                    
                    // Clear textarea and draft
                    entryText.value = '';
                    localStorage.removeItem('journal-draft');
                    
                    // Clear mood selection
                    moodBtns.forEach(b => b.classList.remove('selected', 'border-forest-green', 'bg-forest-green/10'));
                    
                    // Hide save button
                    saveBtn.classList.add('hidden');
                    
                    // Show success message
                    showNotification('Entry saved successfully! âœï¸', 'success');
                    
                    // Reload entries
                    loadJournalEntries();
                }
            });
        }
    }

    </script>
    
    <!-- Workout Functionality -->
    <script>
        // Workout exercises
        const exercises = [
            { name: "Jumping Jacks", emoji: "ðŸ¤¸", description: "Jump up spreading legs and arms" },
            { name: "Wall Sit", emoji: "ðŸª‘", description: "Slide down wall, hold position" },
            { name: "Push-ups", emoji: "ðŸ’ª", description: "Lower and raise body using arms" },
            { name: "Abdominal Crunches", emoji: "ðŸ‹ï¸", description: "Lift shoulders off ground" },
            { name: "Step-ups", emoji: "ðŸªœ", description: "Step up onto chair or step" },
            { name: "Squats", emoji: "ðŸ¦µ", description: "Lower body as if sitting back" },
            { name: "Tricep Dips", emoji: "ðŸ’º", description: "Lower body using arms on chair" },
            { name: "Plank", emoji: "ðŸ“", description: "Hold push-up position straight" },
            { name: "High Knees", emoji: "ðŸƒ", description: "Run in place, bring knees up" },
            { name: "Lunges", emoji: "ðŸš¶", description: "Step forward, lower hips" },
            { name: "Push-up & Rotation", emoji: "ðŸ”„", description: "Do push-up, rotate to side" },
            { name: "Side Plank", emoji: "ðŸ“", description: "Hold side position on forearm" }
        ];
        
        let currentExercise = 0;
        let timeRemaining = 30;
        let isRunning = false;
        let timer = null;
        
        function updateDisplay() {
            const exercise = exercises[currentExercise];
            
            // Safely update elements - check if they exist first
            const emojiEl = document.getElementById('current-exercise-emoji');
            const nameEl = document.getElementById('current-exercise-name');
            const descEl = document.getElementById('current-exercise-description');
            const timerEl = document.getElementById('workout-timer-display');
            const progressEl = document.getElementById('workout-progress-text');
            const progressRing = document.getElementById('progress-ring');
            const exerciseList = document.getElementById('exercise-list');
            
            if (emojiEl) emojiEl.textContent = exercise.emoji;
            if (nameEl) nameEl.textContent = exercise.name;
            if (descEl) descEl.textContent = exercise.description;
            if (timerEl) timerEl.textContent = timeRemaining;
            if (progressEl) progressEl.textContent = `Exercise ${currentExercise + 1} of 12`;
            
            // Update exercise list
            if (exerciseList) {
                exerciseList.innerHTML = exercises.map((ex, index) => 
                    `<div class="text-center p-2 rounded ${index === currentExercise ? 'bg-forest-green/20' : 'bg-white/60'}">
                        <div class="text-lg">${ex.emoji}</div>
                        <div class="text-xs font-medium">${ex.name}</div>
                    </div>`
                ).join('');
            }
            
            // Update progress ring
            if (progressRing) {
                const progress = (timeRemaining / 30) * 339.292;
                progressRing.style.strokeDashoffset = progress;
            }
        }
        
        function startWorkout() {
            if (!isRunning) {
                isRunning = true;
                const startBtn = document.getElementById('workout-start-btn');
                const pauseBtn = document.getElementById('workout-pause-btn');
                if (startBtn) startBtn.classList.add('hidden');
                if (pauseBtn) pauseBtn.classList.remove('hidden');
                
                timer = setInterval(() => {
                    timeRemaining--;
                    updateDisplay();
                    
                    if (timeRemaining <= 0) {
                        clearInterval(timer);
                        isRunning = false;
                        
                        if (currentExercise < exercises.length - 1) {
                            currentExercise++;
                            timeRemaining = 30;
                            updateDisplay();
                            setTimeout(() => startWorkout(), 1000);
                        } else {
                            alert('Workout complete! Great job!');
                            resetWorkout();
                        }
                    }
                }, 1000);
            }
        }
        
        function pauseWorkout() {
            if (isRunning) {
                clearInterval(timer);
                isRunning = false;
                const startBtn = document.getElementById('workout-start-btn');
                const pauseBtn = document.getElementById('workout-pause-btn');
                if (startBtn) startBtn.classList.remove('hidden');
                if (pauseBtn) pauseBtn.classList.add('hidden');
            }
        }
        
        function resetWorkout() {
            clearInterval(timer);
            isRunning = false;
            currentExercise = 0;
            timeRemaining = 30;
            updateDisplay();
            const startBtn = document.getElementById('workout-start-btn');
            const pauseBtn = document.getElementById('workout-pause-btn');
            if (startBtn) startBtn.classList.remove('hidden');
            if (pauseBtn) pauseBtn.classList.add('hidden');
        }
        
        function prevExercise() {
            if (currentExercise > 0) {
                currentExercise--;
                timeRemaining = 30;
                updateDisplay();
            }
        }
        
        function nextExercise() {
            if (currentExercise < exercises.length - 1) {
                currentExercise++;
                timeRemaining = 30;
                updateDisplay();
            }
        }
        
        // Initialize workout page
        function initWorkout() {
            updateDisplay();
            
            const startBtn = document.getElementById('workout-start-btn');
            const pauseBtn = document.getElementById('workout-pause-btn');
            const resetBtn = document.getElementById('workout-reset-btn');
            const prevBtn = document.getElementById('prev-exercise-btn');
            const nextBtn = document.getElementById('next-exercise-btn');
            
            if (startBtn) startBtn.addEventListener('click', startWorkout);
            if (pauseBtn) pauseBtn.addEventListener('click', pauseWorkout);
            if (resetBtn) resetBtn.addEventListener('click', resetWorkout);
            if (prevBtn) prevBtn.addEventListener('click', prevExercise);
            if (nextBtn) nextBtn.addEventListener('click', nextExercise);
        }
        
        // Workout initialization is handled by the navigation system
        // when the workout page is actually loaded
    </script>
</body>
</html>
